var jHC=function(){function a(a){return null==a?String(a):W[X.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&a.__proto__==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||J[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=I(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return b===w?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I=F.defaultView.getComputedStyle,J={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},K=/^\s*<(\w+|!)[^>]*>/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=F.createElement("table"),Q=F.createElement("tr"),R={tr:F.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":F.createElement("div")},S=/complete|loaded|interactive/,T=/^\.([\w-]+)$/,U=/^#([\w-]*)$/,V=/^[\w-]+$/,W={},X=W.toString,Y={},Z=F.createElement("div");return Y.matches=function(a,b){if(!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Z).appendChild(a),d=~Y.qsa(e,b).indexOf(a),f&&Z.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},Y.fragment=function(a,b,c){a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=K.test(a)&&RegExp.$1),b in R||(b="*");var d,e,g=R[b];return g.innerHTML=""+a,e=y.each(D.call(g.childNodes),function(){g.removeChild(this)}),f(c)&&(d=y(e),y.each(c,function(a,b){N.indexOf(a)>-1?d[a](b):d.attr(a,b)})),e},Y.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},Y.isZ=function(a){return a instanceof Y.Z},Y.init=function(a,c){if(a){if(b(a))return y(F).ready(a);if(Y.isZ(a))return a;var d;if(g(a))d=i(a);else if(e(a))d=[f(a)?y.extend({},a):a],a=null;else if(K.test(a))d=Y.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=Y.qsa(F,a)}return Y.Z(d,a)}return Y.Z()},y=function(a,b){return Y.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},Y.qsa=function(a,b){var c;return d(a)&&U.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(T.test(b)?a.getElementsByClassName(RegExp.$1):V.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return a.trim()},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;try{if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a}catch(e){}return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return S.test(F.readyState)?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){var b={};try{this.forEach(function(c,d){if(a.call(c,d,c)===!1)throw b})}catch(c){if(c!=b)throw c}return this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return Y.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&Y.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(Y.qsa(this[0],a)):this.map(function(){return Y.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:Y.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==I(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return a===w?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return a===w?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+k(a),b);return null!==c?u(c):w},val:function(a){return a===w?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(a){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2&&"string"==typeof b)return this[0]&&(this[0].style[A(b)]||I(this[0],"").getPropertyValue(b));var d="";if("string"==a(b))c||0===c?d=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?d+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+d})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return C.some.call(this,function(a){return this.test(t(a))},l(a))},addClass:function(a){return this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))})},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),void t(this,z.trim()))})},toggleClass:function(a,b){return this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){y.fn[a]=function(b){var e,f=this[0],g=a.replace(/./,function(a){return a[0].toUpperCase()});return b===w?c(f)?f["inner"+g]:d(f)?f.documentElement["offset"+g]:(e=this.offset())&&e[a]:this.each(function(c){f=y(this),f.css(a,r(this,b,c,f[a]()))})}}),O.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:Y.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),Y.Z.prototype=y.fn,Y.uniq=B,Y.deserializeValue=u,y.zepto=Y,y}();window.jHC=jHC,function(a){function b(a){return a._zid||(a._zid=n++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(m[b(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||h.test(a.ns))&&(!f||b(a.fn)===b(f))&&(!g||a.sel==g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(b,c,d){"string"!=a.type(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function g(a,b){return a.del&&("focus"==a.e||"blur"==a.e)||!!b}function h(a){return p[a]||a}function i(c,e,i,j,k,l){var n=b(c),o=m[n]||(m[n]=[]);f(e,i,function(b,e){var f=d(b);f.fn=e,f.sel=j,f.e in p&&(e=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?f.fn.apply(this,arguments):void 0}),f.del=k&&k(e,b);var i=f.del||e;f.proxy=function(a){var b=i.apply(c,[a].concat(a.data));return b===!1&&(a.preventDefault(),a.stopPropagation()),b},f.i=o.length,o.push(f),c.addEventListener(h(f.e),f.proxy,g(f,l))})}function j(a,d,e,i,j){var k=b(a);f(d||"",e,function(b,d){c(a,b,d,i).forEach(function(b){delete m[k][b.i],a.removeEventListener(h(b.e),b.proxy,g(b,j))})})}function k(b){var c,d={originalEvent:b};for(c in b)s.test(c)||void 0===b[c]||(d[c]=b[c]);return a.each(t,function(a,c){d[a]=function(){return this[c]=q,b[a].apply(b,arguments)},d[c]=r}),d}function l(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var m=(a.zepto.qsa,{}),n=1,o={},p={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",a.event={add:i,remove:j},a.proxy=function(c,d){if(a.isFunction(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if("string"==typeof d)return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){i(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){j(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){i(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return j(d,b,a),c}})})};var q=function(){return!0},r=function(){return!1},s=/^([A-Z]|layer[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){return this.each(function(e,f){i(f,c,d,b,function(c){return function(d){var e,g=a(d.target).closest(b,f).get(0);return g?(e=a.extend(k(d),{currentTarget:g,liveFired:f}),c.apply(g,[e].concat([].slice.call(arguments,1)))):void 0}})})},a.fn.undelegate=function(a,b,c){return this.each(function(){j(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return!c||a.isFunction(c)?this.bind(b,c||d):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return!c||a.isFunction(c)?this.unbind(b,c||d):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return("string"==typeof b||a.isPlainObject(b))&&(b=a.Event(b)),l(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k("string"==typeof b?a.Event(b):b),e.data=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){"string"!=typeof a&&(b=a,a=b.type);var c=document.createEvent(o[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c.isDefaultPrevented=function(){return this.defaultPrevented},c}}(jHC),function(a){a.fn.serializeArray=function(){var b,c,d=[],e=function(a){return a.forEach?a.forEach(e):void d.push({name:b,value:a})};return this[0]&&a.each(this[0].elements,function(d,f){c=f.type,b=f.name,b&&"fieldset"!=f.nodeName.toLowerCase()&&!f.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&"file"!=c&&("radio"!=c&&"checkbox"!=c||f.checked)&&e(a(f).val())}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(0 in arguments)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(jHC),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/,z=s.createElement("a");z.href=window.location.href,a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c,e,i=a.extend({},b||{}),n=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===i[p]&&(i[p]=a.ajaxSettings[p]);d(i),i.crossDomain||(c=s.createElement("a"),c.href=i.url,c.href=c.href,i.crossDomain=z.protocol+"//"+z.host!=c.protocol+"//"+c.host),i.url||(i.url=window.location.toString()),(e=i.url.indexOf("#"))>-1&&(i.url=i.url.slice(0,e)),m(i);var o=i.dataType,r=/\?.+=\?/.test(i.url);if(r&&(o="jsonp"),i.cache!==!1&&(b&&b.cache===!0||"script"!=o&&"jsonp"!=o)||(i.url=l(i.url,"_="+Date.now())),"jsonp"==o)return r||(i.url=l(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),a.ajaxJSONP(i,n);var t,u=i.accepts[o],v={},w=function(a,b){v[a.toLowerCase()]=[a,b]},x=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,A=i.xhr(),B=A.setRequestHeader;if(n&&n.promise(A),i.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",u||"*/*"),(u=i.mimeType||u)&&(u.indexOf(",")>-1&&(u=u.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(u)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&w("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(q in i.headers)w(q,i.headers[q]);if(A.setRequestHeader=w,A.onreadystatechange=function(){if(4==A.readyState){A.onreadystatechange=j,clearTimeout(t);var b,c=!1;if(A.status>=200&&A.status<300||304==A.status||0==A.status&&"file:"==x){o=o||k(i.mimeType||A.getResponseHeader("content-type")),b=A.responseText;try{"script"==o?(1,eval)(b):"xml"==o?b=A.responseXML:"json"==o&&(b=y.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?h(c,"parsererror",A,i,n):g(b,A,i,n)}else h(A.statusText||null,A.status?"error":"abort",A,i,n)}},f(A,i)===!1)return A.abort(),h(null,"abort",A,i,n),A;var C="async"in i?i.async:!0;if(A.open(i.type,i.url,C,i.username,i.password),i.xhrFields)for(q in i.xhrFields)A[q]=i.xhrFields[q];for(q in v)B.apply(A,v[q]);return i.timeout>0&&(t=setTimeout(function(){A.onreadystatechange=j,A.abort(),h(null,"timeout",A,i,n)},i.timeout)),A.send(i.data?i.data:null),A},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var A=encodeURIComponent;a.param=function(b,c){var d=[];return d.add=function(b,c){a.isFunction(c)&&(c=c()),null==c&&(c=""),this.push(A(b)+"="+A(c))},o(d,b,c),d.join("&").replace(/%20/g,"+")}}(jHC),function(){"use strict";function a(){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},b=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(b,function(b){return a[b]||b}):this}}function b(a,c,d){return("string"==typeof c?c:c.toString()).replace(a.define||f,function(b,c,e,f){return 0===c.indexOf("def.")&&(c=c.substring(4)),c in d||(":"===e?(a.defineParams&&f.replace(a.defineParams,function(a,b,e){d[c]={arg:b,text:e}}),c in d||(d[c]=f)):new Function("def","def['"+c+"']="+f)(d)),""}).replace(a.use||f,function(c,e){a.useParams&&(e=e.replace(a.useParams,function(a,b,c,e){if(d[c]&&d[c].arg&&e){var f=(c+":"+e).replace(/'|\\/g,"_");return d.__exp=d.__exp||{},d.__exp[f]=d[c].text.replace(new RegExp("(^|[^\\w$])"+d[c].arg+"([^\\w$])","g"),"$1"+e+"$2"),b+"def.__exp['"+f+"']"}}));var f=new Function("def","return "+e)(d);return f?b(a,f,d):f})}function c(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var d={version:"1.0.0",templates:{},templateSettings:{include:/\{\{include ([\s\S]+?\}?)\}\}/g,locale:/\{\{t ([\s\S]+?\}?)\}\}/g,evaluate:/\{\{([\s\S]+?\}?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};window.HCdoT=d,String.prototype.encodeHTML=a();var e={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},f=/$^/;d.tmpl=function(a,b,c,e){var f=d.template(b,c,e);return d.templates[a]=f,f},d.template=function(g,h,i){h=h||d.templateSettings;var j,k,l=h.append?e.append:e.split,m=0,n=h.use||h.define?b(h,g,i||{}):g;n=("var out='"+(h.strip?n.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):n).replace(/'|\\/g,"\\$&").replace(h.include||f,function(a,b){return l.start+"HCdoT.templates["+b+"](it)"+l.end}).replace(h.locale||f,function(a,b){return l.start+"HC._("+b+") || "+b+l.end}).replace(h.interpolate||f,function(a,b){return l.start+c(b)+l.end}).replace(h.encode||f,function(a,b){return j=!0,l.start+c(b)+l.endencode}).replace(h.conditional||f,function(a,b,d){return b?d?"';}else if("+c(d)+"){out+='":"';}else{out+='":d?"';if("+c(d)+"){out+='":"';}out+='"}).replace(h.iterate||f,function(a,b,d,e){return b?(m+=1,k=e||"i"+m,b=c(b),"';var arr"+m+"="+b+";if(arr"+m+"){var "+d+","+k+"=-1,l"+m+"=arr"+m+".length-1;while("+k+"<l"+m+"){"+d+"=arr"+m+"["+k+"+=1];out+='"):"';} } out+='"}).replace(h.evaluate||f,function(a,b){return"';"+c(b)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),j&&h.selfcontained&&(n="String.prototype.encodeHTML=("+a.toString()+"());"+n);try{return new Function(h.varname,n)}catch(o){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+n),o}},d.compile=function(a,b){return d.template(a,null,b)}}(),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.6.0";var y=x.each=x.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,x.property(b))},x.where=function(a,b){return x.filter(a,x.matches(b))},x.findWhere=function(a,b){return x.find(a,x.matches(b))},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-(1/0),e=-(1/0);return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return null==a?x.identity:x.isFunction(a)?a:x.property(a)};x.sortBy=function(a,b,c){return b=B(b),x.pluck(x.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={};return c=B(c),y(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};x.groupBy=C(function(a,b,c){x.has(a,b)?a[b].push(c):a[b]=[c]}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.partition=function(a,b,c){b=B(b);var d=[],e=[];return y(a,function(a){(b.call(c,a)?d:e).push(a)}),[d,e]},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.contains(b,a)})});
},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===x&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:x.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=x.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=x.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=x.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return x.partial(b,a)},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=function(a){if(!x.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.constant=function(a){return function(){return a}},x.property=function(a){return function(b){return b[a]}},x.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},x.now=Date.now||function(){return(new Date).getTime()};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x}),window.underscoreHC=x.noConflict()}.call(this),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b.underscoreHC;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),b._attrs||(b._attrs=d),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},z(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,c=h.extend({validate:!0},c),d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},z(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;z(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||y();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,h.extend(b,{validationError:c})),!1):!0}});var o=["keys","values","pairs","invert","pick","omit"];h.each(o,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var p=a.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))},q={add:!0,remove:!0,merge:!0},r={add:!0,remove:!1};h.extend(p.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.extend({merge:!1},b,r))},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=h.defaults({},b,q),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k,l=b.at,m=this.comparator&&null==l&&b.sort!==!1,n=h.isString(this.comparator)?this.comparator:null,o=[],p=[],r={},s=b.add,t=b.merge,u=b.remove,v=!m&&s&&u?[]:!1;for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(i=a[c],b))&&((j=this.get(f))?(u&&(r[j.cid]=!0),t&&(i=i===f?f.attributes:b._attrs,j.set(i,b),m&&!k&&j.hasChanged(n)&&(k=!0))):s&&(o.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)),v&&v.push(j||f),delete b._attrs);if(u){for(c=0,d=this.length;d>c;++c)r[(f=this.models[c]).cid]||p.push(f);p.length&&this.remove(p,b)}if((o.length||v&&v.length)&&(m&&(k=!0),this.length+=o.length,null!=l?g.apply(this.models,[l,0].concat(o)):(v&&(this.models.length=0),e.apply(this.models,v||o))),k&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=o.length;d>c;c++)(f=o[c]).trigger("add",f,this,b);return(k||v&&v.length)&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return f.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},z(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,b,e){e.wait&&c.add(a,e),d&&d(a,b,e)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c.validationError?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var s=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(s,function(a){p.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var t=["groupBy","countBy","sortBy"];h.each(t,function(a){p.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var u=a.View=function(a){this.cid=h.uniqueId("view"),a||(a={}),h.extend(this,h.pick(a,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},v=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];h.extend(u.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(v),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var x=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=p.extend=u.extend=x;var y=function(){throw new Error('A "url" property or function must be specified')},z=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};window.BackboneHC=a.noConflict(),window.BackboneHC.$=this.jHC}.call(this),function(a,b){"use strict";b.call(a,a.underscoreHC,a.BackboneHC)}(window,function(a,b){"use strict";var c=function(b,c){return b&&b[c]?a.isFunction(b[c])?b[c]():b[c]:null},d=/^(\S+)\s*(.*)$/;return a.extend(b.View.prototype,{isTouch:this.document&&"ontouchstart"in this.document&&!("callPhantom"in this),delegateEvents:function(b){if(b||(b=c(this,"events"))){this.undelegateEvents();var e=".delegateEvents"+this.cid;a(b).each(function(c,f){if(a.isFunction(c)||(c=this[b[f]]),!c)throw new Error('Method "'+b[f]+'" does not exist');var g=f.match(d),h=g[1],i=g[2];c=a.bind(c,this),this._useTouchHandlers(h,i)&&!this._fixChrome()?this.$el.on("touchend"+e,i,c):(h+=e,""===i?this.$el.on(h,c):this.$el.on(h,i,c))},this)}},_useTouchHandlers:function(a,b){return this.isTouch&&"click"===a},_fixChrome:function(){return-1==navigator.userAgent.toLowerCase().indexOf("chrome")?!1:!0}}),b}),function(a,b,c){a.HC=function(a){var b=this;b.config=c.extend({},HC.default_config,a),HC.FRONT_SERVERS=HC.CLUSTERS[HC.WS.cluster||HC.DEFCLUSTER],b.config.default_avatar&&(HC.userDefAvatar=b.config.default_avatar),b.on=function(a,c){"function"==typeof c&&(a in b.events||(b.events[a]=[]),b.events[a].push(c))},b.call=function(){var a=Array.prototype.slice.call(arguments),c=a.shift();if(c in b.events)for(var d=0;d<b.events[c].length;d++)b.events[c][d].apply({},a)},b.events={},b.m={},b.v={},b.c={},c(".hc-link").remove()}}(this,this.BackboneHC,this.jHC),function(a){var b="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},c=function(){var a=/\blang(?:uage)?-(\w+)\b/i,c=0,d=b.PrismHC={util:{encode:function(a){return a instanceof e?new e(a.type,d.util.encode(a.content),a.alias):"Array"===d.util.type(a)?a.map(d.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},objId:function(a){return a.__id||Object.defineProperty(a,"__id",{value:++c}),a.__id},clone:function(a){var b=d.util.type(a);switch(b){case"Object":var c={};for(var e in a)a.hasOwnProperty(e)&&(c[e]=d.util.clone(a[e]));return c;case"Array":return a.map&&a.map(function(a){return d.util.clone(a)})}return a}},languages:{extend:function(a,b){var c=d.util.clone(d.languages[a]);for(var e in b)c[e]=b[e];return c},insertBefore:function(a,b,c,e){e=e||d.languages;var f=e[a];if(2==arguments.length){c=arguments[1];for(var g in c)c.hasOwnProperty(g)&&(f[g]=c[g]);return f}var h={};for(var i in f)if(f.hasOwnProperty(i)){if(i==b)for(var g in c)c.hasOwnProperty(g)&&(h[g]=c[g]);h[i]=f[i]}return d.languages.DFS(d.languages,function(b,c){c===e[a]&&b!=a&&(this[b]=h)}),e[a]=h},DFS:function(a,b,c,e){e=e||{};for(var f in a)a.hasOwnProperty(f)&&(b.call(a,f,a[f],c||f),"Object"!==d.util.type(a[f])||e[d.util.objId(a[f])]?"Array"!==d.util.type(a[f])||e[d.util.objId(a[f])]||(e[d.util.objId(a[f])]=!0,d.languages.DFS(a[f],b,f,e)):(e[d.util.objId(a[f])]=!0,d.languages.DFS(a[f],b,null,e)))}},plugins:{},highlightAll:function(a,b){var c={callback:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};d.hooks.run("before-highlightall",c);for(var e,f=c.elements||document.querySelectorAll(c.selector),g=0;e=f[g++];)d.highlightElement(e,a===!0,c.callback)},highlightElement:function(c,e,f){for(var g,h,i=c;i&&!a.test(i.className);)i=i.parentNode;i&&(g=(i.className.match(a)||[,""])[1].toLowerCase(),h=d.languages[g]),c.className=c.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=c.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var j=c.textContent,k={element:c,language:g,grammar:h,code:j};if(d.hooks.run("before-sanity-check",k),!k.code||!k.grammar)return void d.hooks.run("complete",k);if(d.hooks.run("before-highlight",k),e&&b.Worker){var l=new Worker(d.filename);l.onmessage=function(a){k.highlightedCode=a.data,d.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),d.hooks.run("after-highlight",k),d.hooks.run("complete",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else k.highlightedCode=d.highlight(k.code,k.grammar,k.language),d.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(c),d.hooks.run("after-highlight",k),d.hooks.run("complete",k)},highlight:function(a,b,c){var f=d.tokenize(a,b);return e.stringify(d.util.encode(f),c)},tokenize:function(a,b){var c=d.Token,e=[a],f=b.rest;if(f){for(var g in f)b[g]=f[g];delete b.rest}a:for(var g in b)if(b.hasOwnProperty(g)&&b[g]){var h=b[g];h="Array"===d.util.type(h)?h:[h];for(var i=0;i<h.length;++i){var j=h[i],k=j.inside,l=!!j.lookbehind,m=!!j.greedy,n=0,o=j.alias;j=j.pattern||j;for(var p=0;p<e.length;p++){var q=e[p];if(e.length>a.length)break a;if(!(q instanceof c)){j.lastIndex=0;var r=j.exec(q),s=1;if(!r&&m&&p!=e.length-1){var t=e[p+1].matchedStr||e[p+1],u=q+t;if(p<e.length-2&&(u+=e[p+2].matchedStr||e[p+2]),j.lastIndex=0,r=j.exec(u),!r)continue;var v=r.index+(l?r[1].length:0);if(v>=q.length)continue;var w=r.index+r[0].length,x=q.length+t.length;if(s=3,x>=w){if(e[p+1].greedy)continue;s=2,u=u.slice(0,x)}q=u}if(r){l&&(n=r[1].length);var v=r.index+n,r=r[0].slice(n),w=v+r.length,y=q.slice(0,v),z=q.slice(w),A=[p,s];y&&A.push(y);var B=new c(g,k?d.tokenize(r,k):r,o,r,m);A.push(B),z&&A.push(z),Array.prototype.splice.apply(e,A)}}}}}return e},hooks:{all:{},add:function(a,b){var c=d.hooks.all;c[a]=c[a]||[],c[a].push(b)},run:function(a,b){var c=d.hooks.all[a];if(c&&c.length)for(var e,f=0;e=c[f++];)e(b)}}},e=d.Token=function(a,b,c,d,e){this.type=a,this.content=b,this.alias=c,this.matchedStr=d||null,this.greedy=!!e};if(e.stringify=function(a,b,c){if("string"==typeof a)return a;if("Array"===d.util.type(a))return a.map(function(c){return e.stringify(c,b,a)}).join("");var f={type:a.type,content:e.stringify(a.content,b,c),tag:"span",classes:["token",a.type],attributes:{},language:b,parent:c};if("comment"==f.type&&(f.attributes.spellcheck="true"),a.alias){var g="Array"===d.util.type(a.alias)?a.alias:[a.alias];Array.prototype.push.apply(f.classes,g)}d.hooks.run("wrap",f);var h="";for(var i in f.attributes)h+=(h?" ":"")+i+'="'+(f.attributes[i]||"")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'" '+h+">"+f.content+"</"+f.tag+">"},!b.document)return b.addEventListener?(b.addEventListener("message",function(a){var c=JSON.parse(a.data),e=c.language,f=c.code,g=c.immediateClose;b.postMessage(d.highlight(f,d.languages[e],e)),g&&b.close()},!1),b.PrismHC):b.PrismHC;var f=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return f&&(d.filename=f.src,document.addEventListener&&!f.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",d.highlightAll)),b.PrismHC}();"undefined"!=typeof module&&module.exports&&(module.exports=c),"undefined"!=typeof global&&(global.PrismHC=c),c.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},c.hooks.add("before-highlight",function(a){a.element.innerHTML=a.element.innerHTML.replace(/<br\s*\/?>/g,"\n"),a.code=a.element.textContent.replace(/^(?:\r?\n|\r)/,"")}),a.Prism=c,b.PrismHC=null}(HC),function(a,b,c,d){c.View.prototype.render=function(b){var c={},e=d.isFunction(this.tpl)?this.tpl():this.tpl;if(this.model&&(c=this.model.toJSON()),b)for(var f in b)c[f]=b[f];return a.to_el(e,c,this),this},c.View.prototype.destroy=function(){this.undelegateEvents(),this.collection&&this.collection.off(),this.remove(),d.each(this.childViews,function(a){a.destroy&&a.destroy()})},b.getScript=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.src=a;var e=!1;return d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,b&&b(),d.onload=d.onreadystatechange=null)},void c.appendChild(d)}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.Fix={escape:function(a){var b=document.charset||document.characterSet;return-1!=navigator.userAgent.indexOf("MSIE")&&"utf-8"!=b.toLowerCase()?window.unescape(encodeURIComponent(a)):a},operaMobile:function(){if(-1!=window.navigator.userAgent.indexOf("Opera Mini")){b("body").append(b('<div id="hc_style_box"></div>')),b("#hc_style_box").html("<style>@media handheld {#hc_opera_mediainspector {z-index: 4}}</style>"),b("body").append(b('<div id="hc_opera_mediainspector"></div>'));var a,c=document.getElementById("hc_opera_mediainspector");if(c.currentStyle?a=c.currentStyle.zIndex:window.getComputedStyle&&(a=window.getComputedStyle(c,"").getPropertyValue("z-index")),b("#hc_opera_mediainspector").remove(),b("#hc_style_box").remove(),4==parseInt(a,10))return!0}return!1}}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a){a.Locale={get:function(b){return a.i18n[b]?a.i18n[b]:b},set:function(b){for(var c in b)a.i18n[c]=b[c]},keys:function(){
return a.i18n}},a._=function(b){return a.Locale.get(b)}}(HC),function(a,b,c,d){a.Utils={addZero:function(a){return 10>a?"0"+a:a},timeIso:function(a){var b=new Date(a).getTime(),c=this.addZero(new Date(b).getMonth()+1),d=new Date(b).getFullYear(),e=this.addZero(new Date(b).getDate()),f=this.addZero(new Date(b).getHours()),g=this.addZero(new Date(b).getMinutes()),h=this.addZero(new Date(b).getSeconds());return d+"-"+c+"-"+e+"T"+f+":"+g+":"+h},replaceStr:function(a,b){for(var c in b)a=a.replace(c,b[c]);return a},cssAnimate:function(a,b,c){setTimeout(function(){a.css(b),c&&c()},10)},unClick:function(a,c,d){var e;c=c||"hc_unclick",e=function(f){27==f.keyCode&&(a&&a(),b("body").off("click touchend",e)),b(f.target).hasClass(c)||b(f.target).parents().hasClass(c)||d&&b(f.target).parents().hasClass(d)||(a&&a(),b("body").off("click touchend keydown",e))},b("body").on("click touchend keydown",e)},slideDown:function(a,b){var c;if(b)c=b;else{var d=a.find("div"),e=30;c=e*d.size()+5}a.css({opacity:1,height:c,visibility:"visible"}),a.attr("visible",!0)},slideUp:function(a){a.css({opacity:0,height:0,visibility:"hidden"}),a.removeAttr("visible")},guestAvatar:function(){if(a.userDefAvatar)return a.userDefAvatar;var b=a.CDN_HOST+"/data/avatars/0/avatar";return b},Gravatar:function(b){if(b){var c="https:"==a.PROTOCOL?"https://secure.gravatar.com":"http://www.gravatar.com",d=a.DEFAULT_AVATAR==a.CDN_HOST+"/data/avatars/0/avatar"?a.DEFAULT_AVATAR+".jpg":a.DEFAULT_AVATAR;return c+"/avatar/"+b+"?d="+d}return a.DEFAULT_AVATAR},popup:function(a,b,c,d,e){var f=(640-a)/2,g=(480-b)/2;screen&&(g=(screen.availHeight-b)/2,f=(screen.availWidth-a)/2);var h=window.open(d,c,"menubar=0,location=0,toolbar=0,directories=0,scrollbars=0,status=0,resizable=0,width="+a+",height="+b+",screenX="+f+",screenY="+g+",top="+g+",left="+f);if(h.focus(),e)var i=setInterval(function(){(!h||h.closed)&&(clearInterval(i),e())},500)},validateEmail:function(a){var b=/([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,6})/gim;return b.test(a)},toStorage:function(a,b){this.isLocalStorageSupported()&&window.localStorage.setItem(a,b)},fromStorage:function(a){return this.isLocalStorageSupported()?window.localStorage.getItem(a):void 0},delStorage:function(a){return this.isLocalStorageSupported()?window.localStorage.removeItem(a):void 0},notify:function(c){var e=a.$tmpl("NotifyMes",{text:c}),f=function(){e.removeClass("hc__notify-open"),d.delay(function(){e.remove()},100)};b("body").append(e),d.delay(function(){e.addClass("hc__notify-open")},10),d.delay(function(){f()},5e3),e.find("[el=Close]").click(function(){f()}.bind(this))},isVis:function(a){return"none"!=a.css("display")&&"hidden"!=a.css("visibility")&&a.height()>0?!0:!1},scroll:function(a,b){var c=a.offset().top-200;this.scrollWorker(c),this.highlight(a),b&&b(a[0])},scrollWorker:function(a){var b=document.documentElement,c=document.body,d=window.pageYOffset||c.scrollTop||b.scrollTop,e=a-d,f=0,g=20,h=400,i=function(){f+=g;var a=Math.easeInOutQuad(f,d,e,h);window.scroll(0,a),h>f&&setTimeout(i,g)};Math.easeInOutQuad=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},i()},highlight:function(a){var b=a.find("[el=Comment]").first();d.delay(function(){b.addClass("hc__highlight")},50),d.delay(function(){b.removeClass("hc__highlight")},250),d.delay(function(){b.addClass("hc__highlight")},450),d.delay(function(){b.removeClass("hc__highlight")},2e3)},setCursorPos:function(a,b){if(a.setSelectionRange)a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},watchImg:function(c){var e,f,g,h,i,j,k=new Image,l=c.attr("src"),m=b(window).width(),n=b(window).height(),o=.15*m,p=.2*n,q=c.width(),r=c.height(),s=m-o,t=n-p;k.src=l,e=k.naturalWidth,f=k.naturalHeight,g=e/f,e>=m&&f>=n?g>=1?(h=s,i=h/g,i>n&&(i=t,h=i*g)):(i=t,h=i*g,h>m&&(h=s,i=h/g)):e>=m&&n>f?(h=s,i=h/g):m>e&&f>=n?(i=t,h=i*g):g>=1?(h=o>m-e?e-o:e,i=h/g):(i=p>n-f?f-p:f,h=i*g),j=a.$tmpl("ImgOpen",{src:l,left:c.offset().left,top:c.offset().top-b(window).scrollTop(),ww:q,hh:r,w:h,h:i}),b("body").append(j),d.delay(function(){j.attr("active",!0),j.find("[el=Wrap]").css({left:(m-h)/2,top:(n-i)/2}),j.find("img").css({width:h,height:i})}.bind(this),10);var u=function(a){a.keyCode&&27!=a.keyCode||(this.closeImg(),b("body").off("click keydown",u))}.bind(this);d.delay(function(){b("body").on("click keydown",u)},500)},closeImg:function(){var a=b(".e__hc__popup"),c=a.data("x"),e=a.data("y"),f=a.data("w"),g=a.data("h"),h=a.data("ww"),i=a.data("hh");a.find("img").css({width:f+50,height:g+50}),d.delay(function(){a.removeAttr("active"),a.find("[el=Wrap]").css({left:c,top:e}),a.find("img").css({width:h,height:i})},200),d.delay(function(){a.remove()},400)},watchMedia:function(b){var c=b.data("href").replace("/edit","/embed").replace("/pub","/embed").replace("/view","/embed"),d=a.tmpl("VideoIframe",{href:c});b.html(d)},typing:function(a){var b=a.comment_length;if(b){var c=a.form.val().length,d=b-c;a.counter.text(d),10>=d?a.counter.attr("state","warn2"):20>=d?a.counter.attr("state","warn1"):a.counter.removeAttr("state"),0>d?a.btn.attr("disabled",!0):a.btn.removeAttr("disabled")}},byteCount:function(a){return encodeURI(a).split(/%..|./).length-1},youtubeMesCount:function(a,b,c){var d=a.$("#mrc-"+c);if(d){var e=b.where({root_id:c,state:1}).length;d.text(e)}},bbCodeToHtml:function(a){var b=/\[b\](.*?)\[\/b\]/gi,c=/\[u\](.*?)\[\/u\]/gi,d=/\[i\](.*?)\[\/i\]/gi,e=/\[s\](.*?)\[\/s\]/gi,f=/\[q\](.*?)\[\/q\]/gi,g=/\[code\](.*?)\[\/code\]/gi;return a=a.replace(g,'<pre class="hcc hc__code"><code class="hcc hc__code language-clike">$1</code></pre>').replace(b,'<b class="hcc">$1</b>').replace(c,'<u class="hcc">$1</u>').replace(e,'<s class="hcc">$1</s>').replace(f,'<q class="hcc">$1</q>').replace(d,'<i class="hcc">$1</i>')},bbCodeRemove:function(a){var b=/\[b\]/gi,c=/\[u\]/gi,d=/\[i\]/gi,e=/\[s\]/gi,f=/\[q\]/gi,g=/\[code\]/gi,h=/\[\/b\]/gi,i=/\[\/u\]/gi,j=/\[\/i\]/gi,k=/\[\/s\]/gi,l=/\[\/q\]/gi,m=/\[\/code\]/gi;return a=a.replace(g,"").replace(b,"").replace(c,"").replace(d,"").replace(e,"").replace(f,"").replace(m,"").replace(h,"").replace(i,"").replace(j,"").replace(k,"").replace(l,"")},formattingPartText:function(a,b){var c=["code","b","u","i"];return d.each(c,function(c){-1!=a.indexOf("["+c+"]")&&-1==a.indexOf("[/"+c+"]")&&-1==b.indexOf("["+c+"]")&&-1!=b.indexOf("[/"+c+"]")&&(a+="[/"+c+"]",b="["+c+"]"+b)}),[a,b]},codePrism:function(b){b.find("code").map(function(){a.Prism.highlightElement(this)})},isLocalStorageSupported:function(){var a="testHCLS",b=window.sessionStorage;try{return b.setItem(a,"1"),b.removeItem(a),!0}catch(c){return!1}}}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.Socket=function(e,f){d.extend(this,c.Events);var g=this,h=null,i=0,j=0,k=0,l=!1,m=["websocket","cors","longpolling"];g.token=null,g.settings=b.extend({driver:"websocket",xid:"",autoreconnect:!0,cache:!1,path:"/stream/subscribe",stream_id:"",widget_id:"",auth:""},f),this.server=new a.Socket.Server(g.settings.xid,a.FRONT_SERVERS),a._GET.hc_socket&&(g.settings.driver=a._GET.hc_socket,g.settings.cache=!1,g.setCache("hc_socket",a._GET.hc_socket)),this.SOCKET_OPEN=!1,this.HARD_CLOSE=!1,this.BREAK_CONNECT=!1;var n;this.timeout=function(a){if(1!=i){if(n&&clearTimeout(n),h&&h.close(),"longpolling"!=g.settings.driver){k++;var b=k>2?0:k,c=m[b];g.setCache("hc_socket",c),g.settings.driver=c}g.connect()}},this.connect=function(){if(this.BREAK_CONNECT)return void(this.BREAK_CONNECT=!1);i=0,n&&clearTimeout(n),n=setTimeout(g.timeout,8e3),h=g.getSocket();var a=h.connect(function(a){i=1,clearTimeout(n),g.SOCKET_OPEN=!0,g.HARD_CLOSE=!1,g.onopen&&g.onopen(),g.trigger("socket:open")},s,r,g.token);a||g.timeout()},this.send=function(b){1==i&&(a.log("[WRITE] ",b),h.send(b),p())},this.api=function(b,c,d,e){var f=a.PROTOCOL+"//"+g.server.get()+"/api"+b;if("XMLHttpRequest"in window){var h=new XMLHttpRequest;"withCredentials"in h?this.api_cors(f,b,c,d,e):this.api_iframe(f,b,c,d,e)}else this.api_iframe(f,b,c,d,e)},this.api_cors=function(c,d,e,f,h){if(h=h||0,!(h>3)){var i={data:JSON.stringify(e),host:document.location.protocol+"//"+a.default_config.host};g.token&&(i.token=g.token),a.log("[API REQUEST] "+c,e),b.ajax({url:c,type:"POST",data:i,xhrFields:{withCredentials:!0},async:!0,cache:!1,complete:function(b,c){if(200==b.status||204==b.status){a.log("[API RESPONSE CORS] ",b.responseText);var i=JSON.parse(b.responseText);f&&f(i)}else{g.server.next();var j=g.server.sleep();setTimeout(function(){g.api(d,e,f,h+1)},j)}}})}},this.upload=function(b,c){this.api_iframe(a.ADM_API+"/upload","/upload",null,c,0,b)},this.api_iframe=function(c,d,e,f,h,i){var j,k,l,m=document.location.protocol+"//"+a.default_config.host,n=function(a,b,c){c||a.remove(),b.remove()};if(h=h||0,!(h>3)){a.log("[API REQUEST IFRAME] "+c,e),l="hc_api_iframe__"+(new Date).getTime()+a.autoId++,i?(j=i,j.attr("target",l),j.find('[name="uid"]').remove(),k=3e4):(j=b('<form target="'+l+'" action="'+c+'" method="POST" accept-charset="utf-8"></form>').css({position:"absolute",top:-1e3}),e&&b('<textarea name="data"></textarea>').val(JSON.stringify(e)).appendTo(j),g.token&&b('<input name="token"/>').val(g.token).appendTo(j),b('<input name="response_type"/>').val("postmessage").appendTo(j),b('<input name="host"/>').val(m).appendTo(j),k=800,j.appendTo("body")),b('<input name="uid"/>').val(l).appendTo(j);var o=b('<iframe id="'+l+'" name="'+l+'" src="about:blank"></iframe>').css({position:"absolute",top:-1e3});o.on("load",function(){setTimeout(function(){if(n(j,o,i),!q){g.server.next();var a=g.server.sleep();setTimeout(function(){g.api(d,e,f,h+1)},a)}},k)}),o.appendTo("body");var p,q=!1;p=function(b){a._GET.hc_postmessage&&a.log("[API POSTMESSAGE] ",b.data);var c=null,d=null;try{d=decodeURIComponent(b.data),c=JSON.parse(d)}catch(e){a._GET.hc_postmessage&&a.log("[API PARSE ERROR] ",d);try{d=window.unescape(b.data),c=JSON.parse(d)}catch(g){a._GET.hc_postmessage&&a.log("[API PARSE ERROR2] ",d)}}c&&c.uid==l&&(a._GET.hc_postmessage&&a.log("[API DELETE IFRAME] ",{}),q=!0,f&&f(c),n(j,o,i),window.removeEventListener?window.removeEventListener("message",p):window.detachEvent("onmessage",p),a.log("[API RESPONSE] ",d))},window.addEventListener?window.addEventListener("message",p,!1):window.attachEvent("onmessage",p),j.submit()}},this.close=function(a){a&&(g.HARD_CLOSE=!0),h?h.close(a):this.BREAK_CONNECT=!0};var o,p=function(){o&&clearTimeout(o),o=setTimeout(function(){h&&h.ping(),p()},5e4)},q=function(){i=1,a.log("[INIT] "+g.settings.driver),g.onopen&&g.onopen(),l=!0},r=function(){if(4!=i){if(g.settings.autoreconnect&&g.HARD_CLOSE===!1){i=4,g.server.next();var b;if(b=j>=a.FRONT_SERVERS.length?5e3:g.server.sleep(),setTimeout(g.connect,b),a.log("[CLOSED] next reconnect after "+b),j++,!l&&j>=a.FRONT_SERVERS.length){k++;var c=k>2?0:k,d=m[c];g.setCache("hc_socket",d),g.settings.driver=d,j=0}}else i=3,a.log("[CLOSED] socket "),g.SOCKET_OPEN=!1,g.onclose&&g.onclose();h&&(h=null)}},s=function(b){if("1"==b)return void a.log("[READ PONG] 1");if("0"==b)return a.log("[READ PING] 0"),void(h&&h.pong());if(a.log("[READ] ",b),"object"!=typeof b)try{b=JSON.parse(b)}catch(c){return}1!=i&&q(),g.onmessage&&g.onmessage(b),"packets"==b.cmd?d.each(b.data,function(a){g.trigger(a.cmd,a),e.call(a.cmd,a)},this):(g.trigger(b.cmd,b),e.call(b.cmd,b)),j=0,k=0,p()}},a.Socket.prototype.getSocket=function(b){var c=b||this.settings.driver;if(!c||!this.getCache("hc_socket")){if("WebSocket"in window||"MozWebSocket"in window)return this.setCache("hc_socket","websocket"),this.settings.driver="websocket",new a.Socket.WebSocket(this);if("XMLHttpRequest"in window){var d=new XMLHttpRequest;return"undefined"==typeof d.withCredentials?(this.setCache("hc_socket","longpolling"),this.settings.driver="longpolling",new a.Socket.JSONP(this)):(this.setCache("hc_socket","cors"),this.settings.driver="cors",new a.Socket.CORS(this))}return this.setCache("hc_socket","longpolling"),this.settings.driver="longpolling",new a.Socket.JSONP(this)}switch(c){case"websocket":return new a.Socket.WebSocket(this);case"longpolling":return new a.Socket.JSONP(this);case"cors":return new a.Socket.CORS(this)}this.settings.driver=c},a.Socket.prototype.setCache=function(b,c){a.Utils.isLocalStorageSupported()&&window.localStorage.setItem(b,c),this.settings.driver=c},a.Socket.prototype.getCache=function(b){return a.Utils.isLocalStorageSupported()?window.localStorage.getItem(b):null},a.Socket.prototype.getRequestUrl=function(b){var c=this.settings,d=this.getRequestHost(b);return d+=c.path+"?",d+="stream_id="+c.stream_id,d+="&widget_id="+c.widget_id,c.auth&&(d+="&auth="+encodeURIComponent(c.auth)),this.token&&(d+="&token="+encodeURIComponent(this.token)),d+="&_="+(new Date).getTime(),a.log("[CONNECT] driver - "+b+", url - "+d),d},a.Socket.prototype.getRequestHost=function(b){var c="";return c="websocket"==b?("https:"==a.PROTOCOL?"wss://":"ws://")+this.server.get():a.PROTOCOL+"//"+this.server.get()},a.Socket.WebSocket=function(b){var c,d="websocket";this.connect=function(a,e,f,g,h){if(!("WebSocket"in window||"MozWebSocket"in window))return!1;var i="WebSocket"in window?WebSocket:window.MozWebSocket;try{c=new i(b.getRequestUrl(d,g,h)),c.onopen=function(){a()},c.onmessage=function(a){e(a.data)},c.onclose=function(){f()},c.onerror=function(){b.setCache("hc_socket","cors"),b.settings.driver="cors"}}catch(j){b.setCache("hc_socket","cors"),b.settings.driver="cors"}return!0},this.ping=function(){c.send("0"),a.log("[SEND PING] 0")},this.pong=function(){c.send("1"),a.log("[SEND PONG] 1")},this.send=function(a){c&&c.send(a)},this.close=function(){c&&c.close(),a.log("[CLOSED] WebSocket client")}},a.Socket.JSONP=function(c){var d,e,f,g="jsonp",h=this,i=-1==c.getRequestUrl(g).indexOf("?")?c.getRequestUrl(g)+"?callback=?":c.getRequestUrl(g)+"&callback=?",j=!1;e=function(f,h,k,l){var m="Response_"+a.autoId++;window[m]=function(a){h(a)};var n={url:i,cache:!1,async:!0,jsonpCallback:m,dataType:"json",crossDomain:!0,complete:function(b){i=c.getRequestUrl(g)+"&callback=?",200==b.status||204==b.status?(window[m]=null,j||a._GET.hc_disable_rt||setTimeout(function(){e(f,h,k,c.token)},50)):(j=!0,k())}};try{d=b.ajax(n)}catch(o){j=!0,k()}},this.connect=function(a,b,c,d){return f=b,e(a,b,c,d),!0},this.send=function(d){var e="hc_jsonp_iframe_"+a.autoId++,h=b("<form></form>").attr("target",e).attr("action",c.getRequestHost(g)+"/stream/push").attr("method","POST").attr("accept-charset","utf-8").css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),i=b("<iframe></iframe>").attr("name",e).css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body");if(b("<textarea></textarea>").attr("name","data").val(d).appendTo(h),b("<input/>").attr("name","token").val(c.token).appendTo(h),a._GET.hc_disable_rt){b("<input/>").attr("name","response_type").val("postmessage").appendTo(h),b("<input/>").attr("name","uid").val(e).appendTo(h),b("<input/>").attr("name","host").val(document.location.protocol+"//"+a.default_config.host).appendTo(h);var j=function(a){try{var b=JSON.parse(a.data);if(!b)return;if(b.uid!=e)return;window.removeEventListener?window.removeEventListener("message",j):window.detachEvent("onmessage",j),f(b)}catch(c){}};window.addEventListener?window.addEventListener("message",j,!1):window.attachEvent("onmessage",j)}i.eq(0).onload=function(){h.remove(),i.remove()},h.eq(0).submit()},this.ping=function(){j||h.send("0"),a.log("[SEND PING] 0")},this.pong=function(){j||h.send("1"),a.log("[SEND PONG] 1")},this.close=function(){j=!0,d&&d.abort(),d=null,a.log("[CLOSED] JSONP client")}},a.Socket.CORS=function(c){var d,e,f="cors",g=!0,h=this;this.connect=function(a,h,i,j,k){var l;return l=function(){d=b.ajax({url:c.getRequestUrl(f,j,k),type:"GET",headers:{Accept:"text/long-polling"},xhrFields:{withCredentials:!0},async:!0,cache:!1,complete:function(b,c){200!=b.status&&204!=b.status||e?(e=!0,i()):(g&&a(f),g=!1,h(b.responseText),e||setTimeout(l,50))}})},l(),setTimeout(function(){g&&a(f),g=!1},1e3),!0},this.send=function(a){b.post(c.getRequestHost(f)+"/stream/push",{token:c.token,data:a})},this.close=function(){e=!0,d&&d.abort(),a.log("[CLOSED] CORS client")},this.ping=function(){e||h.send("0"),a.log("[SEND PING] 0")},this.pong=function(){e||h.send("1"),a.log("[SEND PONG] 1")}},a.Socket.Server=function(a,b){var c,d,e=[],f=[50,1e3,3e3],g=0,h=function(){c=a,d=k(c);for(var g=[];b.length;){var h=i(b,d);g.push({host:h,root:g.length?!1:!0,timers:f,countConnect:0,countConnectAll:0});for(var j=[],l=0;l<b.length;l++)b[l]!=h&&j.push(b[l]);b=j}e=g};this.get=function(){return e[g].host},this.sleep=function(){return 0===g&&e[g].countConnectAll>0?50:e[g].timers[e[g].countConnect]},this.next=function(){e[g].countConnect==f.length-1?(e[g].countConnect=0,g++,g>=e.length&&(g=0)):(e[g].countConnect++,e[g].countConnectAll++)};var i=function(a,b){var c=4294967296,d={},e=[],f=0,g=300,h=a.length;f=h*g;for(var i=Math.round(c/f),k=0,l=0;c>l;l+=i)a[k]&&(d[l]=a[k],e.push(l)),h-1>k?k++:k=0;var m=j(e,b);return d[m]},j=function(a,b){var c=a.length,d=!1,e=c-1;if(a[e]<=b&&a[0]>=b?d=b-a[e]<a[0]-b?a[e]:a[0]:a[e]<=b?d=a[e]:a[0]>=b&&(d=a[0]),!d){e=Math.floor((c-1)/2);for(var f=c-1-e;;){if(a[e]<=b&&b<=a[e+1]){Math.abs(b-a[e])<Math.abs(a[e+1]-b)?d=a[e]:(d=a[e+1],e+=1);break}f=Math.floor(f/2),f=f>0?f:1,b>a[e+1]?e+=f:e-=f}}var g=d;return g},k=function(a){for(var b,c=l(a),d=-1,e=m(),f=0,g=c.length;g>f;++f)b=255&(d^c[f]),d=d>>>8^e[b];return(-1^d)>>>0},l=function(a){for(var b,c=[],d=0,e=a.length;e>d;++d)b=a.charCodeAt(d),128>b?c.push(b):2048>b?c.push(b>>6|192,63&b|128):c.push(b>>12|224,b>>6&63|128,63&b|128);return c},m=function(){for(var a,b,c=[],d=0;256>d;++d){for(b=d,a=8;a--;)1==(1&b)?b=b>>>1^3988292384:b>>>=1;c[d]=b>>>0}return c};h()}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b){a.Smiles={emoji:{"":485,"":701,"":702,"":703,"":706,"":706,"":707,"":707,"":708,"":709,"":710,"":711,"":712,"":712,"":713,"":714,"":715,"":716,"":717,"":719,"":719,"":720,"":721,"":722,"":723,"":724,"":725,"":727,"":728,"":729,"":730,"":731,"":731,"":732,"":732,"":733,"":733,"":734,"":735,"":736,"":736,"":737,"":738,"":740,"":741,"":742,"":743,"":744,"":745,"":746,"":747,"":747,"":749,"":749,"":750,"":750,"":752,"":752,"":753,"":753,"":754,"":754,"":755,"":755,"":756,"":756},emojiId:function(){var a=[];for(var b in this.emoji)-1==a.indexOf(this.emoji[b])&&a.push(this.emoji[b]);return a},getUtf:function(a){return b.invert(this.emoji)[a]},utf2html:function(b,c){var d,e=[],f=this;for(var g in this.emoji)e.push(g);return d=new RegExp("("+e.join("|")+")","g"),b.replace(d,function(b,d){return c?"(:smiles"+f.emoji[d]+":)":a.tmpl("ItemSmile",{code:f.emoji[d]})})},code2utf:function(a){for(var b,c=/\(:smiles([0-9]+):\)/gi,d=a;null!==(b=c.exec(a));)d=d.replace(b[0],this.getUtf(+b[1]));return d}}}(HC,this.underscoreHC),function(a){function b(a){throw new RangeError(z[a])}function c(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function d(a,b){var d=a.split("@"),e="";d.length>1&&(e=d[0]+"@",a=d[1]),a=a.replace(y,".");var f=a.split("."),g=c(f,b).join(".");return e+g}function e(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function f(a){return c(a,function(a){var b="";return a>65535&&(a-=65536,b+=C(a>>>10&1023|55296),a=56320|1023&a),b+=C(a)}).join("")}function g(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:o}function h(a,b){return a+22+75*(26>a)-((0!==b)<<5)}function i(a,b,c){var d=0;for(a=c?B(a/s):a>>1,a+=B(a/b);a>A*q>>1;d+=o)a=B(a/A);return B(d+(A+1)*a/(a+r))}function j(a){var c,d,e,h,j,k,l,m,r,s,w=[],x=a.length,y=0,z=u,A=t;for(d=a.lastIndexOf(v),0>d&&(d=0),e=0;d>e;++e)a.charCodeAt(e)>=128&&b("not-basic"),w.push(a.charCodeAt(e));for(h=d>0?d+1:0;x>h;){for(j=y,k=1,l=o;h>=x&&b("invalid-input"),m=g(a.charCodeAt(h++)),(m>=o||m>B((n-y)/k))&&b("overflow"),y+=m*k,r=A>=l?p:l>=A+q?q:l-A,!(r>m);l+=o)s=o-r,k>B(n/s)&&b("overflow"),k*=s;c=w.length+1,A=i(y-j,c,0===j),B(y/c)>n-z&&b("overflow"),z+=B(y/c),y%=c,w.splice(y++,0,z)}return f(w)}function k(a){var c,d,f,g,j,k,l,m,r,s,w,x,y,z,A,D=[];for(a=e(a),x=a.length,c=u,d=0,j=t,k=0;x>k;++k)w=a[k],128>w&&D.push(C(w));for(f=g=D.length,g&&D.push(v);x>f;){for(l=n,k=0;x>k;++k)w=a[k],w>=c&&l>w&&(l=w);for(y=f+1,l-c>B((n-d)/y)&&b("overflow"),d+=(l-c)*y,c=l,k=0;x>k;++k)if(w=a[k],c>w&&++d>n&&b("overflow"),w==c){for(m=d,r=o;s=j>=r?p:r>=j+q?q:r-j,!(s>m);r+=o)A=m-s,z=o-s,D.push(C(h(s+A%z,0))),m=B(A/z);D.push(C(h(m,0))),j=i(d,y,f==g),d=0,++f}++d,++c}return D.join("")}function l(a){return d(a,function(a){return w.test(a)?j(a.slice(4).toLowerCase()):a})}function m(a){return d(a,function(a){return x.test(a)?"xn--"+k(a):a})}var n=2147483647,o=36,p=1,q=26,r=38,s=700,t=72,u=128,v="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=o-p,B=Math.floor,C=String.fromCharCode;a.punycode={version:"1.3.2",ucs2:{decode:e,encode:f},decode:j,encode:k,toASCII:m,toUnicode:l}}(this.HC),function(a){var b={getSelection:function(){var a=this[0];return("selectionStart"in a&&function(){var b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value.substr(a.selectionStart,b)}}||document.selection&&function(){a.focus();var b=document.selection.createRange();if(null===b)return{start:0,end:a.value.length,length:0};var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),{start:d.text.length,end:d.text.length+b.text.length,length:b.text.length,text:b.text}}||function(){return null})()},replaceSelection:function(){var b=this[0],c=arguments[0]||"";return("selectionStart"in b&&function(){return b.value=b.value.substr(0,b.selectionStart)+c+b.value.substr(b.selectionEnd,b.value.length),this}||document.selection&&function(){return b.focus(),document.selection.createRange().text=c,this}||function(){return b.value+=c,a(b)})()}};a.each(b,function(b){a.fn[b]=this})}(jHC),function(a,b){a.API=function(a){this.app=a,this.rootEl=b(a.config.append)},a.API.prototype={getEl:function(a,b){var c=this.rootEl.find("#hcm-"+a),d=["AvatarWrap","Nick","Text","Voting","ReplyForm"];return b?-1==d.indexOf(b)?null:c.find("[el="+b+"]").eq(0):c}}}(HC,this.jHC),function(a,b,c,d,e){c.BRUNCH_WIDGET=2,c.VERSION=null,c.PROTOCOL="https:"==b.location.protocol?"https:":"http:",c.HOST=c.PROTOCOL+"//www.hypercomments.com",c.ADM_HOST=c.PROTOCOL+"//admin.hypercomments.com",c.PROFILE_HOST=c.PROTOCOL+"//profile.hypercomments.com",c.CDN_HOST=c.PROTOCOL+"//static.hypercomments.com",c.ADM_API=c.PROTOCOL+"//c1api.hypercomments.com/admapi",c.DEFAULT_AVATAR=c.CDN_HOST+"/data/avatars/0/avatar",c.templates=[],c.WS={},c.instances=[],c.M={},c.V={},c.C={},c.DEBUG=a.HC_DEBUG||!1,c.TEST=a.HC_TEST||!1,c.DEV=a.HC_DEV||!1,c.LOAD_PLUGINS=!0,c.autoId=1,c._GET={},c.DEFCLUSTER="c1",c.CLUSTERS={c0:["c0n1.hypercomments.com","c0n2.hypercomments.com"],c1:["c1n1.hypercomments.com","c1n2.hypercomments.com","c1n3.hypercomments.com"]},c.default_config={code_params:a._hcwp,href:b.location.href,title:c.Fix.escape((b.title||"").slice(0,300)||void 0),host:c.punycode.toASCII(b.location.host),userAgent:navigator.userAgent,uid:0,filter:"new",CSS_READY:0,comments_level:4,realtime:!0,white_plans:[3,4,6]},c.log=function(b,d){if(c.DEBUG&&"console"in a&&"log"in console){"object"==typeof b&&(b=JSON.stringify(b));var e=new Date,f=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds();d?"object"==typeof d&&(d=JSON.stringify(d)):d="",console.log("["+f+"] "+b+" "+d)}},c.addCSS=function(a,d){var e=b.createElement("link");e.rel="stylesheet",e.type="text/css",e.media="screen",e.href=a;var f=!1,g=function(){f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,d&&d(),e.onload=e.onreadystatechange=null)};e.onload=e.onreadystatechange=g;var h=setInterval(function(){f&&clearInterval(h);for(var a=b.styleSheets,c=a.length;c--;){var d=a[c];e.href===d.href&&(clearInterval(h),g())}},500);return c.addFile(e),e},c.addFile=function(a){var c=b.getElementsByTagName("head")[0]||b.getElementsByTagName("body")[0];c.appendChild(a)},c.analytics=function(){d("#hc_analytics_frame").remove();var a=c.DIR+"html/analytics.html",b='<iframe id="hc_analytics_frame" src="'+a+'" style="position: absolute; height: 1px; width: 1px; top:-1000px; background-color: transparent;" scrolling="no" frameborder="0"></iframe>';d("body").append(b)},c.tmpl_parse=function(a,b){"object"==typeof a&&(a=a.data);var d,e=new RegExp('<t name="([a-zA-Z_-]*)"[^>]*>(.*?)</t>',"gi");a=a.replace(/[\r\t\n]/g,"").replace(/\s{2,}/g," ").replace(/>\s</g,"><");try{for(;null!==(d=e.exec(a));)HCdoT.tmpl(d[1],d[2])}catch(f){c.log("ERROR parse template")}"function"==typeof b&&b()},c.tmpl=function(a,b){return b=b||{},a in HCdoT.templates?HCdoT.templates[a](b):a},c.$tmpl=function(a,b){return d(c.tmpl(a,b))},c.to_el=function(a,b,e){var f=c.$tmpl(a,b);return f.find("[el]").map(function(){e[this.getAttribute("el")]=d(this)}),e.setElement(f),e},c.runProd=function(b){function f(){try{1==c.default_config.CSS_READY&&(b(),a.HCReady&&e.isFunction(a.HCReady)&&setTimeout(a.HCReady,0),clearInterval(l))}catch(d){clearInterval(l),c.log("[ERROR] load: ",d.message)}}var g=["index","blue","green","orange","pink","red","dark"],h=c.WS.template;-1==d.inArray(h,g)&&(h="index");var i=c.DIR+"css/"+h+".css";c.addCSS(i,function(){c.default_config.CSS_READY=1});for(var j=0,k=c.templates.length;k>j;j++)c.tmpl_parse(c.templates[j]);var l=setInterval(f,50);if("ar"==c.LANGUAGE){var m=c.DIR+"css/arabic.css";c.addCSS(m)}},c.prepare=function(a){c.DEV?c.runDevTest(a):c.runProd(a)},c.appInit=function(){if(!c.Fix.operaMobile()){c.DIR=c.CDN_HOST+"/widget/hc/"+c.BRUNCH_WIDGET+"/"+c.VERSION+"/",c.TEST&&c.setTest(),c.DEV&&c.setDev();var b=[];"_hcwp"in a&&(b=_hcwp.slice(),_hcwp=[]),"_hcp"in a&&(b.push(a._hcp),a._hcp=null),c.prepare(function(){for(var a=0;a<b.length;a++){var d,e=b[a];d="Bloggerstream"==e.widget?"Counter":e.widget,c.widget(d,e,"add")}})}},c.widget=function(a,b,d){if(!b.widget_id)return void c.log("[HC WARNING] widget_id is undefined");if(b.widget_id=parseInt(b.widget_id,10),b.widget_id){b.texts&&c.Locale.set(b.texts);var f=new c(b);f[a]&&(d||c.destroyLastWidget(a),f[a](),f.widget=a,f.instancesId=(new Date).getTime(),c.instances.push(f),e.isFunction(b.callback)&&b.callback(f,b))}},c.getWidget=function(a){for(var b=0,d=c.instances.length;d>b;b++)if(c.instances[b].widget==a)return c.instances[b];return!1},c.queryParams=function(a,b){var c,e,f={};for(c=a.substring("?"),c=c.replace("?",""),c=c.split("&"),e=0;e<c.length;e++){var g=c[e].split("=");b&&-1!=d.inArray(g[0],b)||(f[g[0]]=g[1])}return f},c.destroyLastWidget=function(a){function b(a){for(var b=c.instances.length-1;b>=0;b--){var d=c.instances[b];if(d.widget==a)return d}return null}var d=b(a);if(d){var e,f,g=d.config.xid,h=d.config.href;g?(e=g,f="xid"):(e=h,f="href"),c.destroy(e,f)}},c.destroy=function(a,b){var e,f;b||(b="xid");for(var g=0,h=c.instances.length;h>g;g++){var i=c.instances[g];if(i.config[b]==a){e=i,f=g;break}}return e?(e.IO.close("hard"),e.v.WStream&&e.v.WStream.destroy(),d(e.config.append).empty(),c.instances.splice(f,1),d("[data-hc-id]").removeAttr("data-hc-id"),d(".hc__ht").remove(),e.destroy(),void(e=null)):void c.log("[ERROR] Widget not found. Identifier: "+a)},a.location.search&&(c._GET=c.queryParams(a.location.search)),c._GET.hc_test&&(c.TEST=!0),c._GET.hc_dev&&(c.DEV=!0),c._GET.hc_debug&&(c.DEBUG=!0)}(this,this.document,this.HC,this.jHC,this.underscoreHC),function(a,b,c,d){a.Entities=function(b){var d=function(a,c){b.IO.send(JSON.stringify(a)),c&&c()};a.M.Base=c.Model.extend({send:d}),a.C.Base=c.Collection.extend({send:d}),new a.EntitiesSettings(b),new a.EntitiesComments(b),new a.EntitiesQuote(b),new a.EntitiesAccent(b)}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.prototype.Stream=function(){var c=this;a.isRender=!1,delete c.config.plan,c.config=d.extend({append:"#hypercomments_widget",auth_url:a.WS.wp_url},a.WS,c.config),c.config.default_filter=c.config.default_filter||"all",c.config.plan>=3&&c.config.css&&a.addCSS(c.config.css),c.config.virgin_mode&&(c.config.moder_positive_karma=c.config.virgin_mode),new a.Entities(c),new a.WStream(c),new a.WStreamCommentsTab(c),new a.WStreamCommentsItem(c),new a.WStreamModer(c),new a.WStreamForm(c),new a.WStreamAuth(c),new a.WStreamAttach(c),new a.WStreamLikes(c),new a.WStreamQuote(c),new a.WStreamIdent(c),c.API=new a.API(c),c.quote=function(d){var e=d.plugins,f=d.quote_disable;-1!=e.indexOf("quote")&&(f&&1==f||(a.LOAD_PLUGINS?a.Quote||b.getScript(a.DIR+"js/plugins/quote.js",function(){new a.Quote(c)}):new a.Quote(c)))},c.ht=function(d){var e=d.plugins,f=d.hc_disable;-1!=e.indexOf("hypercomments")&&(f&&1==f||(a.LOAD_PLUGINS?a.HyperText||b.getScript(a.DIR+"js/plugins/hypertext.js",function(){new a.HyperText(d,c)}):new a.HyperText(d,c)))},c.ident=function(b){b.identifier&&new a.V.Ident({settings:b})},c.oldBrowsers=function(d){a.LOAD_PLUGINS?b.getScript(a.DIR+"js/plugins/oldbrowsers.js",function(){new a.OldBrowsers(d,c)}):new a.OldBrowsers(d,c)},c.load=function(b,d,e,f,g){var h=b.get("xid"),i=b.get("href"),j=b.get("auth"),k={stream:"streamstart",widget_id:b.get("widget_id"),href:i,xid:h,auth:j,title:b.get("title"),limit:b.get("limit"),filter:b.get("default_filter"),reverse:b.get("reverse")};c.IO.api("/comments",k,function(h){d.userState(h.data[0]);var i;try{i=JSON.parse(h.data[1])}catch(j){i=h.data[1],a.log("[ERROR] parse stream info: ",j.message)}var k=i.comments;e.setParams(i),f.reset(k),c.call("streamInfo",i),c.IO.settings.stream_id=e.get("id"),c.IO.settings.widget_id=b.get("widget_id"),c.IO.settings.auth=b.get("auth"),g?g():c.IO.SOCKET_OPEN||c.IO.connect()})},c.start=function(){c.m.Settings||(c.m.Settings=new a.M.Settings(c.config),c.m.UserAuth=new a.M.UserAuth,c.m.StreamInfo=new a.M.StreamInfo),c.c.Comments=new a.C.CommentCollection,c.v.WStream=new a.V.WStream({model:c.m.Settings,auth:c.m.UserAuth,info:c.m.StreamInfo,collection:c.c.Comments}),b(c.config.append).html(c.v.WStream.$el),c.load(c.m.Settings,c.m.UserAuth,c.m.StreamInfo,c.c.Comments)};var e,f=function(){if(!a.isRender){var d=window.pageYOffset||document.documentElement.scrollTop,e=d+b(window).height()+200;b(c.config.append).size()&&e<b(c.config.append).offset().top&&-1==c.config.href.indexOf("hcm=")&&!c.config.eager_load||(a.isRender=!0,c.start())}};c.IO=new a.Socket(c),b.IEVestion&&b.IEVestion<9?c.oldBrowsers(c.config):(e=d.debounce(f,100),b(window).on("scroll",e),c.quote(c.config),c.ht(c.config),c.ident(c.config),f()),c.destroy=function(){b(window).off("scroll",e)}}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.prototype.Counter=function(){var c=this,e=c.config,f=b(e.selector);c.setCounters=function(){for(var d=[],g=[],h=0,i=f.length;i>h;h++){var j=b(f[h]),k=j.attr("data-xid"),l=j.attr("href");l&&(l=l.replace("https://","").replace("http://","").replace("www.","")),k&&k.length>0?g.push(k.toString()):l&&d.push(l)}c.IO=new a.Socket(c),d.length||g.length?c.IO.api("/get_count",{widget_id:e.widget_id,href:d,xids:g},c.onSuccess):c.onSuccess({data:[]})},c.onSuccess=function(g){c.call("getCounters",g);var h=g.data;d.each(f,function(c){var f,g=b(c).attr("data-xid"),i=b(c).attr("href"),j=0;if(f=g?d.find(h,function(a){return g==a.xid}):d.find(h,function(a){return-1!=i.indexOf(a.href)}),f&&(j=f.cm2-f.hc),!e.hide_zero||j>0)if(e.label){var k=e.label.replace("{%COUNT%}",j);b(c).html(k)}else b(c).html(a._("Comments").toLowerCase()+" ("+j+")")})},e.selector&&b(e.selector).size()>0&&c.setCounters()}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.prototype.Mixstream=function(){var c=this;c.config=b.extend({limit:5,
filter:"all",append:"#hypercomments_mix",formatting:a.WS.formatting},c.config),c.config.css&&a.addCSS(c.config.css),c.IO=new a.Socket(c),a.getWidget("Stream")||(new a.WStreamCommentsTab(c),new a.WStreamCommentsItem(c),new a.Entities(c)),new a.WMixStream(c),c.m.Settings=new a.M.Settings(c.config),c.v.MixView=new a.V.WMix({model:c.m.Settings}),b(c.config.append).html(c.v.MixView.$el)}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.EntitiesSettings=function(b){a.M.UserAuth=a.M.Base.extend({tokenTimer:null,initialize:function(){this.setStoreGuest(),b.IO.on("userState",this.userState,this),b.IO.on("token",this.token,this)},storeGuest:function(b,c){var d=[b,c];a.Utils.toStorage("hc_guest_user",JSON.stringify(d))},setStoreGuest:function(){var b=a.Utils.fromStorage("hc_guest_user");if(b){var c=JSON.parse(b);c&&c.length>0&&this.set({nick:c[0],email:c[1]})}},token:function(a){b.IO.token=a.token,this.set(a),this.tokenTimer&&clearInterval(this.tokenTimer),this.tokenTimer=setInterval(function(){b.IO.api("/update_token",null,function(a){a.token&&(b.IO.token=a.token)})},12e5),this.setStoreGuest()},userState:function(a){this.set(a)}}),a.M.Settings=a.M.Base.extend({initialize:function(){this.get("hc_auth")||this.get("site_auth")||this.set("guest_chat",!0),this.set({cat:this.parseCat()})},parseCat:function(){var b=this.get("category"),c=a.LANGUAGE,d=[];if(!b)return!1;for(var e=0,f=b.length;f>e;e++){for(var g,h,i,j=null,k=b[e].title.split(";"),l=0,m=k.length;m>l;l++)if(i=k[l].split(":"),0===l&&(g=i[1]),c==i[0]){j=i[1];break}h=j?j:g,d.push({id:b[e].id,title:h,color:b[e].color})}return d},getCat:function(a,b){var c,e=this.get("cat");return e&&e.length?(c=d.find(e,function(b){return b.id==a}),c?c[b]:!1):void 0}}),a.M.StreamInfo=a.M.Base.extend({defaults:{type:"public",cm:0,cm2:0,hc:0,comments_count:0,likes:0,unlikes:0,quotes:0,readonly:!1},initialize:function(){b.IO.on("streamMessage",this.streamMessage,this),b.IO.on("streamDeleteMessage",this.streamDeleteMessage,this),b.IO.on("streamLike",this.streamLike,this),b.IO.on("addQuote",this.addQuote,this)},setParams:function(c){delete c.comments,delete c.hypertext,delete c.topics,delete c.href,delete c.xid,c.comments_count=c.cm2-c.hc<0?0:c.cm2-c.hc,c.page=0,c.rss="http://"+a.FRONT_SERVERS[0]+"/rss/"+b.m.Settings.get("widget_id")+"/"+c.id,this.set(c),c.readonly&&b.m.Settings.set({readonly:c.readonly})},like:function(a){var c={cmd:"streamLike",widget_id:b.m.Settings.get("widget_id"),stream_id:b.m.StreamInfo.get("id"),like:a};this.send(c)},subsc:function(c){var d={cmd:"streamEmailSubscribe",widget_id:b.m.Settings.get("widget_id"),stream_id:b.m.StreamInfo.get("id"),email:c,lang:a.LANGUAGE};this.send(d)},unsubsc:function(a){var c={cmd:"streamEmailUnsubscribe",widget_id:b.m.Settings.get("widget_id"),stream_id:b.m.StreamInfo.get("id"),email:a};this.send(c)},streamMessage:function(a){b.m.StreamInfo.get("id")==a.stream_id&&this.set({comments_count:this.get("comments_count")+1})},streamDeleteMessage:function(){this.set({comments_count:this.get("comments_count")-1})},streamLike:function(a){a.like?this.set({likes:this.get("likes")+1}):this.set({unlikes:this.get("unlikes")+1})},addQuote:function(a){this.set({quotes:this.get("quotes")+1})}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.EntitiesComments=function(c){a.M.Comment=a.M.Base.extend({initialize:function(){var b=a.ADM_HOST+"/comments/approve/"+c.m.Settings.get("widget_id")+"/"+c.m.StreamInfo.get("id")+"/"+this.get("id")+"/show";this.set({state:this.get("state")?this.get("state"):1,parent:this.toParent(),source_txt:this.get("text"),source_files:this.get("files"),text:this.toText(),time_ago:this.timeAgo(),files:this.toFileString(),cat:c.m.Settings.getCat(this.get("category"),"title"),cat_color:c.m.Settings.getCat(this.get("category"),"color"),url:b,rendered_level:0,hide_replies:[],children:this.get("children")<0?0:this.get("children")}),this.intiVote()},toText:function(b){b=b||this.get("text")||"",b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\n{4,}/g,"\n\n\n").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/gi,"<br/>");var d=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;b=b.replace(d,this.replacerLink).replace("&#8203;","");var e=/([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,6})/gim;return b=b.replace(e,' <a class="hcc" href="mailto:$1@$2.$3">$1@$2.$3</a> '),b=b.replace(/\(:boring:\)/g,this._htmlSmile(719)).replace(/\(:smile:\)/g,this._htmlSmile(701)).replace(/\(:joy:\)/g,this._htmlSmile(707)).replace(/\(:wonder:\)/g,this._htmlSmile(741)).replace(/\(:cry:\)/g,this._htmlSmile(746)).replace(/\(:sly:\)/g,this._htmlSmile(728)),b=a.Smiles.utf2html(b),c.m.Settings&&c.m.Settings.get("formatting")&&(b=a.Utils.bbCodeToHtml(b)),b},_htmlSmile:function(b){return a.tmpl("ItemSmile",{code:b})},toParent:function(){var b=this.get("parent");if(!b)return null;if("object"==typeof b)return b;var d,e=JSON.parse(b),f=e.text;return f&&c.m.Settings.get("formatting")&&(f=a.Utils.bbCodeRemove(f)),d=f?this.hideText(f,20):a._("Attach files"),e.text=d,e.time_ago=this.timeAgo(e.time),e},hideText:function(b,d){var e,f,g,h,i,j=b.split(" "),k=0,l=0;if(j.length<=d)e=this.toText(b);else{for(;-1!=(i=b.indexOf(" ",k))&&(k=i+1,l++,l!=d););f=b.substr(0,k),g=b.substr(k,b.length),h=c.m.Settings&&c.m.Settings.get("formatting")?a.Utils.formattingPartText(f,g):[f,g],e=a.tmpl("ParentText",{first_part:this.toText(h[0]),last_part:this.toText(h[1])})}return e},toFileString:function(){var a=this.get("files");if(!a)return null;try{a=JSON.parse(a)}catch(b){return null}for(var c=[],d=0,e=a.length;e>d;d++){var f,g=a[d];g&&(f=this[g.type+"File"](g),c.push(f))}return c.join("<br />")},videoFile:function(b){switch(b.service){case"youtube":var c,e;return b.id?c=b.id:(e=new RegExp("(http|https)://(?:www.)?youtube.*?watch\\?v=([a-zA-Z0-9-_]+).*","gi").exec(b.href),e||(e=new RegExp("(http|https)://(?:www.)?youtu.be/([a-zA-Z0-9-_]+).*","gi").exec(b.href)),c=e[2]),a.tmpl("VideoMedia",{href:"//www.youtube.com/embed/"+d.escape(c)+"?version=3&amp;autohide=1&amp;autoplay=1",preview:"//img.youtube.com/vi/"+d.escape(c)+"/1.jpg"});case"vimeo":return a.tmpl("VideoMedia",{href:"//player.vimeo.com/video/"+d.escape(b.id),preview:b.preview.replace("http:","").replace("https:","")})}},imagesFile:function(b){var c=b.href||b.preview,d=c.replace("http:","").replace("https:","");return a.tmpl("ImageMedia",{src:d})},presentationFile:function(b){return a.tmpl("PresentMedia",{href:b.href})},intiVote:function(){var a=this.get("vote_up")||0,b=this.get("vote_dn")||0,c=a-b;this.set({vote_up:a}),this.set({vote_dn:b}),c=0!==c?c:"",this.set({vote:c}),this.voteOp(c)},voteOp:function(a){var b;-5>=a&&a>-10?b=.65:-10>=a&&a>-15?b=.45:-15>=a&&(b=.3),b&&this.set({vote_op:b})},timeAgo:function(b){var c,d=b||this.get("time")||1e3*this.get("unixtime"),e=new Date,f=d?new Date(d):e,g=e-f,h=0>g?0:g,i=a.Utils.addZero(f.getMinutes()),j=a.Utils.addZero(f.getHours()),k=a.Utils.addZero(f.getDate()),l=a.Utils.addZero(f.getMonth()+1),m=f.getFullYear(),n=1e3,o=60*n,p=60*o,q=24*p,r=60*j*60*1e3,s=2*q-r,t=3*q-r,u=function(b,c,d){var e;return e="ar"!=a.LANGUAGE?b%10==1&&b%100!=11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2:"seconds"==c?0===b||1==b?0:b>=2&&10>=b?1:2:0===b||1==b?0:2==b?1:b>=3&&10>=b?2:3,a.Utils.replaceStr(a._("time_plural"),{"{{time}}":b,"{{interval}}":d[e]})};if(2*n>h)return a._("now");if(o>h)return c=Math.floor(h/n),u(c,"seconds",a._("seconds"));if(p>h)return c=Math.floor(h/o),u(c,"minutes",a._("minutes"));if(q>h)return c=Math.floor(h/p),u(c,"hours",a._("hours"));if(h>q&&s>h)return a.Utils.replaceStr(a._("yesterday at"),{"{{time}}":j+":"+i});if(h>q&&t>h)return a.Utils.replaceStr(a._("before yesterday"),{"{{time}}":j+":"+i});if(7*q>h){c=Math.floor((h+r)/q);var v=u(c,"days",a._("days"));return v+" "+j+":"+i}return e.getFullYear()==m?k+"."+l+" "+j+":"+i:m+"."+l+"."+k+" "+j+":"+i},replacerLink:function(b){return'<a class="hcc" rel="nofollow" href="'+a.HOST+"/api/go?url="+encodeURIComponent(b)+'" target="_blank">'+b+"</a>"},create:function(a,b){a=a||{},a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.link=c.m.Settings.get("href"),a.xid=c.m.Settings.get("xid")||null,a.title=c.m.Settings.get("title"),a.user_agent=c.m.Settings.get("userAgent"),a.parent_id=this.get("id"),a.root_id=this.get("root_id")||this.get("parent_id")||this.get("id"),this.send(a,function(){b&&b()})},deleteC:function(a){var b={cmd:a,widget_id:c.m.Settings.get("widget_id"),stream_id:c.m.StreamInfo.get("id"),id:this.get("id"),hypertext_id:this.get("hypertext_id")};this.send(b)},vote:function(a,b){a=a||{},a.cmd="streamVoteMessage",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.id=this.get("id"),this.send(a,function(){b&&b()})},userSpam:function(a){var b={cmd:"streamUserSpamMessage",widget_id:c.m.Settings.get("widget_id"),stream_id:c.m.StreamInfo.get("id"),id:this.get("id"),hypertext_id:this.get("hypertext_id")};this.send(b,function(){a&&a()})},complain:function(a,b){a=a||{},a.cmd="streamAddComplain",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.id=this.get("id"),this.send(a,function(){b&&b()})},edit:function(a){a=a||{},a.cmd="streamEditMessage",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.id=this.get("id"),this.send(a)},ban:function(){var a={cmd:"streamChangeAccess",widget_id:c.m.Settings.get("widget_id"),stream_id:c.m.StreamInfo.get("id"),id:this.get("id"),access:1};this.send(a)},accent:function(a){var b={cmd:"streamAddAccent",widget_id:c.m.Settings.get("widget_id"),stream_id:c.m.StreamInfo.get("id"),id:this.get("id")};this.send(b,function(){a&&a()})}}),a.M.MixItem=a.M.Comment.extend({initialize:function(){var a=this.get("link")||this.get("href"),b=a.replace(/#hcm=[0-9]{16}/gi,"").replace(/&hcm=[0-9]{16}/gi,"").replace(/%23hcm=[0-9]{16}/gi,""),c=this.get("text")?this.hideText(this.get("text"),20):"";this.set({text:c,time_ago:this.timeAgo(),files:this.toFileString(),link:b,title:this.get("title")?this.get("title"):b})}}),a.C.CommentCollection=a.C.Base.extend({model:a.M.Comment,initialize:function(a,b){c.IO.on("streamMessage",this.streamMessage,this),c.IO.on("streamMessages",this.streamMessages,this),c.IO.on("streamContext",this.streamContext,this),c.IO.on("streamDeleteMessage",this.streamDeleteMessage,this),c.IO.on("streamSpamMessage",this.streamSpamMessage,this),c.IO.on("streamVoteMessage",this.streamVoteMessage,this),c.IO.on("streamEditMessage",this.streamEditMessage,this),c.IO.on("streamFlood",this.streamFlood,this),c.IO.on("streamTopic",this.streamTopic,this),c.IO.on("AccessDenied",this.AccessDenied,this),b&&c.IO.on("streamGetHT",this.streamGetHT,this)},fetch:function(a,b){a=a||{},a.cmd="streamGetMessages",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.reverse=c.m.Settings.get("reverse"),a.filter=a.filter||c.m.Settings.get("default_filter"),a.limit=a.limit||c.m.Settings.get("limit"),a.offset=a.offset||0,this.send(a,function(){b&&b()})},fetchHt:function(a,b){a=a||{},a.cmd="streamGetHT",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),a.limit=a.limit||c.m.Settings.get("limit"),a.offset=a.offset||0,this.send(a,function(){b&&b()})},context:function(a,b){a=a||{},a.cmd="streamGetContext",a.widget_id=c.m.Settings.get("widget_id"),a.stream_id=c.m.StreamInfo.get("id"),this.send(a,function(){b&&b()})},streamMessage:function(a){if(c.m.StreamInfo.get("id")==a.stream_id){a=d.extend({},a);var b=this.where({tmp_id:a.tmp_id});a.tmp_id&&b.length>0?(b[0].set({id:a.id,state:a.state}),b[0].unset("tmp_id")):(delete a.tmp_id,this.add(a))}},streamTopic:function(a){a.t=!0,a.text=a.topic,this.add(a)},streamMessages:function(a){var b=c.m.Settings.get("pagination"),e=c.m.StreamInfo.get("page");b||0===e?(this.each(function(a){a.trigger("destroy",a,this)},this),this.reset(a.comments)):(d.each(a.comments,function(a){a.loaded=!0},this),this.add(a.comments),this.trigger("comment_loaded","more",a.comments))},streamGetHT:function(a){a.comments.length&&this.reset(a.comments)},streamDeleteMessage:function(a){var b=this.get(a.id);b&&b.set({state:4,reason_del:a.reason_del})},streamSpamMessage:function(a){var b=this.get(a.id);b&&b.set({state:3,spam_service:a.spam_service})},streamVoteMessage:function(a){var b=this.get(a.id);if(b){var c="up"==a.vote?a.count:-a.count,d=+b.get("vote")+c;1==a.count&&"up"==a.vote?b.set("vote_up",+b.get("vote_up")+1):1==a.count&&"dn"==a.vote?b.set("vote_dn",+b.get("vote_dn")+1):"up"==a.vote?b.set({vote_dn:+b.get("vote_dn")+1,vote_up:+b.get("vote_up")+1}):b.set({vote_dn:+b.get("vote_dn")-1,vote_up:+b.get("vote_up")-1}),b.voteOp(d),b.set({vote:d})}},streamEditMessage:function(a){var b=this.get(a.id);b&&b.set({text:b.toText(a.text)})},streamContext:function(a){return a.comments.length?void this.reset(a.comments):void c.m.Settings.set({tab:"comment"})},streamFlood:function(b){var c=this.where({tmp_id:b.data.tmp_id});c.length>0&&c[0].trigger("destroy",c[0],this),a.Utils.notify(a._("Your message is defined as flood"))},AccessDenied:function(){this.each(function(a){a.get("tmp_id")&&a.trigger("destroy",a,this)},this),a.Utils.notify(a._("access denied"))}}),a.C.IdentCollection=a.C.Base.extend({model:a.M.Comment,initialize:function(){this.on("add",this.addModel,this)},comparator:function(a){return a.get("top")},addModel:function(a){var d=c.m.Settings.get("append");this.each(function(a){var c=b(d).find("#hcm-"+a.get("id")).offset().top;a.set("top",c)}),this.sort()}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.EntitiesQuote=function(b){a.C.QuoteCollection=a.C.Base.extend({model:a.M.Comment,initialize:function(){b.IO.on("streamQuotes",this.streamQuotes,this),b.IO.on("quoteTransitions",this.quoteTransitions,this),b.IO.on("addQuote",this.addQuote,this)},fetch:function(){var a={cmd:"streamGetQuotes",widget_id:b.m.Settings.get("widget_id"),stream_id:b.m.StreamInfo.get("id")};this.send(a)},streamQuotes:function(a){this.reset(a.quotes)},addQuote:function(a){this.add(a)},quoteTransitions:function(a){var b=this.findWhere({quote_id:a.quote_id});b.set({transitions:b.get("transitions")+1})}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.EntitiesAccent=function(b){a.C.AccentCollection=a.C.Base.extend({model:a.M.Comment,initialize:function(){b.IO.on("streamAccentMessages",this.streamAccentMessages,this),b.IO.on("streamMessage",this.streamMessage,this),b.IO.on("streamAddAccent",this.streamAddAccent,this),b.IO.on("streamDeleteMessage",this.streamDeleteMessage,this),b.IO.on("streamVoteMessage",this.streamVoteMessage,this)},fetch:function(a,c){a=a||{},a.cmd="streamGetAccentMessages",a.widget_id=b.m.Settings.get("widget_id"),a.stream_id=b.m.StreamInfo.get("id"),a.limit=a.limit||100,a.offset=a.offset||0,this.send(a,function(){c&&c()})},streamAccentMessages:function(a){this.reset(a.comments)},streamMessage:function(a){b.m.StreamInfo.get("id")==a.stream_id&&a.accent&&this.unshift(a)},streamAddAccent:function(a){this.unshift(a)},streamDeleteMessage:function(a){var b=this.get(a.id);b&&b.set({state:4})},streamVoteMessage:function(a){var b=this.get(a.id);if(b){var c="up"==a.vote?a.count:-a.count,d=+b.get("vote")+c;b.set("vote",d)}}}),a.M.Moder=a.M.Base.extend({}),a.C.ModerCollection=a.C.Base.extend({model:a.M.Moder,initialize:function(){b.IO.on("streamModerators",this.streamModerators,this)},fetch:function(a,c){a=a||{},a.cmd="streamModerators",a.widget_id=b.m.Settings.get("widget_id"),this.send(a,function(){c&&c()})},streamModerators:function(a){var b=[];d.each(a.moderators,function(a){b.push({acc_id:a})},this),this.reset(b)}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStream=function(e){a.V.WStream=c.View.extend({tpl:"hc_root",events:{"click [rel=hc_tab]":"tabs","click [el=Settings]":"settings","click [el=Login]":"login","click [rel=filter]":"changeFilter","click [el=RTnotify]":"showHideCom","click [rel=pitem]":"loadComments","click [el=LoadMore]":"loadMore","click [el=Email]":"showSubsc","keyup [el=SubInp]":"subsc","click [rel=Link]":"toLink"},prevOnline:[],firstLoadMes:!1,initialize:function(a){this.childViews=[],this.auth=a.auth,this.info=a.info,this.hide_comments=[],this.render({auth:this.auth.toJSON(),info:this.info.toJSON()}),this.info.on("change:page",this.renderLoaderCom,this),this.info.on("change:rss",this.rss,this),this.info.on("change:comments_count",this.counters,this),this.info.on("change:quotes",this.counters,this),this.info.on("change:likes",this.schemeInfo,this),this.info.on("change:unlikes",this.schemeInfo,this),this.info.on("change:id",this.renderSubsc,this),this.auth.on("change",this.changeAuth,this),this.on("show:realtime_box",this.showRtBox,this),this.model.on("change:tab",this.renderTab,this),this.model.on("change:readonly",this.readonly,this),e.IO.on("streamGuestsOnline",this.streamGuestsOnline,this),e.IO.on("streamUserWarning",this.streamUserWarning,this),this.model.set({tab:"comment"}),this._renderLikes(),this.renderLoaderCom(),this[this.model.get("default_filter")+"F"].attr("active",!0),b().placeholder&&this.$el.find("input, textarea").placeholder()},renderTab:function(){var a=this.model.get("tab");switch(this.HcContent.css("min-height",this.HcContent.height()),this._activeTab(a),a){case"comment":this._renderComments(),this.firstLoadMes?this.collection.fetch():this.firstLoadMes=!0,this._renderForm(this.CommentsView),this.ModerView||this._renderModeratebox(),this.More.show(),this.QuotesView&&this.QuotesView.destroy(),this.contextTab.addClass("hc__hide");break;case"quote":this.CommentsView.destroy(),this.Form.destroy(),this.CommentsView.destroy(),this.CommentsView=null,this._renderQuotes(),this.More.hide(),this.contextTab.addClass("hc__hide");break;case"context":this.contextTab.removeClass("hc__hide"),this.Form&&this.Form.destroy(),this.More.hide()}},tabs:function(a){var c=b(a.currentTarget).data("tab"),d=this.model.get("tab");if(c){if("comment"==d&&d==c)return void this._showFilter();this._activeTab(c),this.model.set({tab:c})}},_activeTab:function(a){d.defer(function(){var b=this[a+"Tab"];if(b){var c=b.width(),d=b.position().left;this.ActiveLine.css({width:c,left:d,opacity:1})}}.bind(this))},_renderComments:function(){this.CommentsView=new a.V.Comments({model:this.model,auth:this.auth,collection:this.collection,p_view:this}),this.HcContent.html(this.CommentsView.$el),this.childViews.push(this.CommentsView)},_renderQuotes:function(){var b=new a.C.QuoteCollection;b.fetch(),this.QuotesView=new a.V.Quotes({model:this.model,collection:b,p_view:this}),this.HcContent.html(this.QuotesView.$el),this.childViews.push(this.QuotesView)},_renderForm:function(b){this.model.get("readonly")?this.FormHc.html(a.tmpl("CloseDisqus",{readonly:this.model.get("readonly")})):(this.Form=new a.V.Form({model:this.auth,settings:this.model,info:this.info,comment:new a.M.Comment,commentsView:b}),this.FormHc.html(this.Form.$el),this.childViews.push(this.Form))},_renderModeratebox:function(){this.model.get("moderatorbox")&&(this.CommentBox.css({width:"50%"}),this.ModerView=new a.V.ModeratorBox({model:this.model}),this.ModeratorBox.html(this.ModerView.$el),this.childViews.push(this.ModeratorBox))},_renderLikes:function(){if(-1!=this.model.get("plugins").indexOf("like")&&!this.model.get("guest_chat")){var b=new a.V.Likes({model:this.info});this.Likes.html(b.$el),this.childViews.push(b)}},renderLoaderCom:function(){var a=this.model.get("pagination")?this._renderPagin():this._renderMore();this.More.html(a)},_renderMore:function(){return this.info.get("cm2")<this.model.get("limit")?void 0:a.$tmpl("More")},_renderPagin:function(){var b=this.info.get("comments_count"),c=this.info.get("page")||0,d=this.info.get("cm"),e=this.model.get("default_filter"),f=this.model.get("limit"),g="all"==e?Math.ceil(d/f):Math.ceil(b/f),h=c>3?c-3:0,i=g>h+7?h+7:g,j=a.$tmpl("Pagination",{last:g-1});if("category"==e)return this._renderMore();if(!(1>=g)){c>0?j.find("[el=first]").css("display","inline-block"):j.find("[el=first]").hide(),c+1==g?j.find("[el=last]").hide():j.find("[el=last]").css("display","inline-block");for(var k=h;i>k;k++){var l={page:k+1};k==c&&(l.active=!0),j.find("[el=last]").before(a.tmpl("PaginationItem",l))}return j}},renderSubsc:function(){if(!this.r_subsc){var b=this.info.get("id");a.Utils.fromStorage("hc_email_subscribe_"+b)&&this.Email.attr("active",!0),this.r_subsc=!0}},loadComments:function(c){a.Utils.scroll(b(this.model.get("append"))),this.CommentsView.$el.css("min-height",this.CommentsView.$el.height());var d=b(c.target).data("page");this.info.set({page:d}),this.collection.fetch({offset:d})},loadMore:function(a){if(!this.loadCom){this.loadCom=!0;var b=this.info.get("page")+1,c=this.info.get("comments_count"),d=this.info.get("cm"),e=this.model.get("default_filter"),f=this.model.get("limit"),g="all"==e?Math.ceil(d/f):Math.ceil(c/f);b+1>=g&&this.More.remove(),this.info.set({page:b}),this.collection.fetch({offset:b},function(){this.loadCom=!1}.bind(this))}},readonly:function(){this.model.get("readonly")&&this.FormHc.html(a.tmpl("CloseDisqus",{readonly:this.model.get("readonly")}))},counters:function(){this.comments_countCount&&this.comments_countCount.text(this.info.get("comments_count")),this.quotesCount&&this.quotesCount.text(this.info.get("quotes")),this._activeTab(this.model.get("tab"))},schemeInfo:function(){var a,b=this.info.get("likes"),c=this.info.get("unlikes"),d=b+c;a=d>0?(b/d*5).toFixed(1):5,this.ratingCount.attr("content",d),this.ratingValue.attr("content",a)},rss:function(){var a=this.info.toJSON();this.Rss.attr("href",a.rss)},changeAuth:function(){var b,c=this.model.get("white_plans"),d=this.model.get("plan");-1==c.indexOf(d)?(b=this.auth.get("acc_id")||this.auth.get("nick")?a._("Logout"):a._("Login"),this.checkLogoHC(),this.Logo.css("display","block!important")):(this.auth.get("acc_id")||this.auth.get("nick")?(b=a.tmpl("exit"),this.Login.attr("title",a._("Logout"))):(b=a.tmpl("login"),this.Login.attr("title",a._("Login"))),this.Logo.remove()),this.Login.html(b),this.model.get("guest_comments")||this.model.get("hc_auth")||this.auth.get("acc_id")||!this.model.get("site_auth")||this.model.set("readonly","need_auth")},checkLogoHC:function(){function b(){try{d.$("[el=Logo]").size()||(d.model.set("readonly",!0),clearInterval(c))}catch(b){clearInterval(c),a.log("[ERROR] HC Logo not found: ",b.message)}}var c=setInterval(b,5e3),d=this},login:function(){this.auth.get("acc_id")||this.auth.get("nick")?(this.auth.get("nick")&&(a.Utils.delStorage("hc_guest_user"),this.auth.set({acc_id:null,nick:null})),e.IO.api("/logout",null,function(){this.auth.set({acc_id:null,nick:null,account_type:null})}.bind(this))):(this.Form.HcText.blur(),new a.V.Auth({model:this.model,auth:this.auth}))},settings:function(){a.Utils.slideDown(this.SettingsBox),a.Utils.unClick(function(){a.Utils.slideUp(this.SettingsBox)}.bind(this))},_showFilter:function(){this.FilterHC.attr("visible")?a.Utils.slideUp(this.FilterHC):a.Utils.slideDown(this.FilterHC),a.Utils.unClick(function(){a.Utils.slideUp(this.FilterHC)}.bind(this))},changeFilter:function(c){this.CommentsView.$el.css("min-height",this.CommentsView.$el.height()),this.$el.find("[rel=filter]").removeAttr("active");var d=b(c.currentTarget).data("type"),e=b(c.currentTarget).data("id");d?(this.model.set({default_filter:d}),this[d+"F"].attr("active",!0),this.More.show()):(d="category",this.model.set({default_filter:"new"}),this[e+"F"].attr("active",!0),this.More.hide()),this.info.set({page:0}),this.collection.fetch({filter:d,category:+e}),a.Utils.slideUp(this.FilterHC)},showRtBox:function(b){if(this.$("#HCRt").size()){var c=this.$("#hc_rtc");c.text(+c.text()+1)}else{var e=a.$tmpl("NotifyRealtime");this.RtHC.html(e),d.delay(function(){e.attr("active",!0)},10)}this.hide_comments.push(b)},showHideCom:function(){var a=this.$("#HCRt");a.removeAttr("active"),d.delay(function(){a.remove()},100),d.each(this.hide_comments,function(a){this.CommentsView.$("#hcm-"+a).removeClass("hc__message__hide").removeClass("hc__message__hide-reply")},this),this.hide_comments=[]},streamGuestsOnline:function(b){var c=b.data,e=b.count,f=function(a){d.delay(function(){a.attr("active",!0)},10)};f(this.Online);var g=d.difference(this.prevOnline,d.pluck(c,"acc_id")),h=d.difference(d.pluck(c,"acc_id"),this.prevOnline);this.OnlineCount.html(e),d.each(g,function(a){var b=this.$("#hc_o-"+a);b.removeAttr("active"),d.delay(function(){b.remove()},200)},this),d.each(c,function(b){if(-1!=h.indexOf(b.acc_id)){var c=a.$tmpl("OnlineViewer",b);this.Online.append(c),f(c)}},this),this.prevOnline=d.pluck(c,"acc_id")},streamUserWarning:function(b){new a.V.AttachPopup({p_view:this,type:"Warning",warning:b.text})},showSubsc:function(){if(this.Email.attr("active")){this.Email.removeAttr("active");var b=this.info.get("id"),c=a.Utils.fromStorage("hc_email_subscribe_"+b);a.Utils.delStorage("hc_email_subscribe_"+b),this.info.unsubsc(c)}else this.SubWrap.attr("active")?this.SubWrap.removeAttr("active"):(this.SubWrap.attr("active",!0),this.SubInp.focus()),a.Utils.unClick(function(){this.SubWrap.removeAttr("active")}.bind(this))},subsc:function(c){if(13==c.keyCode){this.$el.find(".hc__inputError").removeClass("hc__inputError");var d=b.trim(this.SubInp.val()),e=this.info.get("id");if(!a.Utils.validateEmail(d))return void this.SubWrap.addClass("hc__inputError");this.SubWrap.removeAttr("active"),this.Email.attr("active",!0),a.Utils.toStorage("hc_email_subscribe_"+e,d),this.info.subsc(d)}},toLink:function(a){document.location.href=b(a.target).data("href")}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamCommentsTab=function(e){a.V.Comments=c.View.extend({tpl:"Comments",events:{"click [el=MoreReplies]":"moreReplies"},initialize:function(a){this.childViews=[],this.p_view=a.p_view,this.auth=a.auth,this.level=a.level,this.htID=a.htID,this.selText=a.selText,this.stopScroll=!1,this.hcHtml=null,this.render(),this.collection.on("reset",this.renderComments,this),this.collection.on("add",this.newComment,this),this.collection.on("comment_loaded",this.commentsLoaded,this),this.on("show:hide_comments",this.showHideCom,this),this.on("show:context",this.showContext,this),this.on("add:tmp",this.newTmpComment,this)},renderComments:function(){function b(){try{if(g!=f.length)return;h.$el.removeAttr("style"),h.p_view.HcContent.removeAttr("style"),h.commentsLoaded(),e.call("commentsRendered",h.collection.toJSON()),clearInterval(c)}catch(b){clearInterval(c),a.log("[ERROR] render comments: ",b.message)}}var c,f=[],g=this.collection.length,h=this;this.$el.empty(),this.collection.each(function(b){d.defer(function(){b.unset("rootRenderMore"),b.unset("renderChild");var c=new a.V.ItemComment({model:b,auth:this.auth,p_view:this});this.childViews.push(c),this._renderItemCom(c,b),f.push(b)}.bind(this))},this),c=setInterval(b,100)},commentsLoaded:function(b,c){this.stopScroll=!1,b?this.hcHtml=this.$el.find(".hc__m"):this.showCom(),this._findComment(),c&&e.call("commentsRendered",c),this.model.get("formatting")&&a.Utils.codePrism(this.$el)},_findComment:function(){if(!e.findCom){var b,c=this.model.get("href"),d=/hcm=([0-9]{16})/,f=d.exec(c);e.scroll_id?(b=this.$("#hcm-"+e.scroll_id),this.$el.find(".hc__m").show(),a.Utils.scroll(b),e.findCom=!0):f&&(b=this.$("#hcm-"+f[1]),b.size()?(this.$el.find(".hc__m").show(),a.Utils.scroll(b),e.findCom=!0):e.IO.SOCKET_OPEN?this.showContext(f[1]):e.IO.on("socket:open",function(){this.showContext(f[1]),e.IO.off("socket:open")},this))}},showCom:function(){if("all"==this.model.get("default_filter")){var a,c,d=0,e=1,f=this.$el.offset().top;this.hcHtml=this.$el.find(".hc__m"),b(window).on("scroll",function(){if(!(this.stopScroll||(a=window.pageYOffset||document.documentElement.scrollTop,c=a+b(window).height()+200,f>c))){var g=d+e,h=this.hcHtml.eq(g-1);this.hcHtml.slice(d,g).show(),d=g,h.offset()?f=h.offset().top:this.stopScroll=!0}}.bind(this))}},_renderItemCom:function(a,b){"all"==this.model.get("default_filter")||"context"==this.model.get("tab")?this._treeView(a,b):"youtube"==this.model.get("default_filter")?this._youtubeView(a,b):this._lineView(a,b)},_treeView:function(a,c){var d=c.get("parent_id"),e=this.collection.get(d),f=c.get("state"),g=c.get("children"),h=c.get("reason_del"),i=this.level||this.model.get("comments_level"),j=this.$("#hcm-"+d),k=c.get("t");if((!(1!=f&&0>=g)||h)&&!(k&&0>=g)){if(d&&e.get("rendered")?(e.get("rendered_level")<i?j.append(a.$el):j.parent().append(a.$el),c.set({rendered_level:e.get("rendered_level")+1})):this.$el.append(a.$el),!this.model.get("eager_load")){var l=window.pageYOffset||document.documentElement.scrollTop,m=l+b(window).height()+200,n=a.$el.offset().top;n>m&&a.$el.hide()}c.set({rendered:!0})}},_youtubeView:function(b,c){var d=c.get("root_id"),e=c.get("state"),f=c.get("reason_del"),g=this.collection.get(d),h=this.$("#hcm-"+d);if(d&&g.get("rendered")){var i=g.get("renderChild")||0,j=g.get("rootRenderMore"),k=this.collection.where({root_id:d,state:1}).length;if(!j&&k>2){var l=a.tmpl("ItemMoreYoutube",{root_id:d,children:k,text:a._("Show all replies")});h.append(l),g.set("rootRenderMore",!0)}if(2>i){if(1!=e&&!f)return;h.append(b.$el),c.set({rendered:!0,rendered_level:1})}g.set("renderChild",++i)}else this.$el.append(b.$el),c.set({rendered:!0})},_lineView:function(a,b){1!=b.get("state")||b.get("t")||this.$el.append(a.$el)},newTmpComment:function(a){this.collection.add(a)},newComment:function(b){var c=b.get("parent_id"),e=b.get("root_id"),f=b.get("id"),g=this.model.get("realtime"),h=b.get("is_resp"),i=this.$("#hcm-"+e),j=this.model.get("default_filter"),k=new a.V.ItemComment({model:b,auth:this.auth,p_view:this}),l={parent_id:c,parent:this.collection.get(c),root_id:e,root:this.collection.get(e),is_resp:h,level:this.level||this.model.get("comments_level"),p_el:this.$("#hcm-"+c),filter:j,comment:b,realtime:g,view:k};return this.childViews.push(k),b.get("loaded")?void this._renderItemCom(k,b):("all"==l.filter?this._newTreeComment(l):"youtube"==l.filter?this._newYoutubeComment(l):this._newLineComment(l),this.model.get("formatting")&&a.Utils.codePrism(k.$el),g||h?void d.delay(function(){k.$el.removeClass("hc__message__hide"),k.$el.removeClass("hc__message__hide-reply")},10):void(c&&a.Utils.isVis(i)&&"all"==j?c&&this.getVisibleParent(c,f):this.p_view.trigger("show:realtime_box",f)))},_newTreeComment:function(a){if(a.parent&&a.parent.get("rendered")){var b=a.p_el.find(".hc__message").eq(0);a.view.$el.addClass("hc__message__hide-reply"),a.parent.get("rendered_level")<a.level&&a.is_resp&&b.size()?b.before(a.view.$el):a.parent.get("rendered_level")<a.level?a.p_el.append(a.view.$el):a.p_el.after(a.view.$el),a.comment.set({rendered_level:a.parent.get("rendered_level")+1})}else a.view.$el.addClass("hc__message__hide"),this.$el.prepend(a.view.$el);a.comment.set({rendered:!0})},_newYoutubeComment:function(b){var c=this.collection.where({root_id:b.root_id,state:1}).length,d=this.$("#hcm-"+b.root_id),e=this.$('[data-rid="'+b.root_id+'"]').attr("active"),f=b.root?b.root.get("rootRenderMore"):!1;if(a.Utils.youtubeMesCount(this,this.collection,b.root_id),b.parent_id?(b.is_resp||e||3>c)&&(b.view.$el.addClass("hc__message__hide-reply"),d.append(b.view.$el),b.comment.set({rendered:!0}),b.is_resp&&a.Utils.scroll(b.view.$el)):(b.view.$el.addClass("hc__message__hide"),this.$el.prepend(b.view.$el),b.comment.set({rendered:!0})),c>2&&b.root&&!f){var g,h;b.is_resp?(g=a._("Hide replies"),h=!0):(g=a._("Show all replies"),h=!1);var i=a.tmpl("ItemMoreYoutube",{root_id:b.root_id,children:c,text:g,active:h});d.find(".hc__m").eq(0).before(i),b.root.set("rootRenderMore",!0)}},_newLineComment:function(a){a.is_resp&&a.parent_id?(a.view.$el.addClass("hc__message__hide-reply"),a.p_el.append(a.view.$el)):(a.view.$el.addClass("hc__message__hide"),this.$el.prepend(a.view.$el))},getVisibleParent:function(b,c){if(b){var d=this.$("#hcm-"+b),e=this.collection.get(b);a.Utils.isVis(d)?e.trigger("show:rt_line",c,b):e&&this.getVisibleParent(e.get("parent_id"),c);
}},showHideCom:function(a){d.each(a,function(a){this.$("#hcm-"+a).removeClass("hc__message__hide-reply")},this)},showContext:function(a){e.scroll_id=a,this.model.set({tab:"context"}),this.collection.context({id:a})},moreReplies:function(c){var e=b(c.currentTarget),f=e.find("[el=MoreLabel]"),g=e.attr("active"),h=e.data("rid").toString(),i=e.parent(),j=this.collection.where({root_id:h,state:1});if(g){e.removeAttr("active"),f.text(a._("Show all replies"));var k=j.slice(2);d.each(k,function(a){for(var b=this.childViews.length-1;b>=0;b--)this.childViews[b].model.id===a.id&&(this.childViews[b].destroy(),this.childViews.splice(b,1));a.unset("rendered")},this)}else e.attr("active",!0),f.text(a._("Hide replies")),d.each(j,function(b){if(!b.get("rendered")&&(1==b.get("state")||b.get("reason_del"))){var c=new a.V.ItemComment({model:b,auth:this.auth,p_view:this});this.childViews.push(c),i.append(c.$el),b.set("rendered",!0)}},this)}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamCommentsItem=function(e){a.V.ItemComment=c.View.extend({tpl:function(){var a=e.m.Settings.get("default_filter"),b=this.model.get("state");return 3==b||4==b?"CommentsRemove":this.model.get("t")?"HCItemCom":this.model.get("quote_id")&&"all"==a?"QuoteItemCom":"ItemCom"},events:{"click [el=ReplyHc]":"reply","click [el=RTline]":"showHideCom","mouseover [el=Comment]":"mOver","mouseout [el=Comment]":"mOut","click [el=Moderate]":"showModer","click [rel=Del]":"deleteC","click [el=WatchMedia]":"watchMedia","click [el=WatchImg]":"watchImg","click [rel=Vote]":"vote","click [el=Vt]":"detailVote","click [el=UserSpam]":"userSpam","click [el=Complaint]":"complain","click [el=Link]":"link","click [el=ContextHc]":"context","click [el=EditHc]":"edit","click [el=Cancel]":"cancelEdit","click [el=Edit]":"saveEdit","keyup #hc_edit_text":"typingEdit","click [el=ToMes]":"toMes","click [el=Ban]":"ban","click [el=More]":"moreP","click [el=Accent]":"accent","click [el=ToQuote]":"toQuote","click [el=Avatar]":"showUser","click [el=Nick]":"showUser","mouseover [el=Avatar]":"overShowUser","mouseout [el=Avatar]":"outShowUser","mouseover [el=Nick]":"overShowUser","mouseout [el=Nick]":"outShowUser","click [el=BanCom]":"banComment"},initialize:function(a){this.p_view=a.p_view,this.auth=a.auth,this.render({settings:e.m.Settings.toJSON(),auth:this.auth.toJSON()}),this.model.on("destroy",this.destroy,this),this.model.on("show:rt_line",this.showRtLine,this),this.model.on("change:state",this.changeState,this),this.model.on("change:vote",this.changeVote,this),this.model.on("change:text",this.changeText,this),this.model.on("change:time_ago",this.changeTime,this),this.model.on("change:tmp_id",this.changeTmp,this),this.model.on("change:isVis",this.isVis,this),e.m.Settings.on("change:readonly",this.readonly,this),this._moderPositiveKarma(),this._hideNegativeComment(),setInterval(function(){this.model.set({time_ago:this.model.timeAgo()})}.bind(this),6e4)},_hideNegativeComment:function(){var b=e.m.Settings.get("hide_negative_comment"),c=this.model.get("vote");if(b&&!(c>-b)){var d=a.tmpl("HideMessage",{text:a._("Show comment")});this.Text.html(d),this.AttFiles&&this.AttFiles.empty()}},banComment:function(c){c.stopPropagation();var d,e=b(c.currentTarget);if(e.attr("active"))d=a.tmpl("HideMessage",{text:a._("Show comment")}),e.removeAttr("active"),this.AttFiles&&this.AttFiles.empty();else{var f=a.tmpl("HideMessage",{text:a._("Hide comment"),active:!0});d=f+"<br /><br />"+this.model.get("text"),this.AttFiles&&this.AttFiles.html(this.model.get("files"))}this.Text.html(d)},changeTmp:function(){this.$el.removeClass("hc__tmp"),this.$el.attr("id","hcm-"+this.model.get("id"))},isVis:function(){this.$el.show()},mOver:function(a){if(a.stopPropagation(),!this.model.get("t")&&!e.m.Settings.get("readonly")){var b=this.model.get("acc_id");b&&b==this.auth.get("acc_id")||!this.Voting||this.Voting.show(),this.Accent&&this.Accent.show(),this.Moderate.show()}},mOut:function(a){a.stopPropagation(),e.m.Settings.get("readonly")||(this.Voting&&this.Voting.hide(),this.Moderate.hide(),this.Accent&&this.Accent.hide())},reply:function(c){c.stopPropagation();var d="accent"==b(c.currentTarget).data("t")?!0:!1,f=this.ReplyForm.find("[el=CloseForm]");if(f.size())f.click();else{var g=new a.V.Form({model:e.m.UserAuth,settings:e.m.Settings,info:e.m.StreamInfo,comment:this.model,collection:this.collection,htID:this.model.get("hypertext_id")||this.p_view.htID,selText:this.p_view.selText,commentsView:this.p_view,reply:!0,accent:d});this.ReplyForm.html(g.$el.css({opacity:0,top:-40})),a.Utils.cssAnimate(g.$el,{opacity:1,top:0}),g.HcText.click().focus()}},vote:function(a){if(a.stopPropagation(),!b(a.currentTarget).attr("active")){var c=e.m.Settings.get("moder_positive_karma"),d=this.model.get("moder"),f=this.model.get("vote"),g=b(a.currentTarget).data("v"),h=function(){b(a.currentTarget).click()}.bind(this);c&&d&&"dn"==g&&1>=f||this._checkAuth(h)&&(this.Voting.find("div").removeAttr("active"),b(a.currentTarget).attr("active",!0),this.model.vote({vote:g}))}},detailVote:function(b){b.stopPropagation(),this.VtD.attr("active",!0),a.Utils.unClick(function(){this.VtD.removeAttr("active")}.bind(this))},changeVote:function(){var b=a.tmpl("Vote",{vote:this.model.get("vote")});this.Vt.html(b),this._moderPositiveKarma(),this.VtD_p.html("+"+this.model.get("vote_up")),this.VtD_m.html(this.model.get("vote_dn")),this.model.get("vote_op")&&this.Comment.css("opacity",this.model.get("vote_op"))},_moderPositiveKarma:function(){var a=e.m.Settings.get("moder_positive_karma"),b=this.model.get("moder"),c=this.model.get("vote");a&&b&&1>=c?this.$('[data-v="dn"]').eq(0).hide():this.$('[data-v="dn"]').eq(0).show(),a&&b&&0>=c?this.Vt&&this.Vt.hide():this.Vt&&this.Vt.show()},showRtLine:function(b,c){var e=this.model.get("hide_replies"),f=e.length;if(0!==f)this.$("#hc_rt-"+c).html(f+1);else{var g=a.$tmpl("RTLine",{count:1,pid:c});this.RTline.html(g),d.delay(function(){g.find("[rel=rt_anim]").css("width",5)},10)}e.push(b),this.model.set({hide_replies:e})},showHideCom:function(c){c.stopPropagation(c);var d=this.model.get("hide_replies");this.$el.find("[el=HCRTline]").remove(),this.p_view.trigger("show:hide_comments",d),a.Utils.scroll(b("#hcm-"+d[0]),function(a){e.call("scrollToMes",{el:a})}),this.model.set({hide_replies:[]})},showModer:function(b){b.stopPropagation(b),this.ModerateBox.attr("visible")?a.Utils.slideUp(this.ModerateBox):a.Utils.slideDown(this.ModerateBox),a.Utils.unClick(function(){a.Utils.slideUp(this.ModerateBox)}.bind(this))},deleteC:function(a){a.stopPropagation(a);var c=b(a.currentTarget).data("t"),d="del"==c?"streamDeleteMessage":"streamSpamMessage";this.model.deleteC(d)},userSpam:function(c){c.stopPropagation(c);var d=function(){b(c.currentTarget).click()}.bind(this);this._checkAuth(d)&&this.model.userSpam(function(){a.Utils.notify(a._("Complain send"))})},complain:function(c){c.stopPropagation(c);var d=function(){b(c.currentTarget).click()}.bind(this);this._checkAuth(d)&&new a.V.AttachPopup({p_view:this,type:"Complain",model:this.model})},link:function(c){c.stopPropagation(c);var d,f,g=e.m.Settings.get("href").replace(/\/?hcm=[0-9]{16}/,""),h=this.model.get("id");d=-1==g.indexOf("#")?g+"#hcm="+h:g+"/hcm="+h,f=a.$tmpl("LinkCopy",{link:d}),b("body").append(f),f[0].select();try{document.execCommand("copy")?a.Utils.notify(a._("Link was copied")):this._linkPopup(d)}catch(i){this._linkPopup(d)}return f.remove(),!1},_linkPopup:function(b){new a.V.AttachPopup({p_view:this,type:"Link",link:b})},ban:function(b){b.stopPropagation(b),this.model.ban(),a.Utils.notify(a._("ban user"))},context:function(a){a.stopPropagation(a),e.findCom=!1,e.scroll_id=null,this.p_view.trigger("show:context",this.model.get("id"))},edit:function(b){b.stopPropagation(b);var c=a.$tmpl("Edit",{text:a.Smiles.utf2html(this.model.get("source_txt"),!0),settings:e.m.Settings.toJSON()});this.Text.html(c),this.typingEdit()},typingEdit:function(){a.Utils.typing({comment_length:e.m.Settings.get("comment_length"),form:this.$("#hc_edit_text"),counter:this.$("[el=ComLen]"),btn:this.$("[el=Edit]")})},cancelEdit:function(a){a.stopPropagation(a),this.Text.html(this.model.get("text"))},saveEdit:function(b){if(b.stopPropagation(b),!this.$("[el=Edit]").attr("disabled")){var c=this.$("#hc_edit_text").val();if(c=a.Smiles.code2utf(c),c.length){if(c==this.model.get("source_txt"))return void this.cancelEdit(b);this.model.set({source_txt:c}),this.model.edit({text:c})}}},changeText:function(){this.Text.html(this.model.get("text"))},changeTime:function(){this.Time&&this.Time.html(this.model.get("time_ago"))},changeState:function(){if(2==this.model.get("state"))this.Comment.append(a.tmpl("HcPre")),this.FooterCom.remove();else{var b=a.$tmpl("MessageRemove",this.model.toJSON());this.Avatar.attr("src",a.CDN_HOST+"/data/avatars/0/avatar"),this.Comment.addClass("hc__message__comment__hide"),d.delay(function(){this.Comment.html(b).removeClass("hc__message__comment__hide"),d.defer(function(){b.attr("active",!0)})}.bind(this),100),a.Utils.youtubeMesCount(this.p_view,this.model.collection,this.model.get("root_id"))}},toMes:function(c){c.stopPropagation(),a.Utils.scroll(b("#hcm-"+this.model.get("parent_id")))},moreP:function(b){b.stopPropagation();var c=this.HideP;c.hasClass("hc__hide")?(c.removeClass("hc__hide"),this.More.text(a._("hide"))):(c.addClass("hc__hide"),this.More.text(a._("more")))},watchMedia:function(c){c.stopPropagation(),a.Utils.watchMedia(b(c.currentTarget))},watchImg:function(c){c.stopPropagation(),a.Utils.watchImg(b(c.currentTarget))},_checkAuth:function(b){return e.m.UserAuth.get("acc_id")?!0:(e.m.UserAuth.set({auth_callback:b}),new a.V.Auth({model:e.m.Settings,auth:e.m.UserAuth,hide_guest:!0}),!1)},accent:function(b){b.stopPropagation(b),this.model.accent(function(){a.Utils.notify(a._("Add accent"))})},toQuote:function(c){c.stopPropagation(c);var d=this.model.get("hypertext_id"),e=b('[data-hc-id="'+d+'"]').offset().top;a.Utils.scrollWorker(e)},readonly:function(){this.FooterCom&&this.FooterCom.remove()},showUser:function(c,d){return(e.m.Settings.get("profile_link")||this.auth.get("moderator"))&&!this.starUserInfo&&this.model.get("acc_id")?(this.starUserInfo=!0,e.IO.api_iframe(a.ADM_API+"/user_info","/user_info",{acc_id:this.model.get("acc_id")},function(a){this.starUserInfo=!1;var f;f=7==a.type&&a.link?a.link:b(c.currentTarget).data("href"),e.events.onClickUserProfile&&!d?e.call("onClickUserProfile",c,a):e.events.onHoverUserProfile&&"hover"==d?e.call("onHoverUserProfile",c,a):f&&(document.location.href=f)}.bind(this)),!1):void 0},overShowUser:function(a){e.events.onHoverUserProfile&&(this.hoverUser=!0,d.delay(function(){this.hoverUser&&!this.showUserProfile&&this.showUser(a,"hover")}.bind(this),1e3))},outShowUser:function(){e.events.onHoverUserProfile&&(this.hoverUser=!1)}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamForm=function(e){a.V.Form=c.View.extend({tpl:"Form",initialize:function(c){this.reply=c.reply,this.accent=c.accent,this.htID=c.htID,this.selText=c.selText,this.settings=c.settings,this.info=c.info,this.comment=c.comment,this.select_cat=null,this.commentsView=c.commentsView,this.files_data=[],this.render({settings:this.settings.toJSON(),form_id:(new Date).getTime()}),this.model.on("change:acc_id",this.authUser,this),this.authUser();var e=a.Utils.fromStorage("hc_stor");if(e)try{var f=JSON.parse(e),g=this.comment.id||0;f[g]&&(this.HcText.val(f[g].text),d.delay(function(){this.HcText.click(),this.CloseForm.hide(),this.typing()}.bind(this),10),d.each(f[g].files,function(b){var c=a.$tmpl("AttachFile",b);this.AttachFiles.attr("active",!0).append(c),c.find("img").attr("active",!0),this.trigger("resize_hc","open")},this),f[g].files&&(this.files_data=f[g].files))}catch(h){a.log("[ERROR] render store: ",h.message)}this.$("[rel=Clip]").size()>2&&this.HcText.addClass("hc__reply__box-f"),b().placeholder&&this.$el.find("input, textarea").placeholder()},events:{"click textarea":"focusForm","paste textarea":"focusForm","keydown textarea":"resizeForm","keyup textarea":"typing","click [el=CloseForm]":"close","click [rel=Clip]":"clip","click [el=HcSend]":"send","click [el=Attach]":"attach","change [el=UploadInp]":"uploadImg","click [rel=DelFile]":"delFile","click [el=Cat]":"showCat","click [rel=CatItem]":"selectCat","click [rel=Smile]":"addSmile","click [rel=Format]":"addFormat"},soc:{3:"Twitter",4:"Vkontakte",6:"MailRu"},authUser:function(){var b=a.tmpl("HCAvatar",this.model.toJSON()),c=d.keys(this.soc),e=this.model.get("account_type")||"";this.HCAvatar.html(b),-1!=c.indexOf(e.toString())?(this.Social.html(this.soc[e.toString()]),this.CrossPost.show()):this.CrossPost.hide()},focusForm:function(a){b(a.target).attr("active",!0),this.HcText.val().length||this.CloseForm.show(),this.HcText.focus(),this.FButtons.show()},close:function(){this.HcText.removeAttr("active").removeAttr("style").val(""),this.CloseForm.hide(),this.FButtons.hide(),this.removeFromStorage(this.comment.id||0),this.reply&&a.Utils.cssAnimate(this.$el,{opacity:0,top:-40},function(){d.delay(function(){this.destroy()}.bind(this),200)}.bind(this))},resizeForm:function(a){if(this.typing(),(a.ctrlKey||a.metaKey)&&13==a.keyCode)return this.HcText.blur(),void this.send();d.delay(function(){this.saveInStorage({text:this.HcText.val()})}.bind(this),0);var c=b(a.target),e=c[0].scrollHeight+2;e>80&&300>e?c.css({height:e,overflowY:"hidden"}):e>300&&c.css("overflow-y","scroll"),c.val().length>0?this.CloseForm.hide():this.CloseForm.show()},typing:function(){a.Utils.typing({comment_length:this.settings.get("comment_length"),form:this.HcText,counter:this.ComLen,btn:this.HcSend})},saveInStorage:function(b){var c,d=a.Utils.fromStorage("hc_stor"),e=d?JSON.parse(d):{},f=this.comment.id||0;c=e[f]?{text:b.text?b.text:e[f].text,files:b.files?b.files:e[f].files}:{text:b.text?b.text:"",files:b.files?b.files:[]},e[f]=c,a.Utils.toStorage("hc_stor",JSON.stringify(e))},removeFromStorage:function(b){var c=a.Utils.fromStorage("hc_stor");if(c){var d=JSON.parse(c);delete d[b],a.Utils.toStorage("hc_stor",JSON.stringify(d))}},clip:function(c){var d=b(c.currentTarget).data("t"),e="Smile"==d?150:0;a.Utils.slideDown(this[d+"Box"],e),this.HcText.click(),a.Utils.unClick(function(){a.Utils.slideUp(this[d+"Box"])}.bind(this),"hc_unclick"+d)},addSmile:function(c){var d=b(c.currentTarget).data("id"),e=this.HcText,f=e.val()+"(:smiles"+d+":)";e.val(f).focus(),a.Utils.setCursorPos(e[0],f.length),this.typing(),this.$el.click()},send:function(){var c,e=this.HcText,f=e.attr("placeholder"),g=b.trim(e.val()),h=this.settings.get("comment_length"),i=this.model.get("account_type")||"",j=this.CrossInp.is(":checked"),k=this.soc[i.toString()]||"",l=k.toLowerCase(),m=this.selText?"streamAddTopic":"streamAddMessage",n=this.htID?!0:!1,o=this.model.get("nick")||"",p=this.model.get("email")||"",q=null,r=this.settings.get("user_data")||null;if((a.Utils.byteCount(r)>10240||this.settings.get("plan")<4)&&(r=null),this.files_data&&this.files_data.length&&(q=JSON.stringify(this.files_data)),!g.length&&!this.files_data.length)return e.attr("placeholder",a._("Enter your message before sending")),void setTimeout(function(){e.attr("placeholder",f)},3e3);if(h&&g.length>h)return void a.Utils.notify(a._("long comment"));if(g=a.Smiles.code2utf(g),!this.model.get("acc_id")&&!this.model.get("nick")){this.HcText.blur();var s=function(){this.HcSend.click()}.bind(this);return this.model.set({auth_callback:s}),void new a.V.Auth({model:this.settings,auth:this.model})}c={cmd:m,text:g,nick:o.length?o:null,email:p.length?p:null,files:q,crosspost:j,crosspost_service:l,category:this.select_cat,hc_comment:n,topic:this.selText,hypertext_id:this.htID,tmp_id:"tmp_"+(new Date).getTime(),avatar:this.model.get("avatar"),user_data:r},this.comment.create(c),this.removeFromStorage(this.comment.id||0),this.accent&&a.Utils.notify(a._("comment send")),this.close();var t=d.extend(c,{time:new Date,state:1,acc_id:this.model.get("acc_id"),is_resp:!0,id:(new Date).getTime()});this.model.get("moderator")&&(t.moder=!0,t.accent=!0),this.commentsView.trigger("add:tmp",t),h&&(this.ComLen.text(h),this.ComLen.removeAttr("state")),this.files_data.length&&(this.files_data=[],d.each(this.AttachFiles.find("img"),function(a){b(a).removeAttr("active")},this),d.delay(function(){this.AttachFiles.removeAttr("active"),this.AttachFiles.empty(),this.trigger("resize_hc","close")}.bind(this),200))},attach:function(c){var d=b(c.currentTarget).data("type");switch(d){case"video":case"presentation":this.HcText.blur(),new a.V.AttachPopup({p_view:this,type_popup:d,title:a._(d),type:"AttachPopup"}),a.Utils.slideUp(this.ClipBox)}this.$el.click()},uploadImg:function(){var b=this.UploadImg,c=this;a.Utils.slideUp(this.ClipBox),this.$("#hc_loader").show(),e.IO.upload(b,function(b){"error"==b.result?a.Utils.notify(b.description):c.addFile({type:"images",href:b.href}),c.$("#hc_loader").hide()})},addFile:function(b){var c,e=this.files_data.length;this.files_data.push(b),this.saveInStorage({files:this.files_data}),b.pos=e,c=a.$tmpl("AttachFile",b),this.AttachFiles.attr("active",!0).append(c),d.delay(function(){c.find("img").attr("active",!0),this.trigger("resize_hc","open")}.bind(this),10)},delFile:function(a){var c=b(a.currentTarget).parent(),e=c.data("pos");c.find("img").removeAttr("active"),this.files_data.splice(e,1),this.saveInStorage({files:this.files_data}),d.delay(function(){c.remove(),this.files_data.length||(this.AttachFiles.removeAttr("active"),this.trigger("resize_hc","close"))}.bind(this),100)},showCat:function(){a.Utils.slideDown(this.CatBox),a.Utils.unClick(function(){a.Utils.slideUp(this.CatBox)}.bind(this))},selectCat:function(c){var d=b(c.currentTarget).data("id");this.select_cat=+d,this.CatTitle.text(b(c.currentTarget).find("span").text()),a.Utils.slideUp(this.CatBox)},addFormat:function(c){var d=b(c.currentTarget).data("t"),e=this.HcText.getSelection().text,f="["+d+"]"+e+"[/"+d+"]";this.HcText.replaceSelection(f);var g=this.HcText.val().indexOf(f);if(-1!=g.length){var h=g+d.length+2;a.Utils.setCursorPos(this.HcText[0],h)}}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamModer=function(b){a.V.ModeratorBox=c.View.extend({tpl:"ModeratorColumn",initialize:function(){this.childViews=[],this.render(),this.collection=new a.C.AccentCollection,this.moder_coll=new a.C.ModerCollection,b.IO.SOCKET_OPEN?(this.model.get("show_moder")?this.moder_coll.fetch():this.renderWidgetLogo(),this.collection.fetch()):b.IO.on("socket:open",function(){d.delay(function(){this.model.get("show_moder")?this.moder_coll.fetch():this.renderWidgetLogo(),this.collection.fetch()}.bind(this),0)},this),this.collection.on("reset",this.renderAccent,this),this.collection.on("add",this.newAccent,this),this.moder_coll.on("reset",this.renderModer,this)},renderAccent:function(){0!==this.collection.length&&this.NoAccents.remove();var b=0,c=null;this.collection.each(function(d){var e=new a.V.ItemAccent({model:d,index:b,settings:this.model,prev_model:c,p_view:this});c=d,b++,this.Accents.append(e.$el),this.childViews.push(e)},this)},newAccent:function(b){this.NoAccents.remove();var c=new a.V.ItemAccent({model:b,settings:this.model,index:0,p_view:this});c.$el.addClass("hc__message__hide"),this.Accents.prepend(c.$el),d.delay(function(){c.$el.removeClass("hc__message__hide")},10),this.collection.at(1)&&this.collection.at(1).trigger("index:change")},renderModer:function(){var b=0;this.moder_coll.each(function(c){var d,e=c.toJSON();e.settings=this.model.toJSON(),0===b?(d=a.tmpl("Admin",e),this.Admin.html(d)):(d=a.tmpl("Moder",e),this.Moder.append(d)),b++},this)},renderWidgetLogo:function(){var b=a.tmpl("Admin",this.model.toJSON());this.Admin.html(b).addClass("hc__left-logo"),this.Accents.addClass("hc__left-accent")}}),a.V.ItemAccent=a.V.ItemComment.extend({tpl:function(){var a=this.model.get("moder");return 0===this.index&&a?"AccentFirst":this.prev_model&&this.prev_model.acc_id==this.model.get("acc_id")&&1!=this.index?"AccentFirst":"Accent"},events:{"click [el=Reply]":"reply","click [rel=Del]":"deleteC","click [el=WatchMedia]":"watchMedia","click [el=WatchImg]":"watchImg","click [el=More]":"moreP","click [rel=Vote]":"vote",mouseover:"mOver",mouseout:"mOut"},initialize:function(a){this.index=a.index,this.prev_model=a.prev_model?a.prev_model.toJSON():null,this.auth=b.m.UserAuth.toJSON(),this.settings=a.settings.toJSON(),this.p_view=a.p_view,this.render({auth:this.auth,settings:this.settings}),this.model.on("index:change",this.reRender,this),this.model.on("change:state",this.removeAccent,this),this.model.on("change:vote",this.changeVote,this),this._moderPositiveKarma()},reRender:function(){if(this.model.get("moder")){var b=this.model.toJSON();b.auth=this.auth,b.settings=this.settings,this.$el.html(a.tmpl("Accent",b))}},removeAccent:function(){this.$el.css("height",0),d.delay(function(){this.destroy()}.bind(this),300)},mOver:function(){var a=this.model.get("acc_id");this.auth.acc_id&&a!=this.auth.acc_id&&this.Voting.show()},mOut:function(){b.m.Settings.get("readonly")||this.Voting.hide()},changeVote:function(){var b=a.tmpl("Vote",{vote:this.model.get("vote")});this.Vt.html(b),this.VtD_p.html("+"+this.model.get("vote_up")),this.VtD_m.html(this.model.get("vote_dn")),this.model.get("vote_op")&&this.Comment.css("opacity",this.model.get("vote_op")+"!important")}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamAuth=function(e){a.V.Auth=c.View.extend({tpl:"Authorization",events:{"click [el=Close]":"close","click [rel=Inp]":"focus","click [el=SSO]":"redirectSiteAuth","click [rel=Auth]":"redirectHCAuth","click [el=Send]":"guestAuth",click:"closeBody"},initialize:function(a){e.call("onBerforeLoginPopupOpen"),this.auth=a.auth,this.hide_guest=a.hide_guest,this.model.get("hc_auth")||this.model.get("guest_comments")?this._hcAuth():!this.model.get("hc_auth")&&this.model.get("site_auth")?this._siteAuth():window.alert("Website administrator must select the option customer will have to authorize in the widget"),b("body").on("keydown",this.closeKey.bind(this))},_hcAuth:function(){if(this.render(),b().placeholder&&this.$el.find("input, textarea").placeholder(),this.hide_guest&&this.Guest&&this.Guest.remove(),this.model.get("hc_auth")){var c=this.model.get("social"),e=c?c.split(","):null,f=["google","facebook","twitter","vk","odnoklassniki","mailru","yandex","tumblr","livejournal"],g=e||f,h=this.model.get("auth_logo"),i=this.model.get("auth_title"),j=this.model.get("auth_url");if(d.each(g,function(c){var d,e=b.trim(c);-1!=f.indexOf(e)&&(d=a.tmpl("AuthItem",{type:e}),this.AuthBox.append(d))},this),h&&i&&j){var k=a.tmpl("SSOItem",{auth_logo:h,auth_title:i});this.AuthBox.prepend(k)}}b("body").append(this.$el),d.delay(function(){this.$el.attr("active",!0)}.bind(this),10)},_siteAuth:function(){this.model.get("auth_url")?this.redirectSiteAuth():e.call("siteAuth")},redirectSiteAuth:function(){-1==this.model.get("auth_url").indexOf("?")?document.location.href=this.model.get("auth_url")+"?return_to="+this.model.get("href"):document.location.href=this.model.get("auth_url")+"&return_to="+this.model.get("href")},redirectHCAuth:function(c){var d=b(c.currentTarget).data("type"),f=a.HOST+"/auth?service="+d,g=function(){e.IO.api("/login",null,function(a){this.auth.set(a),this._authCallback()}.bind(this)),a.Utils.delStorage("hc_guest_user"),this.close()}.bind(this);a.Utils.popup(665,450,"HyperComments",f,g)},guestAuth:function(){this.$el.find(".hc__inputError").removeClass("hc__inputError");var c=b.trim(this.Nick.val()).substring(0,125),d=b.trim(this.Email.val());return c.length?d.length>0&&!a.Utils.validateEmail(d)?void this.Email.parent().addClass("hc__inputError"):(this.auth.set({nick:c,email:d}),this.auth.storeGuest(c,d),this._authCallback(),void this.close()):void this.Nick.parent().addClass("hc__inputError")},focus:function(c){this.$el.find("[rel=Inp]").removeAttr("active"),b(c.currentTarget).attr("active",!0),a.Utils.unClick(function(){b(c.currentTarget).removeAttr("active")}.bind(this))},_authCallback:function(){d.delay(function(){this.auth.get("auth_callback")&&(this.auth.get("auth_callback")(),this.auth.unset("auth_callback"))}.bind(this),300)},closeKey:function(a){27==a.keyCode&&this.close()},closeBody:function(a){b(a.target).parents("[el=Box]").size()||this.close()},close:function(){e.call("onBerforeLoginPopupClose"),this.$el.removeAttr("active"),d.delay(function(){this.destroy()}.bind(this),450)}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamAttach=function(e){a.V.AttachPopup=c.View.extend({tpl:function(){return this.type},events:{"click [el=Close]":"close","click [rel=Inp]":"focus","click [el=Attach]":"attach","click [el=Send]":"sendC",click:"closeBody"},initialize:function(c){this.p_view=c.p_view,this.title=c.title,this.type=c.type,this.link=c.link,this.type_popup=c.type_popup,this.render(),this.Title.html(c.title),"Link"==this.type?this.Ph.val(this.link):"Warning"==this.type?this.Warning.text(c.warning):"video"==this.type_popup?this.Ph.attr("placeholder",a._("Enter link to the video (YouTube, Vimeo)")):"presentation"==c.type_popup?this.Ph.attr("placeholder",a._("Enter link to the Google Presentation")):this.Ph.attr("placeholder",a._("Add complaint")),b("body").append(this.$el),d.defer(function(){this.$el.attr("active",!0)}.bind(this)),b().placeholder&&this.$el.find("input, textarea").placeholder(),b("body").on("keydown",this.closeKey.bind(this)),this.Ph&&d.delay(function(){this.Ph.click(),this.Ph.parent().click()}.bind(this),200)},focus:function(c){this.$el.find("[rel=Inp]").removeAttr("active"),b(c.currentTarget).attr("active",!0),a.Utils.unClick(function(){b(c.currentTarget).removeAttr("active")}.bind(this))},attach:function(){this.$el.find(".hc__inputError").removeClass("hc__inputError");var a=b.trim(this.Ph.val());return a.length?void("video"==this.type_popup?this.video(a):this.present(a)):void this.Ph.parent().addClass("hc__inputError")},video:function(a){var c,d,e="http://vimeo.com/api/oembed.json?url="+a+"&callback=?";if(d=this.youtube(a))c={type:"video",service:"youtube",id:d[2],preview:"http://img.youtube.com/vi/"+d[2]+"/1.jpg",href:a},this.p_view.addFile(c),this.close();else{if(!this.vimeo(a))return void this.Ph.parent().addClass("hc__inputError");b.getJSON(e,function(b){c={type:"video",service:"vimeo",id:b.video_id,preview:b.thumbnail_url,href:a},this.p_view.addFile(c)}.bind(this)),this.close()}},youtube:function(a){var b,c=new RegExp("(http|https)://(?:www.)?(?:m.)?youtube.*?watch\\?v=([a-zA-Z0-9-_]+).*","gi"),d=new RegExp("(http|https)://(?:www.)?youtu.be/([a-zA-Z0-9-_]+).*","gi");return b=c.exec(a),b||(b=d.exec(a)),b?b:!1},vimeo:function(a){var b=new RegExp("(http|https)://(?:www.)?vimeo.com/([a-zA-Z0-9-_]+).*","gi");return b.exec(a)?!0:!1},present:function(b){var c,d,e=/(http|https):\/\/docs.google.com\/present\/(embed|view)\?id=[a-zA-Z0-9_]+/,f=/(http|https):\/\/docs.google.com\/presentation\/d\/[a-zA-Z0-9_]+/,g=/(http|https):\/\/docs.google.com\/presentation\/pub\?[a-zA-Z0-9_]+/,h=/(http|https):\/\/docs.google.com\/presentation\/(embed|view)\?[a-zA-Z0-9_]+/,i="https://docs.google.com/presentation/embed?id=";if(e.exec(b)||h.exec(b))d=b;else if(f.exec(b))d=i+b.split("/")[5];else{if(!g.exec(b))return void this.Ph.parent().addClass("hc__inputError");d=i+b.split("=")[1].split("&")[0]}c={type:"presentation",service:"google",preview:a.DIR+"img/presentation.svg",href:b},this.p_view.addFile(c),this.close()},sendC:function(){var c=b.trim(this.Ph.val());return c.length?void this.model.complain({text:c},function(){this.close(),a.Utils.notify(a._("Complain send"))}.bind(this)):void this.Ph.parent().addClass("hc__inputError")},close:function(){this.$el.removeAttr("active"),d.delay(function(){this.destroy()}.bind(this),450)},closeKey:function(a){27==a.keyCode&&this.close()},closeBody:function(a){b(a.target).parents("[el=Box]").size()||this.close()}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamLikes=function(d){a.V.Likes=c.View.extend({tpl:"Likes",events:{"click [rel=Like]":"like","click [rel=Share]":"share"},initialize:function(){this.render(),this.model.on("change:likes",this.rLike,this),this.model.on("change:unlikes",this.rUnlike,this)},rLike:function(){this.likesCount.html(this.model.get("likes"))},rUnlike:function(){this.unlikesCount.html(this.model.get("unlikes"))},like:function(c){if(!d.m.Settings.get("readonly")){var e=b(c.currentTarget).data("t"),f="like"==e?!0:!1,g=function(){b(c.currentTarget).click()}.bind(this);this._checkAuth(g)&&(b(c.currentTarget).attr("active",!0),this.Share.attr("active",!0),a.Utils.unClick(function(){this.Share.removeAttr("active")}.bind(this)),this.model.like(f))}},share:function(c){var e,f=b(c.currentTarget).data("t"),g=d.m.Settings.get("like_href")||d.m.Settings.get("href"),h=d.m.Settings.get("like_title")||d.m.Settings.get("title"),i=encodeURIComponent(g),j=encodeURIComponent(h);switch(f){case"g":e="https://plus.google.com/share?url="+i;break;case"f":e="http://www.facebook.com/sharer/sharer.php?t="+j+"&u="+i;break;case"t":e="http://twitter.com//intent/tweet?text="+j+"&url="+i;break;case"v":e="http://vk.com/share.php?title="+j+"&url="+i}a.Utils.popup(580,480,"ShareHyperComments",e)},_checkAuth:function(b){return d.m.UserAuth.get("acc_id")?!0:(d.m.UserAuth.set({auth_callback:b}),new a.V.Auth({model:d.m.Settings,auth:d.m.UserAuth,hide_guest:!0}),!1)}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamQuote=function(b){a.V.Quotes=c.View.extend({tpl:"QuotesBox",initialize:function(a){this.childViews=[],this.p_view=a.p_view,this.render(),this.collection.on("reset",this.renderQuotes,this),this.collection.on("add",this.addQuote,this)},renderQuotes:function(){function b(){f.collection.length==e.length&&(f.p_view.HcContent.removeAttr("style"),clearInterval(c))}var c,e=[],f=this;this.collection.each(function(b){d.defer(function(){var c=new a.V.QuoteItem({model:b});this.childViews.push(c),this.$el.append(c.$el),e.push(b)}.bind(this))},this),c=setInterval(b,100)},addQuote:function(b){var c=new a.V.QuoteItem({model:b});this.$el.prepend(c.$el)}}),a.V.QuoteItem=c.View.extend({tpl:"QuoteItem",initialize:function(){this.render(),this.model.on("change:transitions",this.transitions,this)},transitions:function(){this.Tr.html(this.model.get("transitions"))}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WStreamIdent=function(e){a.V.Ident=c.View.extend({tpl:"Ident",events:{"click [el=Close]":"close",click:"toComment"},initialize:function(a){this.navigator_ident=null,this.isRender=!1,this.settings=a.settings,e.IO.on("streamMessage",this.newComment,this),b(document).on("scroll",function(){this.scrollWindow()}.bind(this))},render:function(){this.collection=new a.C.IdentCollection,this.isRender=!0,a.to_el(this.tpl,null,this),b("body").append(this.$el),d.delay(function(){this.$el.addClass("hc__notify-open")}.bind(this),10)},scrollWindow:function(){var c=0,d=this.settings.append,e=this.collection,f=window.pageYOffset||document.documentElement.scrollTop;e&&e.length&&(e.each(function(g){var h=g.get("top");h>=f&&h<=f+screen.height-200&&(this._recount(-1),e.at(c+1)?this._navigateArrow(e.at(c+1).get("top"),!1):e.at(0)&&this._navigateArrow(e.at(0).get("top"),!1),a.Utils.highlight(b(d).find("#hcm-"+g.get("id"))),e.remove(g),c++)},this),e.length||this.close())},toComment:function(c){if("Close"!=b(c.target).attr("el")){var d,e,f,g=this.collection,h=this.settings.append;if("down"==this.navigator_ident){var i=g.at(0),j=g.at(1);j&&this._navigateArrow(j.get("top"),!1),d=b(h).find("#hcm-"+i.get("id")),f=i.get("root_id"),g.shift()}else{var k=g.at(g.length-1),l=g.at(g.length-2);l&&this._navigateArrow(l.get("top"),!1),d=b(h).find("#hcm-"+k.get("id")),f=k.get("root_id"),g.pop()}e=b(h).find("#hcm-"+f),"none"==e.css("display")&&b(h).find(".hc__m").show(),a.Utils.scroll(d),this._recount(-1),0===g.length&&this.close()}},newComment:function(a){e.m.StreamInfo.get("id")==a.stream_id&&a.acc_id!=e.m.UserAuth.get("acc_id")&&d.delay(function(){
var c=this.settings.append,d=b(c).find("#hcm-"+a.id).offset().top,e=window.pageYOffset||document.documentElement.scrollTop;(e>=d||d>e+screen.height)&&(this.isRender?(this._navigateArrow(d,!1),this._recount(1)):(this.render(),this._navigateArrow(d,!0)),this.collection.add(a))}.bind(this),10)},_navigateArrow:function(a,b){var c=window.pageYOffset||document.documentElement.scrollTop,d=c>a?"up":"down";this.Trgl.attr("vector",d),b&&(this.navigator_ident=d)},_recount:function(a){var b=parseInt(this.Count.text(),0);this.Count.text(b+a)},close:function(a){return a&&(a.preventDefault(),a.stopPropagation()),this.$el.removeClass("hc__notify-open"),d.delay(function(){this.destroy()}.bind(this),100),this.collection.reset(),this.isRender=!1,!1}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),function(a,b,c,d){a.WMixStream=function(e){a.V.WMix=c.View.extend({tpl:"MixRoot",events:{"click [rel=tab]":"selectTab"},initialize:function(){var b,c,d=this.model.get("filter"),e=this.model.get("default_filter");if(this.render(),"all"==d){var f=a.tmpl("MixTabs");this.Tabs.html(f)}"last"==d||"last"==e?(b=a._("last comments"),c="last"):(b=a._("popular pages"),c="popular"),this.Title.html(b),this._load(c)},selectTab:function(c){var d,e=b(c.currentTarget),f=b(c.currentTarget).data("t"),g=this.$el.find("[el=Line]");this._load(f),this.$el.find("[rel=tab]").removeAttr("active"),e.attr("active",!0),"0px"==g.css("left")?g.css("left","50%"):g.css("left",0),d="last"==f?a._("last comments"):a._("popular pages"),this.Title.html(d)},_load:function(b){var c={widget_id:this.model.get("widget_id"),limit:this.model.get("limit"),filter:b};e.IO.api("/mixstream",c,function(c){this.Cont.empty(),d.each(c.data,function(c){var d=new a.V.MixItem({model:new a.M.MixItem(c),filter:b});this.Cont.append(d.$el)},this),this.model.get("formatting")&&a.Utils.codePrism(this.$el)}.bind(this))}}),a.V.MixItem=a.V.ItemComment.extend({tpl:function(){return"last"==this.filter?"MixItemC":"MixItemP"},events:{"click [el=WatchMedia]":"watchMedia","click [el=WatchImg]":"watchImg","click [el=More]":"moreP"},initialize:function(a){this.filter=a.filter,this.render()}})}}(this.HC,this.jHC,this.BackboneHC,this.underscoreHC),HC.templates.push('<t name="ModeratorColumn"><div class="hcc hc__left"><div class="hcc hc__left__header" el="Admin"></div><div class="hcc hc__left__moder" el="Moder"></div><div class="hcc hc__left__content" el="Accents">{{include "Loader"}}<div class="hcc hc__left__empty" el="NoAccents">{{t "no accents"}}</div></div></div></t><t name="AccentFirst"><div class="hcc hc__left__message hc__left-first"><div class="hcc hc__left__time">{{=it.time_ago}}</div><div class="hcc hc__left__txt">{{? it.parent}}{{include "MParent"}}{{?}}<span class="hcc hc__left__message__nick">{{!it.nick}}:</span> {{=it.text}}{{? it.files}}<div class="hcc hc__message__att">{{=it.files}}</div>{{?}}</div>{{include "MFooter"}}</div></t><t name="Accent"><div class="hcc hc__left__message"><div class="hcc hc__left__time">{{=it.time_ago}}</div><div class="hcc hc__left__answer{{? !it.moder}}-user{{?}}"><div class="hcc hc__left__answer__avatar">{{include "HCAvatar"}}</div>{{? it.parent}}{{include "MParent"}}{{?}}<span class="hcc hc__left__message__nick">{{!it.nick}}:</span> {{=it.text}}{{? it.files}}<div class="hcc hc__message__att">{{=it.files}}</div>{{?}}</div>{{include "MFooter"}}</div></t><t name="AccentUser"><div class="hcc hc__left__message"><div class="hcc hc__left__time">{{=it.time_ago}}</div><div class="hcc hc__left__post">{{=it.text}}</div>{{include "MFooter"}}</div></t><t name="MParent"><div class="hcc hc__message"><div class="hcc hc__left__parent"><div class="hcc hc__left__parent__header"><span class="hcc hc__nick hc__left__parent__nick">{{=it.parent.nick}}</span><span class="hcc hc__time"></span></div><div class="hcc hc__message__txt hc__left__parent__txt">{{=it.parent.text}}</div></div></div></t><t name="MFooter">{{? !it.settings.readonly}}<div class="hcc hc__message__footer" style="padding-left: 0px;"><div class="hcc hc__manager"><div class="hcc hc__manager__item" el="Reply" data-t="accent">{{t "Reply"}}</div>{{? it.auth.moderator}}<div class="hcc hc__manager__item" rel="Del" data-t="del">{{t "Delete"}}</div>{{?}}</div></div>{{?}}<div class="hcc hc__left__vote{{? it.settings.readonly}} hc__left__vote-ro{{?}}">{{include "Voting"}}</div><div class="hcc hc__left__reply" el="ReplyForm"></div></t><t name="Admin"><div class="hcc"><div class="hcc hc__left__avatar">{{? it.widget_logo}}<img el="Avatar" class="hcc hc__left-logoimg" src="{{!it.widget_logo}}" title="">{{??}}{{include "HCAvatar"}}{{?}}</div><div class="hcc hc__left__header__txt"><div class="hcc hc__left__header__nick"></div><div class="hcc hc__left__header__title">{{t "Comments and accents author"}}</div></div></div></t><t name="Moder"><div class="hcc hc__left__moder__item">{{include "HCAvatar"}}</div></t>'),HC.templates.push('<t name="hc_root"><div class="hcc hc__root">{{include "SchemaProduct"}}<div class="hcc" el="ModeratorBox"></div><div class="hcc hc__right" el="CommentBox"><div class="hcc hc__top"><div class="hcc hc__top__left" el="Likes"></div><div class="hcc hc__top__right">{{include "UserOnline"}}</div><div class="hcc hc__clear"></div></div><div class="hcc hc__clear"></div><div class="hcc hc__menu"><div rel="hc_tab" data-tab="comment" el="commentTab" class="hcc hc__menu__item hc__menu__comment hc_unclick">{{t "Comments"}} (<span class="hcc hc__menu__count" el="comments_countCount">{{=it.info.comments_count}}</span>)<div el="FilterHC" class="hcc hc__menu__comment__popup"><div rel="filter" data-type="all" class="hcc" el="allF">{{t "Tree View"}}<span class="hcc hc__menu__comment__popup__check">{{include "check"}}</span></div><div rel="filter" data-type="new" class="hcc" el="newF">{{t "New"}}<span class="hcc hc__menu__comment__popup__check">{{include "check"}}</span></div><div rel="filter" data-type="popular" class="hcc" el="popularF">{{t "Popular"}}<span class="hcc hc__menu__comment__popup__check">{{include "check"}}</span></div><div rel="filter" data-type="youtube" class="hcc" el="youtubeF">{{t "Compact"}}<span class="hcc hc__menu__comment__popup__check">{{include "check"}}</span></div>{{? it.cat}}{{~it.cat :value:index}}<div rel="filter" {{? index == 0}}style="border-top: 1px solid #ccc;"{{?}} data-id="{{!value.id}}" el="{{!value.id}}F" class="hcc">{{!value.title}}<span class="hcc hc__menu__comment__popup__check">{{include "check"}}</span></div>{{~}}{{?}}</div></div>{{? it.plugins.indexOf(\'quote\') != -1}}<div rel="hc_tab" data-tab="quote" el="quoteTab" class="hcc hc__menu__item">{{t "Quotes"}} (<span class="hcc hc__menu__count" el="quotesCount">{{=it.info.quotes}}</span>)</div>{{?}}<div rel="hc_tab" data-tab="context" el="contextTab" class="hcc hc__menu__item hc__hide">{{t "Context"}}</div><div el="ActiveLine" class="hcc hc__menu__line"></div><div class="hcc hc__menu__right">{{? it.white_plans.indexOf(it.plan) == -1 }}<div class="hcc hc__menu__settings hc_unclick" el="Settings">{{include "settings"}}<div class="hcc hc__menu__settings__popup" el="SettingsBox"><div rel="Link" data-href="http://www.hypercomments.com/pricing" class="hcc">{{t "Code"}}</div><div rel="Link" data-href="http://www.hypercomments.com" class="hcc">{{t "About"}}</div>{{? !it.auth.acc_id}}<div class="hcc" el="Login">{{t "Login"}}</div>{{??}}<div class="hcc" el="Login">{{t "Logout"}}</div>{{?}}</div></div>{{??}}{{? !it.auth.acc_id}}<div title="{{t "Login"}}" class="hcc hc__menu__login" el="Login">{{include "login"}}</div>{{??}}<div title="{{t "Logout"}}" class="hcc hc__menu__login" el="Login">{{include "exit"}}</div>{{?}}{{?}}</div></div><div class="hcc" el="FormHc"></div><div class="hcc hc__clear"></div><div class="hcc" el="RtHC"></div><div class="hcc" el="HcContent"></div><div class="hcc" el="More"></div><div class="hcc hc__footer"><a el="Logo" style="display:none;visibility:visible!important;opacity:1!important;position:initial!important;transform: scale(1)!important;overflow:initial!important;-webkit-filter: blur(0px)!important;-moz-filter: blur(0px)!important;-o-filter: blur(0px)!important;-ms-filter: blur(0px)!important;" class="hcc hc__footer__logo" href="http://www.hypercomments.com" rel="nofollow" target="_blank">{{include "logo"}}</a><div class="hcc hc__footer__r"><div class="hcc hc__footer__wrapf hc_unclick" el="SubWrap"><input class="hcc" el="SubInp" type="text" placeholder="{{t "Enter Email"}}"><hr class="hcc hc__footer__wrapf__hrgrey"><hr class="hcc hc__footer__wrapf__hract"></div><div class="hcc hc__footer__rss"><a class="hcc" target="_blank" href="{{!it.info.rss}}" el="Rss">{{include "rss"}}</a></div><div title="{{t "Email subscribe"}}" class="hcc hc__footer__mail hc_unclick" el="Email">{{include "mail"}}</div></div></div></div><div class="hcc hc__clear"></div></div></t><t name="SchemaProduct"><span class="hcc" itemscope="itemscope" itemtype="http://schema.org/Product"><meta itemprop="name" content="{{!it.title}}"><meta itemprop="url" content="{{!it.href}}"><span class="hcc" itemprop="aggregateRating" itemscope="itemscope" itemtype="http://schema.org/AggregateRating"><meta el="ratingValue" itemprop="ratingValue" content="5" /><meta el="ratingCount" itemprop="ratingCount" content="0" /></span></span></t><t name="HCAvatar">{{? it.avatar }}<img el="Avatar" class="hcc" src="//{{!it.avatar.replace(\'http:\',\'\').replace(\'https:\',\'\')}}" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';" title="{{!it.nick}}" />{{?? it.acc_id }}<img el="Avatar" data-href="{{=HC.PROFILE_HOST}}/{{=it.acc_id}}" class="hcc" src="{{=HC.CDN_HOST}}/data/avatars/{{=it.acc_id}}/avatar" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';" title="{{!it.nick}}" />{{?? it.md5email}}<img el="Avatar" class="hcc" src="{{=HC.Utils.Gravatar(it.md5email)}}" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';" title="{{!it.nick}}" />{{??}}<img el="Avatar" class="hcc" src="{{=HC.Utils.guestAvatar()}}" title="{{!it.nick}}" />{{?}}</t><t name="HCParentAvatar">{{? it.parent.avatar }}<img el="Avatar" class="hcc" src="//{{!it.parent.avatar.replace(\'http:\',\'\').replace(\'https:\',\'\')}}" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';" title="{{!it.nick}}" />{{?? it.parent.acc_id }}<img el="Avatar" class="hcc" src="{{=HC.CDN_HOST}}/data/avatars/{{=it.parent.acc_id}}/avatar" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';" title="{{!it.nick}}" />{{??}}<img el="Avatar" class="hcc" src="{{=HC.Utils.guestAvatar()}}" title="{{!it.nick}}" />{{?}}</t><t name="More"><div class="hcc hc__showmore" el="LoadMore"><div class="hc__showmore__item">{{t "show more"}}</div></div></t><t name="Pagination"><div class="hcc hc__pagination"><div class="hcc hc__pagination__item" rel="pitem" el="first" data-page="0"> {{t "First"}}</div><div class="hcc hc__pagination__item" el="last" rel="pitem" data-page="{{=it.last}}">{{t "Last"}} </div></div></t><t name="PaginationItem"><div class="hcc hc__pagination__item" {{? it.active}}active="true"{{?}} rel="pitem" data-page="{{=it.page - 1}}">{{=it.page}}</div></t><t name="Loader"><div class="hc__loader" id="hc_loader"><svg class="hc__loader__circular"><circle class="hc__loader__path" cx="10" cy="10" r="8" fill="none" stroke-width="2" stroke-miterlimit="5"/></svg></div></t><t name="UserOnline"><div class="hcc hc__menu__viewerbox" el="Online"><div class="hcc hc__menu__view__img">{{include "eye"}}</div><div class="hcc hc__menu__view" el="OnlineCount"></div></div></t><t name="OnlineViewer"><div id="hc_o-{{!it.acc_id}}" title="{{!it.nick}}" class="hcc hc__menu__viewer"><img class="hcc" src="{{? it.avatar}}{{!it.avatar}}{{??}}{{=HC.CDN_HOST}}/data/avatars/{{=it.acc_id}}/avatar{{?}}" onerror="if(this.src != \'{{=HC.Utils.guestAvatar()}}\')this.src=\'{{=HC.Utils.guestAvatar()}}\';"></div></t><t name="Buffer"><div class="hcc" style="posotion:absolute;top:-999999px"><p class="hcc">{{!it.text}}</p></div></t>'),HC.templates.push('<t name="Comments"><div class="hcc hc__messages"></div></t><t name="ItemCom"><div id="hcm-{{!it.id}}" class="hcc hc__m hc__message{{? it.tmp_id && it.is_resp}} hc__tmp{{?}}" itemtype="http://schema.org/Comment" itemscope="itemscope"><div el="AvatarWrap" class="hcc hc__avatar" {{? it.vote_op}}style="opacity:{{=it.vote_op}}"{{?}}>{{include "HCAvatar"}}{{? it.moder}}<div title="{{t "Moderator"}}" class="hcc hc__avatar__m">M</div>{{?}}</div><div class="hcc hc__message__comment" el="Comment" {{? it.vote_op}}style="opacity:{{=it.vote_op}}"{{?}}><div class="hcc hc__message__header"><span el="Nick" data-href="{{=HC.PROFILE_HOST}}/{{=it.acc_id}}" class="hcc hc__nick" itemprop="author">{{!it.nick}}</span>{{? it.parent && !it.parent.t}}<span class="hcc hc__nick__parent" el="ToMes">> {{!it.parent.nick}}</span>{{?}}<meta itemprop="dateCreated" content="{{=HC.Utils.timeIso(it.time)}}" /><span class="hcc hc__time" el="Time">{{=it.time_ago}}</span></div>{{? (it.parent_id || it.quote_id) && !it.is_resp && it.settings.default_filter != \'all\' && it.settings.default_filter != \'youtube\' && it.settings.tab != \'context\'}}{{include "ParentCom"}}{{?}}<div class="hcc hc__message__txt" el="Text" itemprop="text">{{? it.cat}}<span class="hcc hc__message__cat" style="color:{{!it.cat_color}}">{{!it.cat}}:</span> {{?}}{{=it.text}}</div>{{? it.files}}<div class="hcc hc__message__att" el="AttFiles">{{=it.files}}</div>{{?}}<div class="hcc hc__message__moderate hc_unclick" el="Moderate">{{include "select"}}<div class="hcc hc__message__popup" el="ModerateBox">{{? !it.auth.moderator}}{{include "UserModer"}}{{??}}{{include "AdminModer"}}{{?}}</div></div>{{? it.state == 2 }}<div class="hcc hc__message__pre">{{t "Message Pre-Moderate"}}</div>{{??}}<div el="FooterCom" class="hcc hc__message__footer">{{? !it.settings.readonly}}<div class="hcc hc__manager"><div class="hcc hc__manager__item" el="ReplyHc">{{t "Reply"}}</div>{{? it.acc_id && it.auth.acc_id == it.acc_id}}<div class="hcc hc__manager__item" rel="Del" data-t="del">{{t "Delete"}}</div>{{?}}{{? it.acc_id && it.auth.acc_id == it.acc_id && (new Date() - new Date(it.time)) <= 180000}}<div class="hcc hc__manager__item" el="EditHc">{{t "Edit"}}</div>{{?}}{{? it.parent_id && it.settings.default_filter != \'all\' && it.settings.default_filter != \'youtube\'}}<div class="hcc hc__manager__item" el="ContextHc">{{t "Context"}}</div>{{?}}</div><span class="hcc" el="RTline"></span>{{include "Voting"}}{{? it.settings.moderatorbox && !it.moder && it.auth.moderator}}<span title="{{t "accent comment"}}" el="Accent" class="hcc hc__manager__item hc__manager__accent" style="margin-right:0">{{t "Accent"}}</span>{{?}}{{??}}{{include "Voting"}}{{?}}<div class="hcc hc__clear"></div></div>{{?}}</div><div class="hcc hc__message__reply" el="ReplyForm"></div></div></t><t name="ItemMoreYoutube"><div class="hcc hc__message__more" data-rid="{{!it.root_id}}" el="MoreReplies"{{? it.active}}active="true"{{?}}><span el="MoreLabel">{{!it.text}}</span> (<span id="mrc-{{!it.root_id}}">{{=it.children}}</span>){{include "select"}}</div></t><t name="HideMessage"><span class="hcc hc__message__ban" el="BanCom"{{? it.active}}active="true"{{?}}>{{!it.text}}</span></t><t name="HcPre"><div class="hcc hc__message__pre">{{t "Message Pre-Moderate"}}</div></t><t name="UserModer"><div class="hcc hc__message__popup__item" el="Link"><span class="hcc hc__message__popup__item__img">{{include "link"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Link"}}</span></div><div class="hcc hc__message__popup__item" el="UserSpam"><span class="hcc hc__message__popup__item__img">{{include "spam"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Mark as spam"}}</span></div><div class="hcc hc__message__popup__item" el="Complaint"><span class="hcc hc__message__popup__item__img">{{include "complain"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Complaint"}}</span></div></t><t name="AdminModer"><div class="hcc hc__message__popup__item" el="Link"><span class="hcc hc__message__popup__item__img">{{include "link"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Link"}}</span></div><div class="hcc hc__message__popup__item" rel="Del" data-t="del"><span class="hcc hc__message__popup__item__img">{{include "del"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Delete"}}</span></div><div class="hcc hc__message__popup__item" rel="Del" data-t="spam"><span class="hcc hc__message__popup__item__img">{{include "spam"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Spam"}}</span></div><div class="hcc hc__message__popup__item" el="Ban"><span class="hcc hc__message__popup__item__img">{{include "ban"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Ban"}}</span></div><div class="hcc hc__message__popup__item"><span class="hcc hc__message__popup__item__img">{{include "moder"}}</span><span class="hcc hc__message__popup__item__txt">{{t "Moderate"}}</span><a class="hcc" target="_blank" href="{{!it.url}}"></a></div></t><t name="HCItemCom"><div id="hcm-{{!it.id}}" class="hcc hc__m hc__quote"><div class="hcc hc__quote__img">{{include "quote"}}</div><div class="hcc hc__quote__content" el="ToQuote"><div class="hcc hc__quote__time">{{=it.time_ago}}</div><div class="hcc hc__quote__txt">{{=it.text}}</div></div></div></t><t name="QuoteItemCom"><div id="hcm-{{!it.id}}" class="hcc hc__m hc__quote"><div class="hcc hc__quote__img">{{include "quote"}}</div><div class="hcc hc__quote__content"><div class="hcc hc__quote__time">{{=it.time_ago}}</div><div class="hcc hc__quote__txt">{{=it.parent.text}}</div></div>{{include "ItemCom"}}</div></t><t name="CommentsRemove"><div id="hcm-{{!it.id}}" class="hcc hc__m hc__message"><div class="hcc hc__avatar"><img src="{{=HC.CDN_HOST}}/data/avatars/0/avatar"></div><div class="hcc hc__message__comment"><div class="hcc hc__message__remove">{{? it.reason_del}}{{!it.reason_del}}{{??}}{{t "Message deleted"}}{{?}}</div></div></div></t><t name="MessageRemove"><div class="hcc hc__message__del">{{? it.reason_del}}{{!it.reason_del}}{{?? it.spam_service}}{{t "Comment marked as spam"}}{{??}}{{t "Message deleted"}}{{?}}</div></t><t name="ParentCom"><div class="hcc hc__parent" {{? it.hypertext_id }}el="ToQuote" style="cursor:pointer" {{?}}>{{? it.parent_id && !it.parent}}{{t "Message deleted"}}{{?? it.parent.t || it.quote_id}}<div class="hcc hc__quote__img">{{include "quote"}}</div><span class="hcc hc__quote__txts">{{=it.parent.text}}</span>{{??}}<div class="hcc hc__parent__ava">{{include "HCParentAvatar"}}</div><div class="hcc hc__parent__nick">{{!it.parent.nick}}</div>{{=it.parent.text}}{{?}}</div></t><t name="ParentText"><div class="hcc hc__parent__txt">{{=it.first_part}} <span class="hcc hc__moretxt hc__hide" el="HideP">{{=it.last_part}}</span><span class="hcc hc__parent__toggle" el="More"> {{t "more"}}...</span></div></t><t name="ImageMedia"><div class="hcc hc__message__attimg">{{? jHC.IEVestion && jHC.IEVestion < 9}}<img class="hcc" alt="" el="WatchImg" src="{{!it.src}}" />{{??}}<img class="hcc" alt="" el="WatchImg" src="{{!it.src}}" />{{?}}</div></t><t name="PresentMedia"><div class="hcc hc__message__present" el="WatchMedia" data-href="{{!it.href}}"><img width="50" height="61" class="hcc" src="{{=HC.DIR}}img/presentation.svg" /></div></t><t name="VideoMedia"><div class="hcc hc__message__video" el="WatchMedia" data-href="{{!it.href}}"><div class="hcc hc__message__video__wrap"><img class="hcc" alt="" src="{{=it.preview}}" /><div class="hcc hc__message__video__play">{{include "play"}}</div></div></div></t><t name="VideoIframe"><iframe type="text/html" style="width:100%;height:385px" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" src="{{!it.href}}" frameborder="0"></iframe></t><t name="ImgOpen"><div class="hcc hc__imgpopup e__hc__popup" data-x="{{=it.left}}" data-y="{{=it.top}}" data-w="{{=it.w}}" data-h="{{=it.h}}" data-ww="{{=it.ww}}" data-hh="{{=it.hh}}"><div class="hcc hc__hide__background" el="Bg"></div><div style="left:{{=it.left}}px;top:{{=it.top}}px" class="hcc hc__imgpopup__wrap" el="Wrap"><div class="hcc hc__imgpopup__close" el="Close">{{include "close"}}</div><img style="width:{{=it.ww}}px;height:{{=it.hh}}px" src="{{!it.src}}" /></div></div></t><t name="Voting"><div class="hcc hc__voting__amount"><div class="hcc hc__voting__total hc_unclick" el="Vt">{{include "Vote"}}</div><div class="hcc hc__voting__detail" el="VtD"><div class="hcc hc__voting__detail__plus" el="VtD_p">+{{=it.vote_up}}</div><div class="hcc hc__voting__detail__min" el="VtD_m">-{{=it.vote_dn}}</div></div></div>{{? it.settings && !it.settings.guest_chat}}<div class="hcc hc__voting" el="Voting"><div class="hcc hc__voting__good" rel="Vote" data-v="up">{{include "like"}}</div><div class="hcc hc__voting__bad" rel="Vote" data-v="dn">{{include "dlike"}}</div></div>{{?}}</t><t name="Vote">{{? it.vote > 0}}<span class="hcc hc__voting__plus" el="Plus">+{{!it.vote}}</span>{{?? it.vote < 0}}<span class="hcc hc__voting__minus" el="Minus">{{!it.vote}}</span>{{?}}</t><t name="RTLine"><span class="hcc hc__rtline" el="HCRTline"><span class="hcc hc__rtline__reply">{{t "replies"}} (<span class="hcc hc__rtline__count" id="hc_rt-{{=it.pid}}">{{=it.count}}</span>)</span><span class="hcc hc__rtline__anim" rel="rt_anim"></span></span></t>'),HC.templates.push('<t name="Form"><div class="hcc hc__form"><div class="hcc hc__reply__photo" el="HCAvatar">{{include "HCAvatar"}}</div><div class="hcc hc__reply__box"><div class="hcc hc__reply__attach">{{? it.settings.formatting}}{{include "Formatting"}}{{?}}{{? it.settings.image || it.settings.video || it.settings.presentation}}<div class="hcc hc__reply__clip hc_unclickClip" rel="Clip" data-t="Clip">{{include "clip"}}<div class="hcc hc__message__popup" rel="Box" el="ClipBox">{{? it.settings.image}}<div class="hcc hc__message__popup__item" el="Attach" data-type="img"><span class="hcc hc__message__popup__item__img">{{include "img"}}</span><span class="hcc">{{t "image"}}</span>{{include "UploadImg"}}</div>{{?}}{{? it.settings.video}}<div class="hcc hc__message__popup__item" el="Attach" data-type="video"><span class="hcc hc__message__popup__item__img">{{include "video"}}</span><span class="hcc">{{t "video"}}</span></div>{{?}}{{? it.settings.presentation}}<div class="hcc hc__message__popup__item" el="Attach" data-type="presentation"><span class="hcc hc__message__popup__item__img">{{include "present"}}</span><span class="hcc">{{t "presentation"}}</span></div>{{?}}</div></div>{{?}}{{? it.settings.smile}}{{include "Smiles"}}{{?}}</div><textarea el="HcText" class="hcc hc__reply__box__textarea" placeholder="{{t "Enter text"}}..."></textarea><div class="hcc hc__reply__close" el="CloseForm">{{include "close"}}</div></div><div class="hcc hc__reply__files" el="AttachFiles"></div><div class="hcc hc__squaredThree" el="CrossPost"><input el="CrossInp" {{? it.settings.crossposting}}checked="checked"{{?}} class="hcc hc__checkbox" type="checkbox" id="hc_cross_{{=it.form_id}}" name="check" /><label class="hcc" for="hc_cross_{{=it.form_id}}"><span class="hcc hc__squaredThree__span">{{t "crossposting to"}} <span class="hcc" el="Social"></span></span></label></div><div class="hcc hc__reply__buttons" el="FButtons">{{include "Loader"}}{{? it.settings.comment_length}}<div el="ComLen" class="hcc hc__reply__len">{{!it.settings.comment_length}}</div>{{?}}{{? it.settings.cat.length}}<div class="hcc hc__form__category hc_unclick" el="Cat"><span class="hcc" el="CatTitle">{{t "Category"}}</span><div class="hcc hc__form__category__t"></div><div class="hcc hc__message__popup" el="CatBox">{{~it.settings.cat :value:index}}<div class="hcc hc__message__popup__item" rel="CatItem" data-id="{{!value.id}}"><span class="hcc">{{!value.title}}</span></div>{{~}}</div></div>{{?}}<div class="hcc hc__form__send" el="HcSend">{{t "Add comment"}}</div></div><div class="hcc hc__clear"></div></div></t><t name="UploadImg"><form el="UploadImg" class="hc__reply__uploadform" method="POST" enctype="multipart/form-data" action="{{!HC.ADM_API}}/upload"><input type="hidden" name="response_type" value="postmessage" /><input type="hidden" name="host" value="{{!document.location.protocol + \'//\' + document.location.host}}" /><input type="file" el="UploadInp" class="hc__reply__upload" value="UploadFile" size="80" name="file" accept="image/*"></form></t><t name="AttachFile"><div class="hcc hc__reply__file" data-pos="{{=it.pos}}"><div class="hcc hc__reply__file__close" rel="DelFile">{{include "close"}}</div>{{? it.preview}}<img class="hcc" alt="" src="{{!it.preview.replace(\'http:\',\'\').replace(\'https:\',\'\')}}">{{??}}<img class="hcc" alt="" src="{{!it.href.replace(\'http:\',\'\').replace(\'https:\',\'\')}}">{{?}}</div></t><t name="Edit"><div class="hcc hc__edit"><textarea active="true" id="hc_edit_text" class="hcc hc__reply__box__textarea">{{=it.text}}</textarea><div class="hcc hc__reply__buttons" style="display:block">{{? it.settings.comment_length}}<div el="ComLen" class="hcc hc__reply__len">{{!it.settings.comment_length}}</div>{{?}}<span class="hcc hc__edit__cancel" el="Cancel">{{t "Cancel"}}</span><div class="hcc hc__form__send" el="Edit">{{t "Save"}}</div></div><div class="hcc hc__clear"></div></div></t><t name="CloseDisqus"><div class="hcc hc__nodisqus">{{? it.readonly == \'need_auth\'}}{{t "Need Auth"}}. <span el="Login" class="hcc hc__nodisqus__login">{{t "Login"}}</span>{{??}}{{t "Close discussion"}}{{?}}</div></t><t name="Smiles"><div class="hcc hc__reply__smile hc_unclickSmile" rel="Clip" data-t="Smile">{{include "smile"}}<div class="hcc hc__message__popup hc__smile" rel="Box" el="SmileBox">{{~HC.Smiles.emojiId() :value:index}}<div rel="Smile" data-id="{{=value}}" class="hc__smile__item hc__icon hc__icon-{{=value}}"></div>{{~}}</div></div></t><t name="ItemSmile"><div rel="Smile" data-id="{{=it.code}}" class="hc__smile__i hc__icon hc__icon-{{=it.code}}"></div></t><t name="Formatting"><div class="hcc hc__reply__clip hc_unclickFormatting" rel="Clip" data-t="Formatting">{{include "formatting"}}<div class="hcc hc__message__popup hc__formatting" rel="Box" el="FormattingBox"><div class="hcc" title="bold" rel="Format" data-t="b">{{include "bold"}}</div><div class="hcc" title="underline" rel="Format" data-t="u">{{include "underline"}}</div><div class="hcc" title="code" rel="Format" data-t="code">{{include "code"}}</div><div class="hcc" title="strike" rel="Format" data-t="s">{{include "strike"}}</div><div class="hcc" title="italic" rel="Format" data-t="i">{{include "italic"}}</div><div class="hcc" title="quote" rel="Format" data-t="q">{{include "quote_tag"}}</div></div></div></t>'),HC.templates.push('<t name="Authorization"><div class="hcc hc__authorization e__hc__popup"><div class="hcc hc__hide__background" el="Bg"></div><div class="hcc hc__authorization__wrap" el="Wrap"><div class="hcc hc__authorization__box" el="Box"><div class="hcc hc__authorization__close" el="Close">{{include "close"}}</div><div class="hcc hc__authorization__title">{{t "authorization"}}</div>{{? it.hc_auth}}<div class="hcc hc__authorization__soc" el="AuthBox"></div>{{?}}{{? it.guest_comments}}<div class="hcc" el="Guest"><div class="hcc hc__authorization__anonim__title">{{t "anonymously"}}</div><div class="hcc hc__authorization__anonim"><div rel="Inp" class="hcc hc__authorization__wrapf hc_unclick"><input class="hcc" el="Nick" type="text" placeholder="{{t "Your nick"}}"><hr class="hcc hc__authorization__wrapf__hrgrey"><hr rel="Act" class="hcc hc__authorization__wrapf__hract"></div><div rel="Inp" class="hcc hc__authorization__wrapf hc_unclick"><input class="hcc" el="Email" type="text" placeholder="E-mail"><hr class="hcc hc__authorization__wrapf__hrgrey"><hr class="hcc hc__authorization__wrapf__hract"></div><div class="hcc hc__authorization__send" el="Send"><div class="hcc hc__authorization__send__txt">{{t "Send"}}</div><div rel="Act" class="hcc hc__authorization__send__img">{{include "send"}}</div></div></div></div>{{?}}</div></div></div></t><t name="AuthItem"><div rel="Auth" data-type="{{!it.type}}" class="hcc hc__authorization__soc__item hc__authorization__{{!it.type}}">{{include it.type}}</div></t><t name="SSOItem"><div el="SSO" class="hcc hc__authorization__soc__item hc__authorization__sso"><img class="hcc" title="{{!it.auth_title}}" src="{{!it.auth_logo}}" /></div></t>'),HC.templates.push('<t name="NotifyMes"><div class="hcc hc__notify"><table class="hcc hc__notify__wrap"><tr class="hcc"><td class="hcc hc__notify__text">{{!it.text}}</td><td class="hcc hc__notify__close" el="Close"><span class="hcc hc__close"></span></td></tr></table></div></t><t name="NotifyRealtime"><div class="hcc hc__realtime" id="HCRt" el="RTnotify"><div class="hcc hc__realtime__box"><div class="hcc hc__realtime__img">{{include "newcomment"}}</div>{{t "New Comments"}} (<span class="hcc" id="hc_rtc">1</span>)</div></div></t>'),HC.templates.push('<t name="AttachPopup"><div class="hcc hc__popup e__hc__popup"><div class="hcc hc__hide__background"></div><div class="hcc hc__popup__wrap"><div class="hcc hc__popup__box" el="Box"><div class="hcc hc__popup__close" el="Close">{{include "close"}}</div><div class="hcc hc__popup__title" el="Title"></div><div class="hcc hc__popup__flex"><div rel="Inp" class="hcc hc__popup__wrapf hc_unclick"><input el="Ph" class="hcc" type="text"><hr class="hcc hc__popup__wrapf__hrgrey"><hr class="hcc hc__popup__wrapf__hract"></div><div class="hcc hc__popup__send" el="Attach"><div class="hcc hc__popup__send__txt">{{t "Attach"}}</div><div class="hcc hc__popup__send__img">{{include "send"}}</div></div></div></div></div></div></t><t name="Complain"><div class="hcc hc__popup e__hc__popup"><div class="hcc hc__hide__background"></div><div class="hcc hc__popup__wrap"><div class="hcc hc__popup__box" el="Box"><div class="hcc hc__popup__close" el="Close">{{include "close"}}</div><div class="hcc hc__popup__title" el="Title">{{t "Complaint"}}</div><div class="hcc hc__popup__flex" style="height: 50px;"><div rel="Inp" class="hcc hc__popup__wrapf hc_unclick"><textarea el="Ph" class="hcc " style="height: 50px;"></textarea><hr class="hcc hc__popup__wrapf__hrgrey"><hr class="hcc hc__popup__wrapf__hract"></div><div class="hcc hc__popup__send" el="Send" style="margin-top:7px"><div class="hcc hc__popup__send__txt">{{t "Send"}}</div><div class="hcc hc__popup__send__img">{{include "send"}}</div></div></div></div></div></div></t><t name="Link"><div class="hcc hc__popup e__hc__popup"><div class="hcc hc__hide__background"></div><div class="hcc hc__popup__wrap"><div class="hcc hc__popup__box" el="Box"><div class="hcc hc__popup__close" el="Close">{{include "close"}}</div><div class="hcc hc__popup__title" el="Title">{{t "Link"}}</div><div class="hcc hc__popup__flex"><div rel="Inp" style="width:100%;" class="hcc hc__popup__wrapf hc_unclick"><input el="Ph" class="hcc" type="text" onclick="this.select()" autofocus><hr class="hcc hc__popup__wrapf__hrgrey"><hr class="hcc hc__popup__wrapf__hract"></div></div></div></div></div></t><t name="Warning"><div class="hcc hc__popup e__hc__popup"><div class="hcc hc__hide__background"></div><div class="hcc hc__popup__wrap"><div class="hcc hc__popup__box"><div class="hcc hc__popup__close" el="Close">{{include "close"}}</div><div class="hcc hc__popup__title" style="color:#D03C3C" el="Title">{{t "Warning"}}</div><div class="hcc hc__popup__warning" el="Warning"></div></div></div></div></t><t name="LinkCopy"><textarea el="Copy" class="hcc hc__popup__linkcopy">{{!it.link}}</textarea></t>'),HC.templates.push('<t name="Likes"><div class="hcc"><div class="hcc hc__top__like hc_unclick" rel="Like" data-t="like"><div class="hcc hc__top__block hc__top__lk">{{include "like"}}</div><div class="hcc hc__top__block">{{t "Like"}}</div><div class="hcc hc__top__block" el="likesCount">{{? it.likes > 0}}{{=it.likes}}{{?}}</div></div><div class="hcc hc__top__unlike" rel="Like" data-t="dlike"><div class="hcc hc__top__block hc__top__ulk">{{include "dlike"}}</div><div class="hcc hc__top__block" el="unlikesCount">{{? it.unlikes > 0}}{{=it.unlikes}}{{?}}</div></div><div class="hcc hc__clear"></div>{{include "Share"}}</div></t><t name="Share"><div class="hcc hc__top__share" el="Share"><div rel="Share" data-t="g" class="hcc hc__top__share__g hc__top__share__item" title="{{t "Share to Google+"}}">{{include "share_google"}}</div><div rel="Share" data-t="f" class="hcc hc__top__share__f hc__top__share__item" title="{{t "Share to Facebook"}}">{{include "share_fb"}}</div><div rel="Share" data-t="t" class="hcc hc__top__share__t hc__top__share__item" title="{{t "Share to Twitter"}}">{{include "share_tw"}}</div><div rel="Share" data-t="v" class="hcc hc__top__share__v hc__top__share__item" title="{{t "Share to VK"}}">{{include "share_vk"}}</div></div></t>'),
HC.templates.push('<t name="QuotesBox"><div class="hcc hc__messages"></div></t><t name="QuoteItem"><div class="hcc hc__quote hc__quote-bd"><div class="hcc hc__quote__img">{{include "quote"}}</div><div class="hcc hc__quote__content"><div class="hcc hc__quote__time">{{=it.time_ago}}</div><div class="hcc hc__quote__txt">{{=it.text}}</div></div><div class="hcc hc__quote__act" el="Tr" title="{{t "Views quotes"}}">{{? it.transitions}}{{=it.transitions}}{{?}}</div></div></t>'),HC.templates.push('<t name="MixRoot"><div class="hcc hc__mix"><div class="hcc hc__mix__title" el="Title"></div><div class="hcc" el="Tabs"></div><div class="hcc hc__mix__wrap" el="Cont"></div></div></t><t name="MixTabs"><div class="hcc hc__mix__tabs">{{? it.default_filter = \'last\'}}<div rel="tab" data-t="last" class="hcc hc__mix__tabs__item" active="true">{{t "New"}}</div><div rel="tab" data-t="popular" class="hcc hc__mix__tabs__item">{{t "Popular"}}</div>{{??}}<div rel="tab" data-t="last" class="hcc hc__mix__tabs__item" active="true">{{t "Popular"}}</div><div rel="tab" data-t="popular" class="hcc hc__mix__tabs__item">{{t "New"}}</div>{{?}}<div class="hcc hc__mix__tabs__line" el="Line"></div></div></t><t name="MixItemC"><div class="hcc hc__mix__message"><div class="hcc hc__mix__avatar">{{include "HCAvatar"}}</div><div class="hcc hc__mix__cont"><div class="hcc hc__mix__head"><span class="hcc hc__nick">{{!it.nick}}</span><span class="hcc hc__time">{{=it.time_ago}}</span></div><div class="hcc hc__mix__txt hc__message__txt">{{=it.text}}</div>{{? it.files}}<div class="hcc">{{=it.files}}</div>{{?}}<div class="hcc hc__mix__link"><a target="_blank" href="{{!it.link}}#hcm={{!it.id}}" class="hcc hc__manager__item">{{!it.title}}</a></div></div><div class="hcc hc__clear"></div></div></t><t name="MixItemP"><div class="hcc hc__mix__message"><div class="hcc hc__mix__link"><a target="_blank" href="//{{!it.link}}" style="font-size:14px" class="hcc hc__manager__item">{{!it.title}}</a></div><div class="hcc hc__mix__counter hc__message__txt">{{t "Comments"}} ({{=it.cm2}})</div></div></t>'),HC.templates.push('<t name="HTIcon"><span class="hcc hc__ht hc_{{!it.hash}}" data-hc-id="{{!it.hash}}">{{include "comment"}}<span class="hcc hc__htcount">+</span></span></t><t name="HTCliker"><div class="hcc hc__cliker e_hcliker hc_{{!it.hash}}"><div class="hcc hc__cliker__trgl"></div><div el="Comment" class="hcc hc__cliker__img">{{include "comment"}}</div><div rel="Share" data-t="t" class="hcc hc__cliker__img">{{include "tw_ht"}}</div><div rel="Share" data-t="f" class="hcc hc__cliker__img">{{include "fb_ht"}}</div><div rel="Share" data-t="v" class="hcc hc__cliker__img">{{include "vk_ht"}}</div></div></t><t name="HTPopup"><div class="hcc hc__htpopup e_htpopup hc_{{!it.htID}}" clear="true"><div el="Trgl" class="hcc hc__htpopup__trgl"></div><div class="hcc hc__htpopup__wrap"><div class="hcc" el="FormHc"></div><div class="hc__htpopup__loader" el="Loader">{{include "LoaderHt"}}</div><div class="hcc hc__htpopup__comments" el="HcContent"></div></div></div></t><t name="HThighlight"><span class="hc__hth e_hchl" {{? it.hypertext_color}}style="background-color:{{!it.hypertext_color}}"{{?}}></span></t><t name="LoaderHt"><div class="hc__loader"><svg class="hc__loader__circular"><circle class="hc__loader__path" cx="25" cy="25" r="11" fill="none" stroke-width="3" stroke-miterlimit="5"/></svg></div></t>'),HC.templates.push('<t name="OldRoot"><div class="hcc hc__oldroot"><div class="hcc hc__banner">{{t "old browsers"}}.</div><div class="hcc hc__oldbox" el="Box"></div></div></t><t name="OldItem"><div class="hcc hc__olditem"><div class="hcc hc__oldnick">{{!it.nick}}</div><div class="hcc hc__oldtext">{{=it.text}}</div>{{? it.files}}<div class="hcc hc__oldfiles">{{=it.files}}</div>{{?}}</div></t>'),HC.templates.push('<t name="Ident"><div class="hcc hc__notify hc__ident"><div el="Trgl" class="hcc hc__ident__trgl"></div><table class="hcc hc__notify__wrap"><tr class="hcc"><td class="hcc hc__notify__text">{{t "New Comments"}} (<span el="Count" class="hcc hc__notify__text hc__ident-count">1</span>)</td><td class="hcc hc__notify__close" el="Close"><span class="hcc hc__close"></span></td></tr></table></div></t>'),HC.templates.push('<t name="newcomment"><svg width="18" height="18" viewBox="0 0 27 27"><path fill="#F39C12" d="M24.998,0.501H2.3c-1.1,0-2,1-2,2.1V18c0,1.2,0.9,2.1,2,2.1h3.9c0.6,0,1.2,0.6,1.2,1.2v4.7l6.099-5.599c0.2-0.2,0.5-0.3,0.8-0.3h10.699c1.1,0,2-1,2-2.1V2.701C26.998,1.501,26.098,0.501,24.998,0.501z M26.198,18.1c0,0.7-0.5,1.2-1.2,1.2H14.199c-0.5,0-0.9,0.2-1.3,0.5l-4.7,4.3v-2.7c0-1.2-0.9-2.1-2-2.1H2.3c-0.6,0-1.2-0.6-1.2-1.2V2.701c0-0.7,0.5-1.2,1.2-1.2h22.698c0.6,0,1.2,0.6,1.2,1.2V18.1z"/><path fill="#F39C12" d="M24.998,0.501H2c-1.1,0-2,1-2,2.2V18.3c0,1.2,0.9,2.2,2,2.2h4c0.6,0,1.2,0.6,1.2,1.3v4.7l6.199-5.699c0.2-0.2,0.5-0.3,0.8-0.3h10.799c1.1,0,2-1,2-2.2V2.701C26.998,1.501,26.098,0.501,24.998,0.501z M26.198,18.3c0,0.7-0.5,1.3-1.2,1.3H14.099c-0.5,0-0.9,0.2-1.3,0.5l-4.8,4.4v-2.7c0-1.2-0.9-2.2-2-2.2H2c-0.6,0-1.2-0.6-1.2-1.3V2.701c0-0.7,0.5-1.3,1.2-1.3h22.998c0.6,0,1.2,0.6,1.2,1.3V18.3z"/></svg></t>'),HC.templates.push('<t name="settings"><svg width="18" height="18" viewBox="0 0 369.793 369.792"><path fill="#cfd6da" d="M320.83,140.434l-1.759-0.627l-6.87-16.399l0.745-1.685c20.812-47.201,19.377-48.609,15.925-52.031L301.11,42.61c-1.135-1.126-3.128-1.918-4.846-1.918c-1.562,0-6.293,0-47.294,18.57L247.326,60l-16.916-6.812l-0.679-1.684C210.45,3.762,208.475,3.762,203.677,3.762h-39.205c-4.78,0-6.957,0-24.836,47.825l-0.673,1.741l-16.828,6.86l-1.609-0.669C92.774,47.819,76.57,41.886,72.346,41.886c-1.714,0-3.714,0.769-4.854,1.892l-27.787,27.16c-3.525,3.477-4.987,4.933,16.915,51.149l0.805,1.714l-6.881,16.381l-1.684,0.651C0,159.715,0,161.556,0,166.474v38.418c0,4.931,0,6.979,48.957,24.524l1.75,0.618l6.882,16.333l-0.739,1.669c-20.812,47.223-19.492,48.501-15.949,52.025L68.62,327.18c1.162,1.117,3.173,1.915,4.888,1.915c1.552,0,6.272,0,47.3-18.561l1.643-0.769l16.927,6.846l0.658,1.693c19.293,47.726,21.275,47.726,26.076,47.726h39.217c4.924,0,6.966,0,24.859-47.857l0.667-1.742l16.855-6.814l1.604,0.654c27.729,11.733,43.925,17.654,48.122,17.654c1.699,0,3.717-0.745,4.876-1.893l27.832-27.219c3.501-3.495,4.96-4.924-16.981-51.096l-0.816-1.734l6.869-16.31l1.64-0.643c48.938-18.981,48.938-20.831,48.938-25.755v-38.395C369.793,159.95,369.793,157.914,320.83,140.434z M184.896,247.203c-35.038,0-63.542-27.959-63.542-62.3c0-34.342,28.505-62.264,63.542-62.264c35.023,0,63.522,27.928,63.522,62.264C248.419,219.238,219.92,247.203,184.896,247.203z"/></svg></t>'),HC.templates.push('<t name="eye"><svg width="20" height="20" viewBox="0 0 519.578 519.578"><path fill="#cfd6da" d="M513.095,245.101c0,0-140.683-139.842-253.291-139.842c-112.608,0-253.292,139.842-253.292,139.842c-8.645,8.109-8.721,21.42,0,29.375c0,0,140.684,139.843,253.292,139.843c112.608,0,253.291-139.843,253.291-139.843C521.663,266.368,521.816,253.134,513.095,245.101z M260.875,372.397c-61.889,0-112.149-50.185-112.149-112.149s50.184-112.149,112.149-112.149c61.965,0,112.148,50.26,112.148,112.149S322.763,372.397,260.875,372.397z"/><path fill="#cfd6da" d="M259.574,187.726c-39.321,0-71.222,32.053-71.222,71.451c0,39.397,31.901,71.451,71.222,71.451c39.321,0,71.222-32.054,71.222-71.451C330.796,219.78,298.896,187.726,259.574,187.726z M286.426,259.407c-12.163,0-22.108-9.946-22.108-22.262s9.945-22.261,22.108-22.261s22.108,9.945,22.108,22.261S298.742,259.407,286.426,259.407z"/></svg></t>'),HC.templates.push('<t name="clip"><svg class="hcc hc__reply__clip__img" width="20" height="20" viewBox="0 0 27 27"><path fill="#bdc3c7" d="M21.931,6.827c-0.599,0-1.298,0-1.898,0c0,2.796,0,5.493,0,8.29c0,2.097,0.1,4.295-0.499,5.793c-0.599,1.598-1.798,2.697-3.296,3.396c-1.398,0.699-3.795,0.899-5.493,0.2c-1.798-0.699-3.196-2.297-3.795-4.095c-0.599-1.698-0.3-4.494-0.3-6.692c0-5.693-0.899-10.487,3.895-11.585c1.099-0.3,2.297,0.1,2.996,0.499c3.396,1.798,2.597,5.793,2.597,10.687c0,2.896,0.499,6.292-1.298,7.491c-1.398,0.899-3.296,0.1-3.995-0.899c-0.599-0.899-0.399-2.597-0.399-4.095c0-2.996,0-5.992,0-8.989c-0.599,0-1.298,0-1.898,0c0,2.796,0,5.693,0,8.489c0,1.698-0.1,3.695,0.399,4.894c0.499,1.198,1.598,2.097,2.896,2.597c0.999,0.399,2.497,0.399,3.496-0.1c3.196-1.398,2.896-5.193,2.896-9.788c0-7.391,0.3-11.785-6.092-12.884c-1.398-0.2-2.796,0.3-3.595,0.799C4.452,2.932,4.952,6.728,4.952,12.92c0,2.597-0.3,5.893,0.399,7.99c0.699,2.197,2.197,3.895,3.995,4.994c0.799,0.499,1.898,0.799,2.996,0.999c2.197,0.399,4.195-0.399,5.493-1.099C23.229,22.308,22.03,15.517,21.931,6.827z"/></svg></t>'),HC.templates.push('<t name="smile"><svg width="20" height="20" viewBox="0 0 106.059 106.059"><path fill="#bdc3c7" d="M90.546,15.518C69.858-5.172,36.199-5.172,15.515,15.513C-5.173,36.198-5.171,69.858,15.517,90.547c20.682,20.684,54.341,20.684,75.027-0.004C111.23,69.858,111.229,36.2,90.546,15.518z M84.757,84.758c-17.494,17.494-45.96,17.496-63.455,0.002c-17.498-17.497-17.496-45.966,0-63.46C38.796,3.807,67.261,3.805,84.759,21.302C102.253,38.796,102.251,67.265,84.757,84.758z M33.24,38.671c0-3.424,2.777-6.201,6.201-6.201c3.423,0,6.2,2.776,6.2,6.201c0,3.426-2.777,6.202-6.2,6.202C36.017,44.873,33.24,42.097,33.24,38.671z M61.357,38.671c0-3.424,2.779-6.201,6.203-6.201c3.423,0,6.2,2.776,6.2,6.201c0,3.426-2.776,6.202-6.2,6.202S61.357,42.097,61.357,38.671z M76.017,64.068c-3.843,8.887-12.843,14.629-22.927,14.629c-10.301,0-19.354-5.771-23.064-14.703c-0.636-1.529,0.089-3.285,1.62-3.921c0.376-0.155,0.766-0.229,1.15-0.229c1.176,0,2.292,0.695,2.771,1.85c2.777,6.686,9.655,11.004,17.523,11.004c7.69,0,14.528-4.321,17.42-11.011c0.658-1.521,2.424-2.222,3.944-1.563S76.675,62.548,76.017,64.068z"/></svg></t>'),HC.templates.push('<t name="check"><svg width="12" height="12" viewBox="0 0 27 27"><path fill="#17870E" d="M26.402 3.434L9.16 22.171 0.688 13.002 0.09 13.699 9.16 23.566 27 4.131"/></svg></t>'),HC.templates.push('<t name="select"><svg width="12" height="12" viewBox="0 0 27 27"><path fill="#ccc" d="M26.7,4.895c-0.4-0.5-1.199-0.5-1.599,0L13.512,19.382L1.923,4.895c-0.4-0.5-1.199-0.5-1.599,0c-0.4,0.5-0.4,1.299,0,1.798L12.613,22.08c0.2,0.3,0.5,0.4,0.899,0.4c0.3,0,0.599-0.1,0.899-0.4L26.7,6.694C27.1,6.194,27.1,5.395,26.7,4.895z"/></svg></t>'),HC.templates.push('<t name="logo"><svg width="45" height="45" viewBox="0 0 27 27"><path fill="#cfd6da" d="M26.932,20.472c-8.955,0-17.91,0-26.864,0c0-4.676,0-9.353,0-13.93c8.955,0,17.91,0,26.864,0C26.932,11.219,26.932,15.796,26.932,20.472z M13.201,20.174c0-4.477,0-8.955,0-13.333c-4.278,0-8.557,0-12.835,0c0,4.477,0,8.955,0,13.333C4.644,20.174,8.923,20.174,13.201,20.174z M22.653,16.492c-0.199,0-0.497,0.099-0.696,0.099c-0.497,0.099-0.995,0.099-1.492,0.099c-0.895,0-1.492-0.298-1.99-1.094c-0.298-0.597-0.497-1.194-0.497-1.791c0-0.796,0.1-1.592,0.497-2.288c0.298-0.597,0.796-1.094,1.492-1.293c0.497-0.099,0.995-0.099,1.393,0c0.398,0.099,0.796,0.199,1.194,0.298h0.1c0.1-0.199,0.199-0.497,0.298-0.796c-0.1,0-0.1,0-0.199-0.099c-0.597-0.199-1.293-0.298-1.89-0.398c-0.597-0.099-1.094,0.099-1.691,0.199c-0.497,0.199-0.995,0.497-1.393,0.895c-0.696,0.796-0.895,1.691-0.995,2.686c0,0.895,0.199,1.791,0.497,2.587c0.497,0.995,1.194,1.592,2.288,1.791c0.995,0.199,1.89,0,2.885-0.199l0.1-0.099C22.653,17.089,22.653,16.791,22.653,16.492z"/><path fill="#cfd6da" d="M4.943,13.607c0,1.293,0,2.487,0,3.781c-0.298,0-0.597,0-0.895,0c0-0.099,0-0.099,0-0.199c0-2.587,0-5.174,0-7.761c0-0.099,0-0.199,0.199-0.199c0.298,0,0.497,0,0.796,0c0,1.194,0,2.288,0,3.383c1.393,0,2.786,0,4.179,0c0-1.094,0-2.288,0-3.383c0.298,0,0.597,0,0.895,0c0,2.686,0,5.373,0,8.059c-0.298,0-0.597,0-0.895,0c0-1.293,0-2.487,0-3.781C7.729,13.607,6.336,13.607,4.943,13.607z"/></svg></t>'),HC.templates.push('<t name="quote"><svg width="18" height="18" viewBox="0 0 27 27"><path fill="#222" d="M20.827,14.895h-1.893c0.199-1.295,0.399-2.392,0.797-3.289c0.399-0.797,0.997-1.694,1.794-2.491c0.797-0.797,1.594-1.495,2.392-1.993c0.797-0.498,1.794-1.096,3.089-1.794l-1.594-2.292c-0.797,0.498-1.893,1.096-3.089,1.893c-1.196,0.797-2.392,1.694-3.488,2.79c-1.096,1.096-1.993,2.292-2.79,3.687c-0.797,1.395-1.096,2.89-1.096,4.584c0,2.392,0.498,4.285,1.495,5.78s2.691,2.192,4.983,2.192c1.495,0,2.691-0.498,3.488-1.395c0.897-0.897,1.295-1.993,1.295-3.089c0-1.495-0.498-2.691-1.395-3.488C23.817,15.294,22.522,14.895,20.827,14.895z M6.477,9.115C7.275,8.318,8.072,7.62,8.869,7.122c0.797-0.498,1.794-1.096,3.089-1.794l-1.495-2.292C9.666,3.535,8.57,4.133,7.374,4.93C6.178,5.727,4.983,6.624,3.886,7.72c-1.096,1.096-1.993,2.292-2.79,3.687S0,14.297,0,15.991c0,2.392,0.498,4.285,1.495,5.78s2.691,2.192,4.983,2.192c1.495,0,2.691-0.498,3.488-1.395c0.897-0.897,1.295-1.993,1.295-3.089c0-1.495-0.498-2.691-1.395-3.488c-0.997-0.797-2.292-1.196-3.986-1.196H3.986c0.199-1.295,0.399-2.392,0.897-3.289C5.182,10.71,5.78,9.912,6.477,9.115z"/></svg></t>'),HC.templates.push('<t name="link"><svg width="12" height="12" viewBox="0 0 457.03 457.03"><path fill="#7f8c8d" d="M421.512,207.074l-85.795,85.767c-47.352,47.38-124.169,47.38-171.529,0c-7.46-7.439-13.296-15.821-18.421-24.465 l39.864-39.861c1.895-1.911,4.235-3.006,6.471-4.296c2.756,9.416,7.567,18.33,14.972,25.736c23.648,23.667,62.128,23.634,85.762,0 l85.768-85.765c23.666-23.664,23.666-62.135,0-85.781c-23.635-23.646-62.105-23.646-85.768,0l-30.499,30.532 c-24.75-9.637-51.415-12.228-77.373-8.424l64.991-64.989c47.38-47.371,124.177-47.371,171.557,0 C468.869,82.897,468.869,159.706,421.512,207.074z M194.708,348.104l-30.521,30.532c-23.646,23.634-62.128,23.634-85.778,0 c-23.648-23.667-23.648-62.138,0-85.795l85.778-85.767c23.665-23.662,62.121-23.662,85.767,0 c7.388,7.39,12.204,16.302,14.986,25.706c2.249-1.307,4.56-2.369,6.454-4.266l39.861-39.845 c-5.092-8.678-10.958-17.03-18.421-24.477c-47.348-47.371-124.172-47.371-171.543,0L35.526,249.96 c-47.366,47.385-47.366,124.172,0,171.553c47.371,47.356,124.177,47.356,171.547,0l65.008-65.003 C246.109,360.336,219.437,357.723,194.708,348.104z"/></svg></t>'),HC.templates.push('<t name="spam"><svg width="12" height="12" viewBox="0 0 512 512"><path fill="#7f8c8d" d="M368,0H144L0,144v224l144,144h224l144-144V144L368,0z M288,416h-64v-64h64V416z M288,288h-64V96h64V288z"/></svg></t>'),HC.templates.push('<t name="complain"><svg width="12" height="12" viewBox="0 0 27 27"><path fill="#7f8c8d" d="M12.918,2.573c2.807,0,3.108,2.005,4.11,3.809c2.306,4.01,4.611,8.12,6.817,12.13c0.902,1.504,2.306,4.01,0.2,5.413c-0.501,0.401-1.504,0.401-2.506,0.401c-0.902,0-1.905-0.1-2.707-0.1H6.903c-0.401,0-0.802,0-1.203,0c-1.804,0-3.208-0.1-3.809-1.504c-0.802-2.005,1.203-4.01,1.804-5.313C5.6,14.001,7.504,10.693,9.309,7.285C10.512,5.28,10.913,3.776,12.918,2.573 M13.619,17.009c0.2,0,0.501-0.1,0.702-0.2c0.501-1.403,1.403-8.22,0.501-9.523c-0.2-0.301-0.802-0.401-1.303-0.401c-0.601,0.301-1.103,0.401-1.303,1.002c-0.501,1.303,0.301,8.32,0.802,9.122C13.218,17.009,13.419,17.009,13.619,17.009 M13.519,21.62c0.2,0,0.301,0,0.501-0.1c1.704-0.501,1.504-3.208-0.601-3.108h-0.1C11.614,19.314,11.815,21.62,13.519,21.62 M12.438,0.886L12.015,1.07c-2.005,1.203-2.707,2.606-3.408,4.11c-0.2,0.401-0.401,0.802-0.702,1.303l-3.208,5.814l-2.406,4.411c-0.1,0.2-0.301,0.501-0.501,0.802c-0.902,1.303-2.406,3.609-1.403,6.015c1.103,2.606,3.809,2.606,5.413,2.606h0.601h0.601h12.029c0.401,0,0.702,0,1.203,0c0.501,0,1.002,0,1.504,0c1.604,0,2.707-0.2,3.408-0.702c3.509-2.306,1.103-6.416,0.301-7.819l-3.408-6.015l-3.408-6.015c-0.2-0.301-0.301-0.702-0.501-1.002c-0.702-1.504-1.804-3.709-5.213-3.709l-0.34,0.001L12.438,0.886z"/></svg></t>'),HC.templates.push('<t name="send"><svg width="18" height="18" viewBox="0 0 27 27"><path fill="#F39C12" d="M20.67,13.226L6.935,0.188c-0.199-0.199-0.498-0.199-0.597,0c-0.199,0.199-0.199,0.398,0,0.597l13.437,12.74L6.338,26.265c-0.199,0.199-0.199,0.398,0,0.597c0.1,0.1,0.199,0.1,0.299,0.1c0.1,0,0.199,0,0.299-0.1L20.67,13.823c0.1-0.1,0.1-0.199,0.1-0.299C20.869,13.425,20.77,13.326,20.67,13.226z"/></svg></t>'),HC.templates.push('<t name="img"><svg width="14" height="14" viewBox="0 0 512 512"><path fill="#999" d="M0,48v416h512V48H0z M480,432H32V80h448V432z M352,160c0,26.51,21.49,48,48,48s48-21.49,48-48s-21.49-48-48-48S352,133.49,352,160z M448,400H64l96-256l128,160l64-48L448,400z"/></svg></t>'),HC.templates.push('<t name="mail"><svg width="22" height="22" viewBox="0 0 27.857 27.857"><path fill="#cfd6da" d="M2.203,5.331l10.034,7.948c0.455,0.36,1.082,0.52,1.691,0.49c0.608,0.03,1.235-0.129,1.69-0.49l10.034-7.948c0.804-0.633,0.622-1.152-0.398-1.152H13.929H2.604C1.583,4.179,1.401,4.698,2.203,5.331z"/><path fill="#cfd6da" d="M26.377,7.428l-10.965,8.325c-0.41,0.308-0.947,0.458-1.482,0.451c-0.536,0.007-1.073-0.144-1.483-0.451L1.48,7.428C0.666,6.811,0,7.142,0,8.163v13.659c0,1.021,0.836,1.857,1.857,1.857h12.071H26c1.021,0,1.857-0.836,1.857-1.857V8.163C27.857,7.142,27.191,6.811,26.377,7.428z"/></svg></t>'),HC.templates.push('<t name="rss"><svg width="16" height="16" viewBox="0 0 16 16"><circle fill="#cfd6da" cx="2" cy="14" r="2"/><path fill="#cfd6da" d="M0,0v3c7.18,0,13,5.82,13,13h3C16,7.163,8.837,0,0,0z"/><path fill="#cfd6da" d="M7,16h3C10,10.478,5.523,6,0,6v3C3.866,9,7,12.134,7,16z"/></svg></t>'),HC.templates.push('<t name="video"><svg width="14" height="14" viewBox="0 0 112 112"><path fill="#999" d="M0,0v112h112V0H0z M23.333,107.334h-14V98h14V107.334z M23.333,88.666h-14v-9.332h14V88.666z M23.333,70h-14v-9.334h14V70z M23.333,51.333h-14V42h14V51.333z M23.333,32.667h-14v-9.333h14V32.667z M23.333,14h-14V4.667h14V14z M42,74.863V37.137L74.666,56L42,74.863z M102.666,107.334h-14V98h14V107.334z M102.666,88.666h-14v-9.332h14V88.666z M102.666,70h-14v-9.334h14V70z M102.666,51.333h-14V42h14V51.333z M102.666,32.667h-14v-9.333h14V32.667z M102.666,14h-14V4.667h14V14z"/></svg></t>'),HC.templates.push('<t name="present"><svg width="14px" height="14px" x="0px" y="0px" viewBox="0 0 31.262 31.262"><path fill="#999" d="M16.374,1.709v-0.96C16.374,0.334,16.038,0,15.632,0c-0.414,0-0.746,0.334-0.746,0.749v0.96H1.851V5.56h27.561V1.709H16.374z"/><path fill="#999" d="M4.08,22.073h10.144v4.781h-3.665V26.17H9.194v5.092h1.364v-2.545h10.279v2.545h1.366V26.17h-1.366v0.685h-3.802v-4.781h10.14V6.677H4.08V22.073z M18.899,11.323h6.693v1.529h-6.693V11.323z M18.899,14.148h6.693v1.531h-6.693V14.148z M18.865,17.123h6.692v1.529h-6.692V17.123z M12.175,8.896c2.664,0,4.824,2.156,4.824,4.82h-4.824C12.176,13.716,12.176,8.896,12.175,8.896z M10.819,10.207v4.824h4.824c0,2.667-2.159,4.824-4.824,4.824s-4.822-2.157-4.822-4.824C5.997,12.366,8.155,10.207,10.819,10.207z"/></svg></t>'),HC.templates.push('<t name="close"><svg width="12" height="12" viewBox="0 0 612 670.2"><path fill="#424242" d="M345.2,335.1L603.4,44.7c9.9-9.9,9.9-27.3,0-37.2s-24.8-9.9-37.2,0L305.5,300.4L44.8,7.4C34.9-2.5,20-2.5,7.6,7.4c-9.9,9.9-9.9,27.3,0,37.2l258.2,290.5L7.6,625.6c-9.9,9.9-9.9,27.3,0,37.2s24.8,9.9,37.2,0l260.7-292.9l260.7,292.9c9.9,9.9,24.8,9.9,37.2,0c9.9-9.9,9.9-27.3,0-37.2L345.2,335.1z"/></svg></t>'),HC.templates.push('<t name="del"><svg width="14" height="14" viewBox="0 0 900.5 900.5"><path fill="#7f8c8d" d="M176.415 880.5c0 11.046 8.954 20 20 20h507.67c11.046 0 20-8.954 20-20V232.487h-547.67V880.5L176.415 880.5zM562.75 342.766h75v436.029h-75V342.766zM412.75 342.766h75v436.029h-75V342.766zM262.75 342.766h75v436.029h-75V342.766zM618.825 91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046 0-20 8.954-20 20v71.911 12.5 12.5H141.874c-11.046 0-20 8.954-20 20v50.576c0 11.045 8.954 20 20 20h34.541 547.67 34.541c11.046 0 20-8.955 20-20v-50.576c0-11.046-8.954-20-20-20H618.825v-12.5V91.911zM543.825 112.799h-187.15v-8.389-12.5V75h187.15v16.911 12.5V112.799z"/></svg></t>'),HC.templates.push('<t name="ban"><svg width="14" height="14" viewBox="0 0 612 612"><path fill="#7f8c8d" d="M306,0C136.992,0,0,136.992,0,306c0,168.988,136.992,306,306,306s306-137.012,306-306C612,136.992,475.008,0,306,0z M306,535.5C179.45,535.5,76.5,432.55,76.5,306c0-49.515,15.912-95.281,42.687-132.804l319.636,319.636 C401.281,519.588,355.515,535.5,306,535.5z M492.832,438.804L173.196,119.187C210.719,92.412,256.485,76.5,306,76.5 c126.55,0,229.5,102.95,229.5,229.5C535.5,355.515,519.588,401.281,492.832,438.804z"/></svg></t>'),HC.templates.push('<t name="moder"><svg width="14px" height="14px" x="0px" y="0px" viewBox="0 0 512 512"><path style="fill:#fefefe" d=" M 0.00 0.00 L 512.00 0.00 L 512.00 512.00 L 0.00 512.00 L 0.00 0.00 Z"/><path fill="#7f8c8d" d=" M 197.13 62.65 C 213.75 42.89 230.37 23.14 247.00 3.38 C 263.20 23.13 279.37 42.90 295.57 62.65 C 321.53 49.21 347.49 35.73 373.46 22.30 C 366.79 53.68 360.52 85.17 353.58 116.48 C 345.68 123.75 334.70 126.14 324.60 128.80 C 298.47 134.50 271.62 135.22 244.98 135.58 C 225.26 135.21 205.52 134.70 185.96 132.03 C 172.72 129.98 159.27 127.69 147.09 121.86 C 144.33 120.40 141.46 118.91 139.37 116.53 C 138.52 114.09 138.18 111.52 137.62 109.01 C 131.58 80.10 125.51 51.20 119.48 22.29 C 145.37 35.73 171.24 49.21 197.13 62.65 Z"/><path fill="#7f8c8d" d=" M 141.95 145.89 C 167.88 156.28 196.18 158.24 223.80 159.57 C 249.17 160.38 274.63 160.01 299.90 157.42 C 317.23 155.41 334.70 152.58 350.90 145.85 C 350.09 150.23 349.08 154.57 347.63 158.78 C 351.43 162.40 352.08 167.88 352.63 172.82 C 353.20 180.29 353.16 187.84 352.14 195.26 C 349.25 210.89 340.38 225.05 328.65 235.60 C 325.83 237.88 326.24 241.94 324.99 245.06 C 319.36 260.95 311.15 275.87 301.37 289.57 C 297.87 295.97 296.00 304.03 299.00 310.98 C 302.44 318.04 309.83 322.28 317.32 323.77 C 343.03 328.98 368.20 337.35 391.47 349.56 C 407.24 357.98 422.36 368.17 434.33 381.59 C 440.79 389.00 446.34 397.46 448.99 407.02 C 450.65 412.52 450.87 418.33 450.86 424.04 C 450.83 433.05 450.87 442.06 450.85 451.07 C 451.15 458.87 444.76 464.65 439.01 468.90 C 422.56 480.04 403.28 485.88 384.37 491.28 C 340.21 502.75 294.56 508.14 248.97 508.58 C 217.96 508.53 186.93 507.66 156.02 504.92 C 131.28 502.41 106.40 499.05 82.70 491.21 C 70.88 487.16 59.10 481.86 50.06 473.01 C 44.53 467.49 41.03 459.87 41.14 452.00 C 41.16 440.69 40.98 429.38 41.24 418.07 C 41.70 403.35 49.79 390.12 59.62 379.64 C 77.39 361.12 100.42 348.64 123.97 339.02 C 140.49 332.42 157.63 327.37 175.08 323.87 C 179.23 323.21 182.36 320.11 185.35 317.40 C 192.07 311.03 195.97 301.47 194.36 292.21 C 194.14 290.02 192.58 288.36 191.35 286.67 C 179.24 271.29 170.88 253.08 166.62 234.02 C 162.56 231.71 158.21 229.60 155.12 225.98 C 150.92 221.08 148.19 215.11 146.11 209.05 C 140.88 195.56 137.92 180.46 141.44 166.17 C 141.91 163.19 144.18 161.20 146.87 160.13 C 144.89 155.50 143.22 150.75 141.95 145.89 Z"/></svg></t>'),HC.templates.push('<t name="login"><svg width="18" height="18" viewBox="0 0 95.667 95.667"><path fill="#cfd6da" d="M39.173,72.344l39.447-22.777c0.619-0.356,1-1.018,1-1.731s-0.381-1.375-1-1.732L39.173,23.324c-0.619-0.357-1.381-0.357-2,0c-0.619,0.357-1,1.018-1,1.732v10.605H2.121c-1.104,0-2,0.896-2,2v20.344c0,1.104,0.896,2,2,2h34.053v10.604c0,0.716,0.381,1.375,1,1.732c0.31,0.18,0.655,0.268,1,0.268C38.519,72.609,38.864,72.521,39.173,72.344z"/><path fill="#cfd6da" d="M80.775,0H40.026c-1.104,0-2,0.896-2,2v6c0,1.104,0.896,2,2,2h40.749c2.632,0,4.771,2.141,4.771,4.771v66.125c0,2.631-2.141,4.771-4.771,4.771H40.026c-1.104,0-2,0.896-2,2v6c0,1.104,0.896,2,2,2h40.749c8.146,0,14.771-6.627,14.771-14.771V14.772C95.546,6.627,88.92,0,80.775,0z"/></svg></t>'),HC.templates.push('<t name="exit"><svg width="18" height="18" viewBox="0 0 377.043 377.043"><path fill="#cfd6da" d="M337.771,103.538c-14.648-22.722-34.645-42.102-57.818-56.046c-4.334-2.607-9.736-2.682-14.141-0.191c-4.402,2.49-7.127,7.157-7.127,12.216v29.031c0,4.379,2.045,8.508,5.529,11.162c31.094,23.686,49.654,61.019,49.654,99.866c0,69.115-56.23,125.345-125.346,125.345c-69.116,0-125.346-56.229-125.346-125.345c0-38.848,18.562-76.181,49.654-99.866c3.483-2.654,5.529-6.783,5.529-11.162V59.517c0-5.059-2.724-9.726-7.126-12.216c-4.405-2.49-9.808-2.416-14.142,0.191c-23.176,13.944-43.169,33.324-57.819,56.046c-18.46,28.63-28.218,61.838-28.218,96.038c0,47.402,18.46,91.969,51.979,125.488c33.521,33.52,78.086,51.979,125.488,51.979c47.402,0,91.968-18.459,125.488-51.979c33.518-33.52,51.979-78.086,51.979-125.488C365.99,165.376,356.232,132.167,337.771,103.538z"/><path fill="#cfd6da" d="M172.129,215.535h32.789c7.257,0,13.16-5.905,13.16-13.162V13.162c0-7.257-5.903-13.162-13.16-13.162h-32.789c-7.257,0-13.161,5.904-13.161,13.162v189.211C158.968,209.63,164.873,215.535,172.129,215.535z"/></svg></t>'),HC.templates.push('<t name="like"><svg class="like" width="14" height="14" viewBox="0 0 128 128"><path fill="#ccc" d="M76.33 0L77.69 0C82.31 1.16 87.01 3.61 89.09 8.13 92.52 15.59 91.61 24.58 87.84 31.75 84.95 37.88 80.7 44.07 81.59 51.18 92.33 50.71 103.14 50.46 113.84 51.72 118.04 52.18 120.78 55.87 122.8 59.22 123.86 61.24 125.17 63.56 124.47 65.91 123.31 68.07 121.6 69.89 120.47 72.08 120.5 76.13 125.09 78.88 124.54 82.98 123.04 85.56 120.58 87.47 119.3 90.18 119.24 93.91 122.25 97.06 121.85 100.83 120.63 104.59 116.47 106.33 114.86 109.84 114.31 112.93 115.54 116.6 113.21 119.16 110.22 122.79 106.32 126.18 101.49 126.82 98.01 127.36 94.5 127.72 91 128L84.96 128C76.98 127.28 68.97 127.04 61 126.23 51.71 124.78 42.47 122.98 33.21 121.36 33.24 104.08 33.27 86.8 33.19 69.53 36.18 69.44 39.14 68.49 41.21 66.25 48.51 59.09 52.26 49.32 56.22 40.11 58.64 34.47 65.2 32.44 68.19 27.21 72.52 19.85 73.02 11.07 73.82 2.77 73.62 1.23 75.32.67 76.33 0zM7.48 66.62C12.64 66.18 17.84 66.49 23.02 66.44 26.05 66.2 29.13 68.79 28.88 71.94 28.92 87.64 28.9 103.34 28.89 119.04 29.23 122.23 26.17 124.95 23.08 124.73 18.37 124.77 13.65 124.79 8.93 124.72 5.89 124.87 3.04 122.11 3.29 119.04 3.28 103.34 3.25 87.64 3.3 71.94 3.15 69.45 5.09 67.15 7.48 66.62z"/></svg></t>'),HC.templates.push('<t name="dlike"><svg class="like" width="14px" height="14px" viewBox="0 0 128 128"><path fill="#cfd6da" d=" M 37.17 0.00 L 42.84 0.00 C 51.07 0.72 59.34 0.97 67.56 1.83 C 76.66 3.32 85.71 5.04 94.79 6.64 C 94.77 23.91 94.73 41.18 94.81 58.44 C 91.83 58.60 88.85 59.50 86.77 61.76 C 79.47 68.93 75.73 78.71 71.76 87.93 C 69.32 93.54 62.80 95.58 59.81 100.79 C 55.45 108.18 55.00 117.00 54.16 125.33 C 54.27 126.77 52.68 127.34 51.71 128.00 L 50.31 128.00 C 46.67 126.97 42.91 125.48 40.52 122.39 C 36.96 117.77 36.36 111.53 37.06 105.92 C 38.08 95.55 47.54 87.60 46.42 76.82 C 36.01 77.30 25.55 77.47 15.16 76.43 C 9.39 76.12 5.83 70.67 3.81 65.85 C 1.88 61.91 6.09 59.14 7.52 55.91 C 7.48 51.88 2.94 49.13 3.46 45.04 C 4.95 42.43 7.44 40.51 8.72 37.77 C 8.69 34.07 5.79 30.93 6.14 27.19 C 7.32 23.70 10.90 21.88 12.82 18.87 C 14.06 15.89 12.35 12.16 14.38 9.40 C 16.79 6.19 19.94 3.36 23.70 1.86 C 28.08 0.64 32.66 0.42 37.17 0.00 Z" /><path fill="#cfd6da" d=" M 103.31 3.43 C 108.52 3.04 113.78 3.30 119.01 3.28 C 122.06 3.10 124.94 5.84 124.71 8.94 C 124.73 24.64 124.74 40.34 124.70 56.03 C 124.90 59.10 122.00 61.71 119.01 61.55 C 114.04 61.58 109.07 61.67 104.11 61.50 C 101.36 61.39 98.89 58.82 99.12 56.03 C 99.08 40.32 99.10 24.62 99.11 8.91 C 98.86 6.34 100.85 3.97 103.31 3.43 Z" /></svg></t>'),HC.templates.push('<t name="play"><svg fill="#fff" width="15" height="15" viewBox="0 0 124.512 124.512"><path d="M113.956,57.006l-97.4-56.2c-4-2.3-9,0.6-9,5.2v112.5c0,4.6,5,7.5,9,5.2l97.4-56.2C117.956,65.105,117.956,59.306,113.956,57.006z"/></svg></t>'),HC.templates.push('<t name="bold"><svg width="18" height="18" viewBox="0 0 181.395 181.395"><path fill="#bdc3c7" d="m20.618,181.395v-181.395h62.293c22.506,0 40.074,4.174 52.699,12.521 12.623,8.346 18.936,20.785 18.936,37.313 0,8.639-2.033,16.318-6.104,23.049-4.07,6.729-10.34,11.795-18.813,15.199 10.631,2.408 18.479,7.246 23.547,14.514 5.064,7.268 7.6,15.637 7.6,25.104 0,17.691-5.939,31.064-17.814,40.115-11.879,9.055-28.904,13.58-51.082,13.58h-71.262zm42.235-105.772h20.93c9.551-0.166 16.695-2.014 21.43-5.545 4.734-3.529 7.102-8.699 7.102-15.51 0-7.725-2.41-13.35-7.225-16.881-4.82-3.529-12.211-5.295-22.178-5.295h-20.059v43.231zm0,27.908v45.473h29.027c8.971,0 15.699-1.766 20.184-5.297 4.484-3.529 6.729-8.947 6.729-16.256 0-7.891-1.932-13.85-5.795-17.879-3.861-4.027-10.111-6.041-18.748-6.041h-31.397z"/></svg></t>'),HC.templates.push('<t name="code"><svg width="22" height="22" viewBox="0 0 92.812 92.812"><path fill="#bdc3c7" d="M92.226,44.992L60.971,13.736c-0.781-0.781-2.048-0.781-2.828,0l-6.729,6.728c-0.375,0.375-0.586,0.884-0.586,1.414c0,0.53,0.211,1.039,0.586,1.414l23.115,23.114L51.416,69.521c-0.375,0.375-0.586,0.884-0.586,1.414s0.211,1.04,0.586,1.415l6.73,6.728c0.391,0.39,0.902,0.585,1.414,0.585s1.024-0.195,1.415-0.586L92.227,47.82C93.008,47.039,93.008,45.773,92.226,44.992z"/><path fill="#bdc3c7" d="M18.283,46.406l23.114-23.114c0.375-0.375,0.586-0.884,0.586-1.414c0-0.53-0.211-1.039-0.586-1.414l-6.728-6.728c-0.781-0.781-2.048-0.781-2.828,0L0.586,44.992C0.211,45.367,0,45.876,0,46.406s0.211,1.039,0.586,1.414l31.26,31.256c0.375,0.375,0.884,0.586,1.415,0.586c0.53,0,1.039-0.211,1.414-0.586l6.724-6.728c0.781-0.781,0.781-2.049,0-2.828L18.283,46.406z"/></svg></t>'),HC.templates.push('<t name="italic"><svg width="18" height="18" viewBox="0 0 181.5 181.5"><path fill="#bdc3c7" d="M93.368,181.5H51.856L88.132,0h41.512L93.368,181.5z"/></svg></t>'),HC.templates.push('<t name="strike"><svg width="18" height="18" viewBox="0 0 16 16"><path fill="#bdc3c7" d="M10.5 7c-0.5-0.3-1-0.5-1.4-0.7-2-0.9-2.1-1.1-2-1.9s0.4-1 0.6-1.2c0.9-0.5 2.8-0.1 3.5 0.2l1.1-2.8c-0.4-0.2-3.7-1.4-6.1 0-0.8 0.5-1.9 1.5-2.1 3.4-0.2 1.3 0.1 2.3 0.7 3h-4.8v1h16v-1h-5.5z"/><path fill="#bdc3c7" d="M7.7 9c0 0 0.1 0 0.1 0.1 2 0.9 2.4 1.2 2.2 2.5-0.2 0.9-0.5 1.1-0.8 1.3-1.1 0.6-3.3 0-4.4-0.5l-1.2 2.6c0.3 0.1 2.3 1 4.5 1 0.9 0 1.8-0.2 2.6-0.6 0.9-0.5 2-1.4 2.4-3.4 0.2-1.3 0-2.3-0.4-3.1h-5z"/></svg></t>'),HC.templates.push('<t name="quote_tag"><svg viewBox="0 0 32 32" width="20" height="20"><path d="M0,4v12h8c0,4.41-3.586,8-8,8v4c6.617,0,12-5.383,12-12V4H0z" fill="#bdc3c7"/><path d="M20,4v12h8c0,4.41-3.586,8-8,8v4c6.617,0,12-5.383,12-12V4H20z" fill="#bdc3c7"/></svg></t>'),HC.templates.push('<t name="formatting"><svg class="hcc hc__reply__clip__img" width="20" height="20" viewBox="0 0 512 512"><path fill="#bdc3c7" d="m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"/></svg></t>'),HC.templates.push('<t name="underline"><svg width="18" height="18" viewBox="0 0 230 230"><path fill="#bdc3c7" d="M61.638,164.165C75.236,175.39,93.257,181,115.458,181c21.955,0,39.679-5.61,53.239-16.835 C182.254,152.942,189,137.13,189,116.731V0h-42v116.731c0,11.06-2.501,19.212-8.03,24.454c-5.529,5.244-13.284,7.864-23.524,7.864 c-10.322,0-18.312-2.642-23.965-7.926C85.829,135.841,83,127.711,83,116.731V0H41v116.731C41,137.13,48.039,152.942,61.638,164.165 z"/><rect fill="#bdc3c7" width="230" y="197" height="33"/></svg></t>'),HC.templates.push('<t name="google"><svg width="44px" height="44px" x="0px" y="0px" viewBox="0 0 44.674 45.032"><ellipse style="fill:#FFFFFF;" cx="22.593" cy="22.516" rx="16.765" ry="18.784"/><path fill="#E14E3A" d="M19.092,18.364c0.283-0.64,0.401-1.308,0.406-2.006c-0.06-1.74-0.606-3.273-1.943-4.454c-0.625-0.552-1.354-0.892-2.21-0.815c-1.107,0.098-1.798,0.774-2.226,1.744c-0.438,0.991-0.498,2.03-0.291,3.084c0.279,1.431,0.903,2.67,2.098,3.559C16.479,20.629,18.309,20.131,19.092,18.364z"/><path fill="#E14E3A" d="M19.401,26.307c-1.186-0.58-2.447-0.739-3.744-0.575c-1.327,0.168-2.53,0.642-3.518,1.577c-1.549,1.466-1.499,3.535,0.14,4.898c1.107,0.919,2.43,1.226,3.838,1.242c0.084,0,0.167,0.004,0.251,0c1.556-0.079,2.981-0.523,4.128-1.62c0.958-0.918,1.414-2.024,0.98-3.35C21.135,27.436,20.355,26.773,19.401,26.307z"/><path fill="#E14E3A" d="M22.337,0C10.001,0,0,10.081,0,22.516c0,12.435,10.001,22.516,22.337,22.516c12.334,0,22.336-10.081,22.336-22.516C44.674,10.081,34.672,0,22.337,0z M21.471,33.598c-1.169,0.771-2.461,1.208-3.833,1.412c-1.951,0.29-3.889,0.24-5.777-0.384c-1.317-0.437-2.476-1.117-3.158-2.394c-0.955-1.796-0.82-4.644,1.621-6.082c1.256-0.74,2.618-1.127,4.045-1.302c0.763-0.095,1.534-0.115,2.302-0.168c0.054-0.004,0.108-0.011,0.179-0.019c-0.018-0.462-0.173-0.851-0.546-1.11c-0.303-0.211-0.403-0.482-0.39-0.833c0.014-0.408,0.003-0.815,0.003-1.293c-0.473,0-0.926,0.033-1.373-0.006c-1.205-0.106-2.321-0.463-3.268-1.261c-0.738-0.622-1.187-1.416-1.413-2.341c-0.309-1.262-0.3-2.523,0.111-3.76c0.466-1.402,1.436-2.387,2.715-3.075c1.434-0.771,2.977-1.123,4.599-1.128c2.109-0.006,4.217-0.001,6.325-0.001c0.074,0,0.147,0,0.233,0c0.012,0.273-0.15,0.423-0.355,0.484c-0.443,0.132-0.894,0.235-1.344,0.331c-0.406,0.087-0.82,0.145-1.228,0.23c-0.096,0.02-0.18,0.102-0.297,0.174c0.093,0.068,0.14,0.114,0.195,0.14c1.003,0.478,1.561,1.284,1.728,2.367c0.157,1.003,0.212,2.011,0.056,3.021c-0.165,1.073-0.707,1.943-1.486,2.672c-0.426,0.4-0.878,0.773-1.317,1.159c-0.042,0.036-0.085,0.072-0.126,0.111c-0.786,0.736-0.819,1.431-0.04,2.169c0.66,0.625,1.381,1.185,2.059,1.791c0.781,0.698,1.452,1.481,1.844,2.476C24.331,28.996,23.772,32.079,21.471,33.598z M36.521,15.97c-1.514,0.005-3.028,0.008-4.541,0.013c-0.603,0.002-0.525-0.054-0.526,0.515c-0.004,1.356-0.001,2.712,0,4.068c0,0.101,0,0.201,0,0.323c-0.322,0-0.613,0-0.958,0c0-0.224,0-0.442,0-0.661c0.001-1.31-0.003-2.619,0.01-3.928c0.002-0.243-0.065-0.32-0.312-0.319c-1.402,0.009-2.805,0.004-4.206,0.003c-0.137,0-0.271,0-0.424,0c0-0.42,0-0.798,0-1.214c1.631,0,3.26,0,4.926,0c0-1.593,0-3.147,0-4.721c0.332,0,0.624,0,0.946,0c0.008,0.136,0.02,0.262,0.02,0.388c0,1.337,0.004,2.675-0.008,4.012c-0.003,0.242,0.062,0.321,0.31,0.319c1.533-0.01,3.066-0.005,4.598-0.006c0.055,0,0.11-0.011,0.165-0.018C36.521,15.152,36.521,15.561,36.521,15.97z"/></svg></t>'),
HC.templates.push('<t name="facebook"><svg width="44" height="44" viewBox="0 0 44.674 45.032"><ellipse cx="22.844" cy="22.45" rx="16.765" ry="18.784" fill="#FFF"/><path fill="#3D5B9A" d="M22.337,0c12.336,0,22.337,10.081,22.337,22.516c0,12.436-10.001,22.516-22.337,22.516C10.001,45.032,0,34.952,0,22.516C0,10.081,10.001,0,22.337,0L22.337,0z M19.077,22.465c0.065,0.082,0.029,0.655,0.029,0.762l0.003,12.085h5.226c0.031-3.181,0.001-6.445,0.001-9.641c0-0.046-0.01-3.096,0.004-3.16c0.01-0.042,0.011-0.036,0.022-0.054c0.007,0.001,3.325,0.027,3.441-0.001l0.058-0.017l0.459-4.411l-3.967,0c-0.015-0.651,0.003-1.321,0.004-1.974c0-0.597-0.014-1.333,0.34-1.661l3.603-0.363l-0.006-4.425c-0.682-0.041-1.49-0.004-2.186-0.004c-0.724,0-1.457-0.015-2.168,0.033c-1.357,0.09-2.452,0.495-3.245,1.172c-1.148,1.846-1.592,0.261-1.601,7.223l-2.626,0.001l0.005,4.431L19.077,22.465L19.077,22.465z"/></svg></t>'),HC.templates.push('<t name="twitter"><svg width="44" height="44" viewBox="275.298 397.92 44.673 45.032"><ellipse cx="297.747" cy="418.967" rx="18.517" ry="18.784" fill="#FFF"/><path fill="#00ACED" d="M297.634,397.986c12.337,0,22.337,10.051,22.337,22.45c0,12.399-10,22.45-22.337,22.45c-12.336,0-22.337-10.051-22.337-22.45C275.298,408.037,285.298,397.986,297.634,397.986L297.634,397.986z M310.224,420.562c0.1-0.09,0.022,0.033,0.098-0.147l0.181-0.634c0.97-0.031,1.639-0.105,2.423-0.418l1.613-1.111c-0.535-0.007-1.096,0.138-1.965,0.003l-1.761-0.371c0.144-0.093,0.369-0.095,0.574-0.126c0.212-0.032,0.393-0.06,0.602-0.109c0.407-0.096,0.704-0.187,1.044-0.346l1.354-1.33c-0.618,0.244-1.177,0.346-2.01,0.356c-0.405,0.004-1.875-0.02-2.011-0.383c-0.161-0.431-0.16-0.838-0.497-1.645c-0.215-0.515-0.481-1.007-0.78-1.449c-0.614-0.912-1.373-1.669-2.271-2.251l-3.708-1.044c0.232-0.224,1.106-0.401,1.422-0.486c1.653-0.444,1.51-1.05,1.11-1.163c-0.51-0.144-1.757,0.328-2.314,0.499l0.999-1.064c-1.039,0.098-1.719,0.619-2.497,1.1l0.323-0.799c-0.98,0.33-2.748,2.677-3.237,3.617l-2.075,4.574c-0.177-0.073-1.404-1.337-2.341-1.9c-0.819-0.491-1.912-1.017-2.852-1.454c-2.262-1.053-3.88-1.694-6.196-2.545c-0.116,2.045,1.19,3.168,2.818,4.268l-1.985,0.262c0.034,0.873,0.705,1.783,1.214,2.218c0.926,0.794,1.411,0.798,2.261,1.12l0.175,0.091c-1.37,0.238-0.961,0.086-2.15,0.86c0.015,0.544,1.194,1.701,2.082,1.901l1.979,0.258c-0.137,0.126-0.351,0.215-0.513,0.319c-0.202,0.13-0.285,0.208-0.43,0.383c-0.273,0.333-0.415,0.71-0.236,1.171l2.292,1.05c-0.122,0.244-0.871,0.849-1.122,1.024c-1.371,0.954-2.913,1.625-4.878,1.712c-1.396,0.062-2.748-0.205-3.816-0.635c-1.232-0.495-1.736-0.909-2.676-1.639c0.276,0.477,0.9,1.136,1.281,1.541c3.594,3.831,9.408,5.945,15.487,4.855c3.711-0.666,6.102-1.953,8.276-3.55c0.358-0.263,1.212-1.033,1.519-1.351c0.945-0.979,1.786-2.029,2.4-3.241C309.614,422.192,310.252,420.931,310.224,420.562L310.224,420.562z"/></svg></t>'),HC.templates.push('<t name="vk"><svg width="44" height="44" viewBox="275.298 397.92 44.673 45.032"><ellipse cx="298.071" cy="418.967" rx="18.517" ry="18.784" fill="#FFF"/><path fill="#3C5A99" d="M297.634,397.92c-12.336,0-22.337,10.081-22.337,22.516c0,12.435,10,22.516,22.337,22.516c12.335,0,22.336-10.081,22.336-22.516C319.971,408.001,309.969,397.92,297.634,397.92z M308.577,422.733c1.879,1.73,3.188,3.139,3.93,4.226c0.346,0.544,0.457,1.026,0.334,1.446s-0.408,0.63-0.853,0.63l-4.894,0.222c-0.692,0.05-1.533-0.371-2.521-1.26c-0.989-0.889-1.656-1.631-2.002-2.225c-0.198-0.346-0.556-0.544-1.075-0.593c-0.519-0.049-0.853,0.198-1.001,0.742l-0.149,1.928c-0.049,0.395-0.198,0.692-0.445,0.89c-0.248,0.198-0.457,0.309-0.63,0.334c-0.173,0.024-0.457,0.062-0.853,0.111c-1.285,0.049-2.41-0.013-3.374-0.186c-0.964-0.173-1.842-0.531-2.632-1.075c-0.791-0.544-1.421-1.038-1.891-1.484c-0.469-0.445-1.149-1.162-2.039-2.15c-2.422-3.46-4.226-6.451-5.413-8.972c-0.445-0.989-0.692-1.829-0.742-2.521c0.198-0.198,0.569-0.321,1.113-0.371c0.544-0.049,1.335-0.062,2.372-0.037c1.038,0.025,1.656,0.037,1.854,0.037c0.495-0.049,0.89,0.223,1.187,0.816c1.235,2.768,2.447,4.918,3.633,6.451c0.791,0.741,1.31,0.618,1.557-0.371c0.099,0,0.149-1.211,0.149-3.633c0.049-1.533-0.569-2.497-1.854-2.892c0.296-0.791,1.335-1.186,3.114-1.186c0.445,0,0.988,0.024,1.631,0.074c0.642,0.05,0.988,0.075,1.037,0.075c1.484,0,2.225,0.593,2.225,1.78c0,0.148-0.025,0.507-0.074,1.075c-0.05,0.568-0.087,1.112-0.111,1.631c-0.025,0.519-0.037,1.063-0.037,1.631c0,0.568,0.074,1.05,0.223,1.446c0.148,0.395,0.346,0.642,0.593,0.741c0.272-0.198,0.532-0.383,0.778-0.556c0.248-0.174,0.507-0.457,0.779-0.853c0.272-0.395,0.481-0.692,0.63-0.89c0.148-0.198,0.37-0.568,0.667-1.112c0.297-0.544,0.47-0.89,0.519-1.038c0.049-0.148,0.222-0.531,0.519-1.149c0.297-0.618,0.445-0.927,0.445-0.927l0.111-0.223c0.198-0.445,0.359-0.704,0.482-0.778c0.124-0.074,0.433-0.111,0.927-0.111h4.597c0.544,0,0.865,0.012,0.964,0.037c0.099,0.025,0.248,0.136,0.445,0.334c0.346,0.445,0.037,1.409-0.927,2.892c-0.964,1.483-1.89,2.718-2.781,3.708C307.86,420.781,307.687,421.892,308.577,422.733z"/></svg></t>'),HC.templates.push('<t name="odnoklassniki"><svg width="44" height="44" viewBox="0 0 44.674 45.032"><ellipse cx="22.936" cy="23.867" rx="11.962" ry="18.784" fill="#FFF"/><path fill="#F58324" d="M21.929,18.181c4.087-0.049,4.039-6.558-0.332-6.25C17.456,12.224,17.761,18.233,21.929,18.181z"/><path fill="#F58324" d="M22.337,0.066C10.001,0.066,0,10.117,0,22.516c0,12.399,10.001,22.45,22.337,22.45c12.336,0,22.336-10.051,22.336-22.45C44.674,10.117,34.674,0.066,22.337,0.066z M14.219,13.753c0.695-4.595,5.124-6.885,8.875-6.243c4.418,0.757,6.823,4.829,6.289,8.582C27.941,26.256,12.685,23.876,14.219,13.753z M29.746,36.196c-1.494,1.525-3.089,0.122-4.251-0.999c-0.998-0.963-2.197-2.17-3.242-2.99c-2.726,2.881-4.941,6.342-7.18,4.427c-2.683-2.297,2.585-5.663,3.87-7.647c-1.338-0.3-3.591-1.028-4.652-1.837c-1.063-0.813-1.259-2.677,0.026-3.602c1.54-1.11,2.574,0.113,4.392,0.701c6.889,2.223,9.554-4.005,11.593-0.354c1.738,3.114-4.177,4.489-4.885,4.969C28.261,31.591,31.903,33.998,29.746,36.196z"/></svg></t>'),HC.templates.push('<t name="mailru"><svg width="44" height="44" viewBox="0 0 44.674 45.032"><path fill="#3789C9" d="M22.337,0C10.001,0,0,10.081,0,22.516c0,12.435,10.001,22.516,22.337,22.516c12.334,0,22.336-10.081,22.336-22.516C44.674,10.081,34.672,0,22.337,0z"/><path d="M21.803,13.886c2.351,0,4.562,1.039,6.185,2.666v0.006c0-0.781,0.525-1.37,1.256-1.37l0.184-0.001c1.141,0,1.376,1.08,1.376,1.422l0.006,12.146c-0.081,0.795,0.821,1.205,1.32,0.696c1.951-2.005,4.284-10.304-1.212-15.113c-5.122-4.483-11.995-3.744-15.65-1.225c-3.885,2.679-6.372,8.61-3.956,14.18c2.633,6.077,10.166,7.889,14.644,6.082c2.267-0.916,3.315,2.149,0.96,3.151c-3.558,1.516-13.461,1.364-18.087-6.65c-3.126-5.411-2.959-14.932,5.33-19.865C20.5,6.238,28.86,7.284,33.902,12.549c5.27,5.504,4.962,15.811-0.178,19.819c-2.329,1.82-5.788,0.048-5.766-2.605l-0.024-0.867c-1.622,1.609-3.78,2.548-6.131,2.548c-4.645,0-8.732-4.088-8.732-8.732C13.071,18.02,17.158,13.886,21.803,13.886L21.803,13.886L21.803,13.886L21.803,13.886z M27.649,22.376c-0.175-3.402-2.7-5.447-5.748-5.447h-0.115c-3.518,0-5.47,2.767-5.47,5.91c0,3.52,2.361,5.743,5.456,5.743c3.451,0,5.721-2.528,5.885-5.519L27.649,22.376z" fill-rule="evenodd" clip-rule="evenodd" fill="#FFF"/></svg></t>'),HC.templates.push('<t name="yandex"><svg width="44" height="44" viewBox="0 0 44.674 45.032"><path fill="#EB2227" d="M22.337,0C10.001,0,0,10.081,0,22.516c0,12.435,10.001,22.516,22.337,22.516c12.334,0,22.336-10.081,22.336-22.516C44.674,10.081,34.672,0,22.337,0z"/><path d="M27.909,6.919h-4.433c-4.354,0-8.048,3.315-8.048,9.751c0,3.861,1.789,6.708,4.977,8.112l-5.948,10.765c-0.194,0.351,0,0.624,0.31,0.624h2.761c0.233,0,0.389-0.078,0.467-0.272l5.404-10.571h1.945v10.571c0,0.117,0.117,0.272,0.271,0.272h2.412c0.233,0,0.311-0.117,0.311-0.311V7.309C28.337,7.036,28.182,6.919,27.909,6.919z M25.343,22.833h-1.634c-2.566,0-5.054-1.872-5.054-6.553c0-4.876,2.333-6.865,4.704-6.865h1.984V22.833z" fill="#FFF"/></svg></t>'),HC.templates.push('<t name="tumblr"><svg width="44" height="44" viewBox="0 0 44.674 45.032"><path fill="#36475C" d="M22.337,0C10.001,0,0,10.081,0,22.516c0,12.435,10.001,22.516,22.337,22.516c12.334,0,22.336-10.081,22.336-22.516C44.674,10.081,34.672,0,22.337,0z"/><path d="M28.594,30.547c-0.55,0.262-1.602,0.491-2.387,0.511c-2.368,0.064-2.827-1.663-2.847-2.917v-9.208h5.94v-4.478h-5.918V6.919c0,0-4.262,0-4.333,0c-0.071,0-0.195,0.063-0.213,0.221c-0.253,2.306-1.333,6.354-5.82,7.972v3.821h2.993v9.666c0,3.309,2.442,8.01,8.886,7.9c2.174-0.038,4.588-0.948,5.122-1.733L28.594,30.547z" fill="#FFF"/></svg></t>'),HC.templates.push('<t name="livejournal"><svg width="44px" height="44px" x="0px" y="0px" viewBox="0 0 44.674 45.032"><path fill="#3789C9" d="M22.337,0C10.001,0,0,10.081,0,22.516c0,12.435,10.001,22.516,22.337,22.516c12.334,0,22.336-10.081,22.336-22.516C44.674,10.081,34.672,0,22.337,0z"/><path style="fill:#14374C;" d="M18.732,30.763c2.734-4.822,7.226-8.444,12.512-10.103l0.003,0L15.49,1.059l-0.007-0.002C10.192,2.715,5.704,6.335,2.968,11.162L18.732,30.763z"/><path style="fill:#14374C;" d="M31.851,26.833c-3.071,0.963-5.678,3.07-7.268,5.869l8.075,2.612L31.851,26.833z"/><path style="fill:#FFFFFF;" d="M31.851,26.836c-0.317-3.245-0.604-6.174-0.604-6.174l-0.006,0.001c-5.284,1.659-9.774,5.278-12.51,10.103l5.852,1.936C26.175,29.913,28.788,27.796,31.851,26.836"/></svg></t>'),HC.templates.push('<t name="share_fb"><svg width="35" height="35" viewBox="0 0 90 90"><path fill="#4a66a0" d="M90,15.001C90,7.119,82.884,0,75,0H15C7.116,0,0,7.119,0,15.001v59.998C0,82.881,7.116,90,15.001,90H45V56H34V41h11v-5.844C45,25.077,52.568,16,61.875,16H74v15H61.875C60.548,31,59,32.611,59,35.024V41h15v15H59v34h16c7.884,0,15-7.119,15-15.001V15.001z"/></svg></t>'),HC.templates.push('<t name="share_google"><svg width="35px" height="35px" x="0px" y="0px" viewBox="0 0 16 16"><path fill="#d73d32" d="M13,0H3C1.343,0,0,1.343,0,3v10c0,1.657,1.343,3,3,3h10c1.657,0,3-1.343,3-3V3C16,1.343,14.657,0,13,0z M5.768,13.383c-1.771,0-3.265-0.721-3.265-1.873c0-1.169,1.363-2.298,3.134-2.297L6.19,9.208C5.948,8.973,5.756,8.684,5.756,8.327c0-0.212,0.068-0.415,0.162-0.596l-0.295,0.01c-1.455,0-2.429-1.035-2.429-2.318c0-1.255,1.345-2.338,2.775-2.338h3.19L8.443,3.601H7.432C8.103,3.859,8.46,4.641,8.46,5.443c0,0.673-0.373,1.253-0.9,1.665C7.045,7.511,6.948,7.679,6.948,8.021c0,0.292,0.552,0.788,0.84,0.993c0.843,0.596,1.114,1.149,1.114,2.072C8.902,12.238,7.787,13.383,5.768,13.383z M14,7.019h-2v1.997h-0.999V7.019H9V6h2.001V4H12v2h2V7.019z"/><path fill="#d73d32" d="M7.314,5.505C7.172,4.427,6.391,3.561,5.57,3.536C4.749,3.512,4.198,4.337,4.34,5.417c0.142,1.079,0.923,1.974,1.745,1.998C6.905,7.44,7.457,6.585,7.314,5.505z"/><path fill="#d73d32" d="M6.769,9.639C6.527,9.561,6.26,9.514,5.975,9.511c-1.224-0.013-2.32,0.746-2.32,1.659c0,0.932,0.884,1.706,2.108,1.706c1.721,0,2.32-0.728,2.32-1.658c0-0.112-0.015-0.222-0.039-0.329C7.91,10.361,7.433,10.1,6.769,9.639z"/></svg></t>'),HC.templates.push('<t name="share_tw"><svg width="35" height="35" viewBox="0 0 16 16"><path fill="#53a9ea" d="M13,0H3C1.343,0,0,1.343,0,3v10c0,1.657,1.343,3,3,3h10c1.657,0,3-1.343,3-3V3C16,1.343,14.657,0,13,0z M11.98,6.204l0.006,0.255c0,2.604-1.981,5.604-5.604,5.604c-1.112,0-2.147-0.326-3.019-0.885c0.154,0.018,0.311,0.028,0.47,0.028c0.923,0,1.772-0.315,2.446-0.843c-0.862-0.016-1.589-0.586-1.84-1.368C4.56,9.017,4.682,9.029,4.81,9.029c0.18,0,0.354-0.023,0.519-0.068c-0.901-0.182-1.58-0.977-1.58-1.931V7.005c0.266,0.148,0.569,0.236,0.892,0.247C4.113,6.899,3.765,6.296,3.765,5.613c0-0.361,0.097-0.699,0.266-0.99c0.971,1.192,2.423,1.976,4.06,2.058C8.057,6.537,8.04,6.386,8.04,6.232c0-1.087,0.882-1.969,1.97-1.969c0.566,0,1.078,0.239,1.438,0.622c0.448-0.089,0.87-0.253,1.251-0.478c-0.147,0.46-0.459,0.846-0.866,1.09c0.397-0.047,0.778-0.154,1.131-0.31C12.7,5.581,12.365,5.928,11.98,6.204z"/></svg></t>'),HC.templates.push('<t name="share_vk"><svg width="35" height="35" viewBox="0 0 96 96"><path fill="#55779b" d="M53.174,52.908c-1.539-0.896-3.678-0.896-5.416-0.896h-5.707v11.76h5.238c1.939,0,4.412,0.139,6.084-1.035c1.535-1.033,2.404-3.061,2.404-4.992C55.777,55.951,54.709,53.805,53.174,52.908z M51.021,42.865c1.27-0.967,1.936-2.691,1.936-4.279c0-1.725-0.801-3.381-2.27-4.277c-1.537-0.896-4.346-0.689-6.15-0.689h-2.486v10.35h3.289C47.211,43.969,49.418,44.107,51.021,42.865z M79.125,0H16.873C7.555,0,0,7.555,0,16.875v62.25C0,88.443,7.555,96,16.873,96h62.252C88.443,96,96,88.443,96,79.125v-62.25C96,7.555,88.443,0,79.125,0z M50.604,72.535H30.992V25.201H52.42c6.207,0,11.934,3.951,11.934,10.92c0,5.381-3.004,9.066-6.836,10.211v0.139c5.682,1.174,9.74,4.26,9.74,11.705C67.258,65.066,62.566,72.535,50.604,72.535z"/></svg></t>'),HC.templates.push('<t name="comment"><svg width="11" height="11" viewBox="0 0 511.626 511.626"><path d="M477.371,127.44c-22.843-28.074-53.871-50.249-93.076-66.523c-39.204-16.272-82.035-24.41-128.478-24.41c-34.643,0-67.762,4.805-99.357,14.417c-31.595,9.611-58.812,22.602-81.653,38.97c-22.845,16.37-41.018,35.832-54.534,58.385C6.757,170.833,0,194.484,0,219.228c0,28.549,8.61,55.3,25.837,80.234c17.227,24.931,40.778,45.871,70.664,62.811c-2.096,7.611-4.57,14.846-7.426,21.693c-2.855,6.852-5.424,12.474-7.708,16.851c-2.286,4.377-5.376,9.233-9.281,14.562c-3.899,5.328-6.849,9.089-8.848,11.275c-1.997,2.19-5.28,5.812-9.851,10.849c-4.565,5.048-7.517,8.329-8.848,9.855c-0.193,0.089-0.953,0.952-2.285,2.567c-1.331,1.615-1.999,2.423-1.999,2.423l-1.713,2.566c-0.953,1.431-1.381,2.334-1.287,2.707c0.096,0.373-0.094,1.331-0.57,2.851c-0.477,1.526-0.428,2.669,0.142,3.433v0.284c0.765,3.429,2.43,6.187,4.998,8.277c2.568,2.092,5.474,2.95,8.708,2.563c12.375-1.522,23.223-3.606,32.548-6.276c49.87-12.758,93.649-35.782,131.334-69.097c14.272,1.522,28.072,2.286,41.396,2.286c46.442,0,89.271-8.138,128.479-24.417c39.208-16.272,70.233-38.448,93.072-66.517c22.843-28.062,34.263-58.663,34.263-91.781C511.626,186.108,500.207,155.509,477.371,127.44z"/></svg></t>'),HC.templates.push('<t name="fb_ht"><svg width="15" height="15" viewBox="0 0 512 512"><path d="M296.296,512H200.36V256h-64v-88.225l64-0.029l-0.104-51.976C200.256,43.794,219.773,0,304.556,0h70.588v88.242h-44.115c-33.016,0-34.604,12.328-34.604,35.342l-0.131,44.162h79.346l-9.354,88.225L296.36,256L296.296,512z"/></svg></t>'),HC.templates.push('<t name="vk_ht"><svg width="15" height="15" viewBox="0 0 532.337 532.337"><path d="M471.998,241.286c7.57-9.786,13.58-17.638,18.018-23.562c31.965-42.498,45.82-69.646,41.574-81.482l-1.666-2.772c-1.107-1.665-3.977-3.194-8.592-4.578c-4.621-1.383-10.533-1.604-17.736-0.691l-79.822,0.563c-1.848-0.184-3.697-0.141-5.545,0.128c-1.848,0.281-3.047,0.563-3.605,0.832c-0.557,0.282-1.016,0.508-1.383,0.692l-1.107,0.832c-0.924,0.551-1.939,1.524-3.047,2.914c-1.109,1.389-2.039,2.999-2.773,4.853c-8.684,22.356-18.568,43.146-29.656,62.363c-6.838,11.457-13.123,21.396-18.844,29.792c-5.729,8.415-10.533,14.603-14.414,18.568c-3.879,3.972-7.393,7.166-10.531,9.56c-3.146,2.411-5.545,3.421-7.203,3.054c-1.666-0.367-3.238-0.734-4.713-1.114c-2.588-1.658-4.67-3.917-6.236-6.787c-1.572-2.857-2.631-6.463-3.189-10.808c-0.551-4.339-0.881-8.084-0.967-11.23c-0.098-3.139-0.049-7.57,0.141-13.305c0.184-5.729,0.275-9.602,0.275-11.64c0-7.014,0.141-14.639,0.418-22.864c0.275-8.219,0.508-14.737,0.691-19.542c0.184-4.798,0.275-9.884,0.275-15.245c0-5.349-0.324-9.56-0.975-12.613c-0.648-3.042-1.621-5.998-2.906-8.868c-1.297-2.858-3.189-5.08-5.686-6.646c-2.496-1.573-5.588-2.815-9.283-3.746c-9.799-2.222-22.271-3.409-37.418-3.604c-34.37-0.355-56.451,1.86-66.243,6.658c-3.88,2.038-7.393,4.804-10.532,8.317c-3.329,4.07-3.788,6.291-1.383,6.646c11.089,1.665,18.936,5.643,23.556,11.922l1.665,3.323c1.291,2.411,2.583,6.659,3.88,12.754c1.292,6.096,2.124,12.84,2.497,20.233c0.924,13.488,0.924,25.031,0,34.646c-0.924,9.614-1.799,17.093-2.631,22.442c-0.833,5.361-2.081,9.7-3.74,13.023c-1.665,3.335-2.772,5.367-3.329,6.107c-0.557,0.734-1.016,1.199-1.383,1.384c-2.405,0.918-4.896,1.383-7.484,1.383c-2.589,0-5.729-1.298-9.425-3.887c-3.697-2.576-7.534-6.138-11.5-10.667c-3.978-4.522-8.452-10.856-13.446-18.99c-4.988-8.121-10.166-17.736-15.521-28.819l-4.431-8.042c-2.772-5.165-6.561-12.699-11.365-22.583s-9.058-19.443-12.748-28.69c-1.481-3.874-3.697-6.83-6.652-8.868l-1.383-0.832c-0.924-0.735-2.405-1.524-4.437-2.351c-2.038-0.832-4.155-1.432-6.377-1.805l-75.943,0.551c-7.76,0-13.023,1.763-15.795,5.275l-1.108,1.659C0.275,136.059,0,137.54,0,139.566c0,2.038,0.557,4.529,1.665,7.479c11.089,26.059,23.146,51.188,36.169,75.386c13.03,24.211,24.346,43.709,33.954,58.489c9.608,14.792,19.4,28.733,29.382,41.854c9.982,13.121,16.585,21.523,19.816,25.214c3.231,3.703,5.771,6.476,7.62,8.317l6.928,6.658c4.431,4.432,10.949,9.743,19.542,15.937c8.592,6.193,18.103,12.289,28.55,18.287c10.435,6.01,22.589,10.899,36.444,14.694c13.856,3.794,27.344,5.317,40.465,4.571h31.874c6.469-0.551,11.363-2.576,14.688-6.096l1.107-1.383c0.734-1.102,1.432-2.815,2.08-5.123c0.643-2.307,0.975-4.853,0.975-7.619c-0.191-7.943,0.416-15.116,1.799-21.481c1.383-6.377,2.955-11.175,4.713-14.418c1.756-3.226,3.738-5.955,5.959-8.177c2.217-2.222,3.783-3.55,4.713-4.015c0.924-0.453,1.666-0.777,2.217-0.973c4.43-1.476,9.65-0.043,15.66,4.296c6.004,4.352,11.641,9.7,16.91,16.077c5.262,6.377,11.59,13.531,18.984,21.481c7.387,7.943,13.855,13.855,19.4,17.735l5.545,3.336c3.695,2.209,8.494,4.241,14.412,6.096c5.912,1.842,11.09,2.307,15.52,1.383l70.955-1.114c7.02,0,12.473-1.15,16.354-3.464c3.879-2.295,6.188-4.853,6.928-7.619c0.734-2.772,0.783-5.899,0.141-9.419c-0.648-3.507-1.297-5.955-1.939-7.338c-0.648-1.383-1.25-2.546-1.807-3.464c-9.24-16.628-26.885-37.051-52.938-61.255l-0.557-0.551l-0.275-0.281l-0.275-0.27H473.4c-11.83-11.273-19.309-18.85-22.449-22.736c-5.727-7.38-7.025-14.865-3.879-22.441C449.275,271.874,457.586,259.769,471.998,241.286z"/></svg></t>'),HC.templates.push('<t name="tw_ht"><svg width="15" height="15" viewBox="0 0 612 612"><path d="M612,116.258c-22.525,9.981-46.694,16.75-72.088,19.772c25.929-15.527,45.777-40.155,55.184-69.411c-24.322,14.379-51.169,24.82-79.775,30.48c-22.907-24.437-55.49-39.658-91.63-39.658c-69.334,0-125.551,56.217-125.551,125.513c0,9.828,1.109,19.427,3.251,28.606C197.065,206.32,104.556,156.337,42.641,80.386c-10.823,18.51-16.98,40.078-16.98,63.101c0,43.559,22.181,81.993,55.835,104.479c-20.575-0.688-39.926-6.348-56.867-15.756v1.568c0,60.806,43.291,111.554,100.693,123.104c-10.517,2.83-21.607,4.398-33.08,4.398c-8.107,0-15.947-0.803-23.634-2.333c15.985,49.907,62.336,86.199,117.253,87.194c-42.947,33.654-97.099,53.655-155.916,53.655c-10.134,0-20.116-0.612-29.944-1.721c55.567,35.681,121.536,56.485,192.438,56.485c230.948,0,357.188-191.291,357.188-357.188l-0.421-16.253C573.872,163.526,595.211,141.422,612,116.258z"/></svg></t>'),function(a){a.LANGUAGE="ru",a.i18n={"yesterday at":"  {{time}}","before yesterday":"  {{time}}",days:["","",""],hours:["","",""],minutes:["","",""],seconds:["","",""],time_plural:"{{time}} {{interval}} ",About:" ",Comments:"",New:"",Popular:"",Quotes:"",Code:"  ","Tree View":" ",Login:"",Logout:"","Enter Email":" Email","show more":" ",First:"",Last:"","Attach files":" ",now:" ","Your message is defined as flood":"    ","access denied":"         ","last comments":" ","popular pages":" ","Enter link to the video (YouTube, Vimeo)":"    (YouTube, Vimeo)","Enter link to the Google Presentation":"   Google ","Complain send":" ","Add complaint":" ","ban user":" ","Add accent":" ",hide:"","Need Auth":",   ","Email subscribe":"    email","Show all replies":"  ","Hide replies":" ","Show comment":" ","Hide comment":" ",Compact:"",authorization:"",anonymously:"","Your nick":" ",Send:"",Attach:"",Warning:"","Mark as spam":"",Moderator:"",Reply:"",Delete:"",Edit:"",Context:"","accent comment":"   ",Accent:"",Link:"","Message Pre-Moderate":"    ",Complaint:"",Spam:"",Ban:"",Moderate:"","Message deleted":" ","Comment marked as spam":"   ",more:"",replies:"","Link was copied":" ",image:"",video:"",presentation:"","Enter text":"  ","crossposting to":" ",Category:"","Add comment":"",Cancel:"",Save:"","Close discussion":" ","Enter your message before sending":"    ","long comment":"   . ,      ","comment send":" ","New Comments":" ",close:"",Like:"","Share to Google+":"  Google+","Share to Facebook":"  Facebook","Share to Twitter":"  Twitter","Share to VK":"  VK","no accents":"   ","Comments and accents author":"   ","old browsers":"       ,     HyperComments.              ","Views quotes":"  "}}(HC);HC.WS={"premoderation":false,"template":"index","hypertext":"*","enableParams":false,"plugins":"rss,login,topics,authors,hypercomments,like","limit":20,"status":1,"plan":1,"guest_comments":true,"hc_auth":true,"site_auth":false,"ignored":"img","smile":true,"image":true,"video":true,"presentation":true,"filters":null,"default_filter":null,"hypertext_color":null,"wp_url":null,"reverse":true,"identifier":true,"crossposting":false,"category":null,"pagination":false,"user_online":true,"readonly":false,"profile_link":true,"oracul":true,"cluster":"c1","site":"tychinka52.ru","private_streams":false,"moderatorbox":false,"show_moder":false,"widget_logo":null,"formatting":false};HC.VERSION='268';HC.SVERSION='1';HC.appInit();